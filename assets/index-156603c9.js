function mD(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function gD(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Tf={},yD={get exports(){return Tf},set exports(n){Tf=n}},Mg={},H={},vD={get exports(){return H},set exports(n){H=n}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),xD=Symbol.for("react.portal"),_D=Symbol.for("react.fragment"),AD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),MD=Symbol.for("react.provider"),wD=Symbol.for("react.context"),CD=Symbol.for("react.forward_ref"),ED=Symbol.for("react.suspense"),TD=Symbol.for("react.memo"),bD=Symbol.for("react.lazy"),xw=Symbol.iterator;function PD(n){return n===null||typeof n!="object"?null:(n=xw&&n[xw]||n["@@iterator"],typeof n=="function"?n:null)}var i2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r2=Object.assign,s2={};function Xu(n,e,t){this.props=n,this.context=e,this.refs=s2,this.updater=t||i2}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Xu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function o2(){}o2.prototype=Xu.prototype;function p1(n,e,t){this.props=n,this.context=e,this.refs=s2,this.updater=t||i2}var m1=p1.prototype=new o2;m1.constructor=p1;r2(m1,Xu.prototype);m1.isPureReactComponent=!0;var _w=Array.isArray,a2=Object.prototype.hasOwnProperty,g1={current:null},l2={key:!0,ref:!0,__self:!0,__source:!0};function u2(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)a2.call(e,i)&&!l2.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:fd,type:n,key:s,ref:o,props:r,_owner:g1.current}}function BD(n,e){return{$$typeof:fd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function y1(n){return typeof n=="object"&&n!==null&&n.$$typeof===fd}function RD(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Aw=/\/+/g;function _y(n,e){return typeof n=="object"&&n!==null&&n.key!=null?RD(""+n.key):e.toString(36)}function cm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fd:case xD:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+_y(o,0):i,_w(r)?(t="",n!=null&&(t=n.replace(Aw,"$&/")+"/"),cm(r,e,t,"",function(c){return c})):r!=null&&(y1(r)&&(r=BD(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Aw,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",_w(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+_y(s,a);o+=cm(s,e,t,l,r)}else if(l=PD(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+_y(s,a++),o+=cm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xh(n,e,t){if(n==null)return n;var i=[],r=0;return cm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function LD(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var mi={current:null},fm={transition:null},ID={ReactCurrentDispatcher:mi,ReactCurrentBatchConfig:fm,ReactCurrentOwner:g1};At.Children={map:Xh,forEach:function(n,e,t){Xh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Xh(n,function(){e++}),e},toArray:function(n){return Xh(n,function(e){return e})||[]},only:function(n){if(!y1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=Xu;At.Fragment=_D;At.Profiler=SD;At.PureComponent=p1;At.StrictMode=AD;At.Suspense=ED;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ID;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=r2({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=g1.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)a2.call(e,l)&&!l2.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:fd,type:n.type,key:r,ref:s,props:i,_owner:o}};At.createContext=function(n){return n={$$typeof:wD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:MD,_context:n},n.Consumer=n};At.createElement=u2;At.createFactory=function(n){var e=u2.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:CD,render:n}};At.isValidElement=y1;At.lazy=function(n){return{$$typeof:bD,_payload:{_status:-1,_result:n},_init:LD}};At.memo=function(n,e){return{$$typeof:TD,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=fm.transition;fm.transition={};try{n()}finally{fm.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return mi.current.useCallback(n,e)};At.useContext=function(n){return mi.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return mi.current.useDeferredValue(n)};At.useEffect=function(n,e){return mi.current.useEffect(n,e)};At.useId=function(){return mi.current.useId()};At.useImperativeHandle=function(n,e,t){return mi.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return mi.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return mi.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return mi.current.useMemo(n,e)};At.useReducer=function(n,e,t){return mi.current.useReducer(n,e,t)};At.useRef=function(n){return mi.current.useRef(n)};At.useState=function(n){return mi.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return mi.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return mi.current.useTransition()};At.version="18.2.0";(function(n){n.exports=At})(vD);const us=n2(H),ex=mD({__proto__:null,default:us},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD=H,FD=Symbol.for("react.element"),OD=Symbol.for("react.fragment"),kD=Object.prototype.hasOwnProperty,ND=DD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UD={key:!0,ref:!0,__self:!0,__source:!0};function c2(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)kD.call(e,i)&&!UD.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:FD,type:n,key:s,ref:o,props:r,_owner:ND.current}}Mg.Fragment=OD;Mg.jsx=c2;Mg.jsxs=c2;(function(n){n.exports=Mg})(yD);const CK=Tf.Fragment,et=Tf.jsx,Un=Tf.jsxs;var tx={},Om={},zD={get exports(){return Om},set exports(n){Om=n}},ji={},nx={},GD={get exports(){return nx},set exports(n){nx=n}},f2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var j=O.length;O.push(V);e:for(;0<j;){var ae=j-1>>>1,W=O[ae];if(0<r(W,V))O[ae]=V,O[j]=W,j=ae;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],j=O.pop();if(j!==V){O[0]=j;e:for(var ae=0,W=O.length,ce=W>>>1;ae<ce;){var ye=2*(ae+1)-1,xe=O[ye],$=ye+1,Oe=O[$];if(0>r(xe,j))$<W&&0>r(Oe,xe)?(O[ae]=Oe,O[$]=j,ae=$):(O[ae]=xe,O[ye]=j,ae=ye);else if($<W&&0>r(Oe,j))O[ae]=Oe,O[$]=j,ae=$;else break e}}return V}function r(O,V){var j=O.sortIndex-V.sortIndex;return j!==0?j:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(O){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=O)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function w(O){if(v=!1,M(O),!y)if(t(l)!==null)y=!0,te(b);else{var V=t(c);V!==null&&le(w,V.startTime-O)}}function b(O,V){y=!1,v&&(v=!1,_(E),E=-1),m=!0;var j=p;try{for(M(V),h=t(l);h!==null&&(!(h.expirationTime>V)||O&&!U());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var W=ae(h.expirationTime<=V);V=n.unstable_now(),typeof W=="function"?h.callback=W:h===t(l)&&i(l),M(V)}else i(l);h=t(l)}if(h!==null)var ce=!0;else{var ye=t(c);ye!==null&&le(w,ye.startTime-V),ce=!1}return ce}finally{h=null,p=j,m=!1}}var P=!1,R=null,E=-1,B=5,L=-1;function U(){return!(n.unstable_now()-L<B)}function Z(){if(R!==null){var O=n.unstable_now();L=O;var V=!0;try{V=R(!0,O)}finally{V?J():(P=!1,R=null)}}else P=!1}var J;if(typeof S=="function")J=function(){S(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=Z,J=function(){Y.postMessage(null)}}else J=function(){x(Z,0)};function te(O){R=O,P||(P=!0,J())}function le(O,V){E=x(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(b))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var j=p;p=V;try{return O()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=p;p=O;try{return V()}finally{p=j}},n.unstable_scheduleCallback=function(O,V,j){var ae=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ae+j:ae):j=ae,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,O={id:d++,callback:V,priorityLevel:O,startTime:j,expirationTime:W,sortIndex:-1},j>ae?(O.sortIndex=j,e(c,O),t(l)===null&&O===t(c)&&(v?(_(E),E=-1):v=!0,le(w,j-ae))):(O.sortIndex=W,e(l,O),y||m||(y=!0,te(b))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var V=p;return function(){var j=p;p=V;try{return O.apply(this,arguments)}finally{p=j}}}})(f2);(function(n){n.exports=f2})(GD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=H,Hi=nx;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h2=new Set,bf={};function fl(n,e){bu(n,e),bu(n+"Capture",e)}function bu(n,e){for(bf[n]=e,n=0;n<e.length;n++)h2.add(e[n])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ix=Object.prototype.hasOwnProperty,HD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sw={},Mw={};function VD(n){return ix.call(Mw,n)?!0:ix.call(Sw,n)?!1:HD.test(n)?Mw[n]=!0:(Sw[n]=!0,!1)}function WD(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function jD(n,e,t,i){if(e===null||typeof e>"u"||WD(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Xn[n]=new gi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Xn[e]=new gi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Xn[n]=new gi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Xn[n]=new gi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Xn[n]=new gi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Xn[n]=new gi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Xn[n]=new gi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Xn[n]=new gi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Xn[n]=new gi(n,5,!1,n.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function x1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(v1,x1);Xn[e]=new gi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(v1,x1);Xn[e]=new gi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(v1,x1);Xn[e]=new gi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Xn[n]=new gi(n,1,!1,n.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Xn[n]=new gi(n,1,!1,n.toLowerCase(),null,!0,!0)});function _1(n,e,t,i){var r=Xn.hasOwnProperty(e)?Xn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jD(e,t,r,i)&&(t=null),i||r===null?VD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Zs=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),M1=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),g2=Symbol.for("react.offscreen"),ww=Symbol.iterator;function Ec(n){return n===null||typeof n!="object"?null:(n=ww&&n[ww]||n["@@iterator"],typeof n=="function"?n:null)}var an=Object.assign,Ay;function tf(n){if(Ay===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ay=e&&e[1]||""}return`
`+Ay+n}var Sy=!1;function My(n,e){if(!n||Sy)return"";Sy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?tf(n):""}function JD(n){switch(n.tag){case 5:return tf(n.type);case 16:return tf("Lazy");case 13:return tf("Suspense");case 19:return tf("SuspenseList");case 0:case 2:case 15:return n=My(n.type,!1),n;case 11:return n=My(n.type.render,!1),n;case 1:return n=My(n.type,!0),n;default:return""}}function ax(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tu:return"Fragment";case eu:return"Portal";case rx:return"Profiler";case A1:return"StrictMode";case sx:return"Suspense";case ox:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m2:return(n.displayName||"Context")+".Consumer";case p2:return(n._context.displayName||"Context")+".Provider";case S1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M1:return e=n.displayName||null,e!==null?e:ax(n.type)||"Memo";case So:e=n._payload,n=n._init;try{return ax(n(e))}catch{}}return null}function XD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ax(e);case 8:return e===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function y2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KD(n){var e=y2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Yh(n){n._valueTracker||(n._valueTracker=KD(n))}function v2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=y2(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function km(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function lx(n,e){var t=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Cw(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ho(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x2(n,e){e=e.checked,e!=null&&_1(n,"checked",e,!1)}function ux(n,e){x2(n,e);var t=Ho(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cx(n,e.type,t):e.hasOwnProperty("defaultValue")&&cx(n,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ew(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cx(n,e,t){(e!=="number"||km(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var nf=Array.isArray;function xu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ho(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function fx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Tw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(nf(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ho(t)}}function _2(n,e){var t=Ho(e.value),i=Ho(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function bw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function A2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?A2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qh,S2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Pf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YD=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(n){YD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lf[e]=lf[n]})});function M2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||lf.hasOwnProperty(n)&&lf[n]?(""+e).trim():e+"px"}function w2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=M2(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var QD=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hx(n,e){if(e){if(QD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function px(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mx=null;function w1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gx=null,_u=null,Au=null;function Pw(n){if(n=pd(n)){if(typeof gx!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=bg(e),gx(n.stateNode,n.type,e))}}function C2(n){_u?Au?Au.push(n):Au=[n]:_u=n}function E2(){if(_u){var n=_u,e=Au;if(Au=_u=null,Pw(n),e)for(n=0;n<e.length;n++)Pw(e[n])}}function T2(n,e){return n(e)}function b2(){}var wy=!1;function P2(n,e,t){if(wy)return n(e,t);wy=!0;try{return T2(n,e,t)}finally{wy=!1,(_u!==null||Au!==null)&&(b2(),E2())}}function Bf(n,e){var t=n.stateNode;if(t===null)return null;var i=bg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var yx=!1;if(Ws)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){yx=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{yx=!1}function ZD(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var uf=!1,Nm=null,Um=!1,vx=null,qD={onError:function(n){uf=!0,Nm=n}};function $D(n,e,t,i,r,s,o,a,l){uf=!1,Nm=null,ZD.apply(qD,arguments)}function eF(n,e,t,i,r,s,o,a,l){if($D.apply(this,arguments),uf){if(uf){var c=Nm;uf=!1,Nm=null}else throw Error(Me(198));Um||(Um=!0,vx=c)}}function dl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function B2(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Bw(n){if(dl(n)!==n)throw Error(Me(188))}function tF(n){var e=n.alternate;if(!e){if(e=dl(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Bw(r),n;if(s===i)return Bw(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function R2(n){return n=tF(n),n!==null?L2(n):null}function L2(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=L2(n);if(e!==null)return e;n=n.sibling}return null}var I2=Hi.unstable_scheduleCallback,Rw=Hi.unstable_cancelCallback,nF=Hi.unstable_shouldYield,iF=Hi.unstable_requestPaint,vn=Hi.unstable_now,rF=Hi.unstable_getCurrentPriorityLevel,C1=Hi.unstable_ImmediatePriority,D2=Hi.unstable_UserBlockingPriority,zm=Hi.unstable_NormalPriority,sF=Hi.unstable_LowPriority,F2=Hi.unstable_IdlePriority,wg=null,ts=null;function oF(n){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(wg,n,void 0,(n.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:uF,aF=Math.log,lF=Math.LN2;function uF(n){return n>>>=0,n===0?32:31-(aF(n)/lF|0)|0}var Zh=64,qh=4194304;function rf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Gm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=rf(a):(s&=o,s!==0&&(i=rf(s)))}else o=t&~r,o!==0?i=rf(o):s!==0&&(i=rf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Lr(e),r=1<<t,i|=n[t],e&=~r;return i}function cF(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fF(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Lr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=cF(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function xx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function O2(){var n=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),n}function Cy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function dd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Lr(e),n[e]=t}function dF(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Lr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function E1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Lr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ot=0;function k2(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var N2,T1,U2,z2,G2,_x=!1,$h=[],Lo=null,Io=null,Do=null,Rf=new Map,Lf=new Map,Eo=[],hF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(n,e){switch(n){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Rf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lf.delete(e.pointerId)}}function bc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=pd(e),e!==null&&T1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function pF(n,e,t,i,r){switch(e){case"focusin":return Lo=bc(Lo,n,e,t,i,r),!0;case"dragenter":return Io=bc(Io,n,e,t,i,r),!0;case"mouseover":return Do=bc(Do,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Rf.set(s,bc(Rf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Lf.set(s,bc(Lf.get(s)||null,n,e,t,i,r)),!0}return!1}function H2(n){var e=ka(n.target);if(e!==null){var t=dl(e);if(t!==null){if(e=t.tag,e===13){if(e=B2(t),e!==null){n.blockedOn=e,G2(n.priority,function(){U2(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ax(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);mx=i,t.target.dispatchEvent(i),mx=null}else return e=pd(t),e!==null&&T1(e),n.blockedOn=t,!1;e.shift()}return!0}function Iw(n,e,t){dm(n)&&t.delete(e)}function mF(){_x=!1,Lo!==null&&dm(Lo)&&(Lo=null),Io!==null&&dm(Io)&&(Io=null),Do!==null&&dm(Do)&&(Do=null),Rf.forEach(Iw),Lf.forEach(Iw)}function Pc(n,e){n.blockedOn===e&&(n.blockedOn=null,_x||(_x=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,mF)))}function If(n){function e(r){return Pc(r,n)}if(0<$h.length){Pc($h[0],n);for(var t=1;t<$h.length;t++){var i=$h[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Lo!==null&&Pc(Lo,n),Io!==null&&Pc(Io,n),Do!==null&&Pc(Do,n),Rf.forEach(e),Lf.forEach(e),t=0;t<Eo.length;t++)i=Eo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Eo.length&&(t=Eo[0],t.blockedOn===null);)H2(t),t.blockedOn===null&&Eo.shift()}var Su=Zs.ReactCurrentBatchConfig,Hm=!0;function gF(n,e,t,i){var r=Ot,s=Su.transition;Su.transition=null;try{Ot=1,b1(n,e,t,i)}finally{Ot=r,Su.transition=s}}function yF(n,e,t,i){var r=Ot,s=Su.transition;Su.transition=null;try{Ot=4,b1(n,e,t,i)}finally{Ot=r,Su.transition=s}}function b1(n,e,t,i){if(Hm){var r=Ax(n,e,t,i);if(r===null)Fy(n,e,i,Vm,t),Lw(n,i);else if(pF(r,n,e,t,i))i.stopPropagation();else if(Lw(n,i),e&4&&-1<hF.indexOf(n)){for(;r!==null;){var s=pd(r);if(s!==null&&N2(s),s=Ax(n,e,t,i),s===null&&Fy(n,e,i,Vm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fy(n,e,i,null,t)}}var Vm=null;function Ax(n,e,t,i){if(Vm=null,n=w1(i),n=ka(n),n!==null)if(e=dl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=B2(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Vm=n,null}function V2(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rF()){case C1:return 1;case D2:return 4;case zm:case sF:return 16;case F2:return 536870912;default:return 16}default:return 16}}var bo=null,P1=null,hm=null;function W2(){if(hm)return hm;var n,e=P1,t=e.length,i,r="value"in bo?bo.value:bo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return hm=r.slice(n,1<i?1-i:void 0)}function pm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ep(){return!0}function Dw(){return!1}function Ji(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:Dw,this.isPropagationStopped=Dw,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=Ji(Ku),hd=an({},Ku,{view:0,detail:0}),vF=Ji(hd),Ey,Ty,Bc,Cg=an({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bc&&(Bc&&n.type==="mousemove"?(Ey=n.screenX-Bc.screenX,Ty=n.screenY-Bc.screenY):Ty=Ey=0,Bc=n),Ey)},movementY:function(n){return"movementY"in n?n.movementY:Ty}}),Fw=Ji(Cg),xF=an({},Cg,{dataTransfer:0}),_F=Ji(xF),AF=an({},hd,{relatedTarget:0}),by=Ji(AF),SF=an({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),MF=Ji(SF),wF=an({},Ku,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CF=Ji(wF),EF=an({},Ku,{data:0}),Ow=Ji(EF),TF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BF(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PF[n])?!!e[n]:!1}function R1(){return BF}var RF=an({},hd,{key:function(n){if(n.key){var e=TF[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=pm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R1,charCode:function(n){return n.type==="keypress"?pm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LF=Ji(RF),IF=an({},Cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=Ji(IF),DF=an({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R1}),FF=Ji(DF),OF=an({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),kF=Ji(OF),NF=an({},Cg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),UF=Ji(NF),zF=[9,13,27,32],L1=Ws&&"CompositionEvent"in window,cf=null;Ws&&"documentMode"in document&&(cf=document.documentMode);var GF=Ws&&"TextEvent"in window&&!cf,j2=Ws&&(!L1||cf&&8<cf&&11>=cf),Nw=String.fromCharCode(32),Uw=!1;function J2(n,e){switch(n){case"keyup":return zF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nu=!1;function HF(n,e){switch(n){case"compositionend":return X2(e);case"keypress":return e.which!==32?null:(Uw=!0,Nw);case"textInput":return n=e.data,n===Nw&&Uw?null:n;default:return null}}function VF(n,e){if(nu)return n==="compositionend"||!L1&&J2(n,e)?(n=W2(),hm=P1=bo=null,nu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j2&&e.locale!=="ko"?null:e.data;default:return null}}var WF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!WF[n.type]:e==="textarea"}function K2(n,e,t,i){C2(i),e=Wm(e,"onChange"),0<e.length&&(t=new B1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var ff=null,Df=null;function jF(n){sP(n,0)}function Eg(n){var e=su(n);if(v2(e))return n}function JF(n,e){if(n==="change")return e}var Y2=!1;if(Ws){var Py;if(Ws){var By="oninput"in document;if(!By){var Gw=document.createElement("div");Gw.setAttribute("oninput","return;"),By=typeof Gw.oninput=="function"}Py=By}else Py=!1;Y2=Py&&(!document.documentMode||9<document.documentMode)}function Hw(){ff&&(ff.detachEvent("onpropertychange",Q2),Df=ff=null)}function Q2(n){if(n.propertyName==="value"&&Eg(Df)){var e=[];K2(e,Df,n,w1(n)),P2(jF,e)}}function XF(n,e,t){n==="focusin"?(Hw(),ff=e,Df=t,ff.attachEvent("onpropertychange",Q2)):n==="focusout"&&Hw()}function KF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Eg(Df)}function YF(n,e){if(n==="click")return Eg(e)}function QF(n,e){if(n==="input"||n==="change")return Eg(e)}function ZF(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Or=typeof Object.is=="function"?Object.is:ZF;function Ff(n,e){if(Or(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!ix.call(e,r)||!Or(n[r],e[r]))return!1}return!0}function Vw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ww(n,e){var t=Vw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Vw(t)}}function Z2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Z2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function q2(){for(var n=window,e=km();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=km(n.document)}return e}function I1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function qF(n){var e=q2(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Z2(t.ownerDocument.documentElement,t)){if(i!==null&&I1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Ww(t,s);var o=Ww(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $F=Ws&&"documentMode"in document&&11>=document.documentMode,iu=null,Sx=null,df=null,Mx=!1;function jw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Mx||iu==null||iu!==km(i)||(i=iu,"selectionStart"in i&&I1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),df&&Ff(df,i)||(df=i,i=Wm(Sx,"onSelect"),0<i.length&&(e=new B1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=iu)))}function tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ru={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},Ry={},$2={};Ws&&($2=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Tg(n){if(Ry[n])return Ry[n];if(!ru[n])return n;var e=ru[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $2)return Ry[n]=e[t];return n}var eP=Tg("animationend"),tP=Tg("animationiteration"),nP=Tg("animationstart"),iP=Tg("transitionend"),rP=new Map,Jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(n,e){rP.set(n,e),fl(e,[n])}for(var Ly=0;Ly<Jw.length;Ly++){var Iy=Jw[Ly],eO=Iy.toLowerCase(),tO=Iy[0].toUpperCase()+Iy.slice(1);qo(eO,"on"+tO)}qo(eP,"onAnimationEnd");qo(tP,"onAnimationIteration");qo(nP,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(iP,"onTransitionEnd");bu("onMouseEnter",["mouseout","mouseover"]);bu("onMouseLeave",["mouseout","mouseover"]);bu("onPointerEnter",["pointerout","pointerover"]);bu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sf));function Xw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,eF(i,e,void 0,n),n.currentTarget=null}function sP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Xw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Xw(r,a,c),s=l}}}if(Um)throw n=vx,Um=!1,vx=null,n}function Vt(n,e){var t=e[bx];t===void 0&&(t=e[bx]=new Set);var i=n+"__bubble";t.has(i)||(oP(e,n,2,!1),t.add(i))}function Dy(n,e,t){var i=0;e&&(i|=4),oP(t,n,i,e)}var np="_reactListening"+Math.random().toString(36).slice(2);function Of(n){if(!n[np]){n[np]=!0,h2.forEach(function(t){t!=="selectionchange"&&(nO.has(t)||Dy(t,!1,n),Dy(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[np]||(e[np]=!0,Dy("selectionchange",!1,e))}}function oP(n,e,t,i){switch(V2(e)){case 1:var r=gF;break;case 4:r=yF;break;default:r=b1}t=r.bind(null,e,t,n),r=void 0,!yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Fy(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ka(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}P2(function(){var c=s,d=w1(t),h=[];e:{var p=rP.get(n);if(p!==void 0){var m=B1,y=n;switch(n){case"keypress":if(pm(t)===0)break e;case"keydown":case"keyup":m=LF;break;case"focusin":y="focus",m=by;break;case"focusout":y="blur",m=by;break;case"beforeblur":case"afterblur":m=by;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_F;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FF;break;case eP:case tP:case nP:m=MF;break;case iP:m=kF;break;case"scroll":m=vF;break;case"wheel":m=UF;break;case"copy":case"cut":case"paste":m=CF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kw}var v=(e&4)!==0,x=!v&&n==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var S=c,M;S!==null;){M=S;var w=M.stateNode;if(M.tag===5&&w!==null&&(M=w,_!==null&&(w=Bf(S,_),w!=null&&v.push(kf(S,w,M)))),x)break;S=S.return}0<v.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==mx&&(y=t.relatedTarget||t.fromElement)&&(ka(y)||y[js]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?ka(y):null,y!==null&&(x=dl(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=Fw,w="onMouseLeave",_="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(v=kw,w="onPointerLeave",_="onPointerEnter",S="pointer"),x=m==null?p:su(m),M=y==null?p:su(y),p=new v(w,S+"leave",m,t,d),p.target=x,p.relatedTarget=M,w=null,ka(d)===c&&(v=new v(_,S+"enter",y,t,d),v.target=M,v.relatedTarget=x,w=v),x=w,m&&y)t:{for(v=m,_=y,S=0,M=v;M;M=Ll(M))S++;for(M=0,w=_;w;w=Ll(w))M++;for(;0<S-M;)v=Ll(v),S--;for(;0<M-S;)_=Ll(_),M--;for(;S--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ll(v),_=Ll(_)}v=null}else v=null;m!==null&&Kw(h,p,m,v,!1),y!==null&&x!==null&&Kw(h,x,y,v,!0)}}e:{if(p=c?su(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=JF;else if(zw(p))if(Y2)b=QF;else{b=KF;var P=XF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=YF);if(b&&(b=b(n,c))){K2(h,b,t,d);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&cx(p,"number",p.value)}switch(P=c?su(c):window,n){case"focusin":(zw(P)||P.contentEditable==="true")&&(iu=P,Sx=c,df=null);break;case"focusout":df=Sx=iu=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,jw(h,t,d);break;case"selectionchange":if($F)break;case"keydown":case"keyup":jw(h,t,d)}var R;if(L1)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else nu?J2(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(j2&&t.locale!=="ko"&&(nu||E!=="onCompositionStart"?E==="onCompositionEnd"&&nu&&(R=W2()):(bo=d,P1="value"in bo?bo.value:bo.textContent,nu=!0)),P=Wm(c,E),0<P.length&&(E=new Ow(E,n,null,t,d),h.push({event:E,listeners:P}),R?E.data=R:(R=X2(t),R!==null&&(E.data=R)))),(R=GF?HF(n,t):VF(n,t))&&(c=Wm(c,"onBeforeInput"),0<c.length&&(d=new Ow("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=R))}sP(h,e)})}function kf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Wm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Bf(n,t),s!=null&&i.unshift(kf(n,s,r)),s=Bf(n,e),s!=null&&i.push(kf(n,s,r))),n=n.return}return i}function Ll(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Kw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Bf(t,s),l!=null&&o.unshift(kf(t,l,a))):r||(l=Bf(t,s),l!=null&&o.push(kf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var iO=/\r\n?/g,rO=/\u0000|\uFFFD/g;function Yw(n){return(typeof n=="string"?n:""+n).replace(iO,`
`).replace(rO,"")}function ip(n,e,t){if(e=Yw(e),Yw(n)!==e&&t)throw Error(Me(425))}function jm(){}var wx=null,Cx=null;function Ex(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,sO=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(n){return Qw.resolve(null).then(n).catch(aO)}:Tx;function aO(n){setTimeout(function(){throw n})}function Oy(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),If(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);If(e)}function Fo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Zw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),es="__reactFiber$"+Yu,Nf="__reactProps$"+Yu,js="__reactContainer$"+Yu,bx="__reactEvents$"+Yu,lO="__reactListeners$"+Yu,uO="__reactHandles$"+Yu;function ka(n){var e=n[es];if(e)return e;for(var t=n.parentNode;t;){if(e=t[js]||t[es]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Zw(n);n!==null;){if(t=n[es])return t;n=Zw(n)}return e}n=t,t=n.parentNode}return null}function pd(n){return n=n[es]||n[js],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function su(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function bg(n){return n[Nf]||null}var Px=[],ou=-1;function $o(n){return{current:n}}function Wt(n){0>ou||(n.current=Px[ou],Px[ou]=null,ou--)}function Gt(n,e){ou++,Px[ou]=n.current,n.current=e}var Vo={},ii=$o(Vo),Ei=$o(!1),nl=Vo;function Pu(n,e){var t=n.type.contextTypes;if(!t)return Vo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ti(n){return n=n.childContextTypes,n!=null}function Jm(){Wt(Ei),Wt(ii)}function qw(n,e,t){if(ii.current!==Vo)throw Error(Me(168));Gt(ii,e),Gt(Ei,t)}function aP(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,XD(n)||"Unknown",r));return an({},t,i)}function Xm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Vo,nl=ii.current,Gt(ii,n),Gt(Ei,Ei.current),!0}function $w(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=aP(n,e,nl),i.__reactInternalMemoizedMergedChildContext=n,Wt(Ei),Wt(ii),Gt(ii,n)):Wt(Ei),Gt(Ei,t)}var Bs=null,Pg=!1,ky=!1;function lP(n){Bs===null?Bs=[n]:Bs.push(n)}function cO(n){Pg=!0,lP(n)}function ea(){if(!ky&&Bs!==null){ky=!0;var n=0,e=Ot;try{var t=Bs;for(Ot=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Bs=null,Pg=!1}catch(r){throw Bs!==null&&(Bs=Bs.slice(n+1)),I2(C1,ea),r}finally{Ot=e,ky=!1}}return null}var au=[],lu=0,Km=null,Ym=0,cr=[],fr=0,il=null,Ds=1,Fs="";function Ta(n,e){au[lu++]=Ym,au[lu++]=Km,Km=n,Ym=e}function uP(n,e,t){cr[fr++]=Ds,cr[fr++]=Fs,cr[fr++]=il,il=n;var i=Ds;n=Fs;var r=32-Lr(i)-1;i&=~(1<<r),t+=1;var s=32-Lr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ds=1<<32-Lr(e)+r|t<<r|i,Fs=s+n}else Ds=1<<s|t<<r|i,Fs=n}function D1(n){n.return!==null&&(Ta(n,1),uP(n,1,0))}function F1(n){for(;n===Km;)Km=au[--lu],au[lu]=null,Ym=au[--lu],au[lu]=null;for(;n===il;)il=cr[--fr],cr[fr]=null,Fs=cr[--fr],cr[fr]=null,Ds=cr[--fr],cr[fr]=null}var zi=null,Ni=null,Yt=!1,Pr=null;function cP(n,e){var t=hr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function eC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zi=n,Ni=Fo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zi=n,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=il!==null?{id:Ds,overflow:Fs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zi=n,Ni=null,!0):!1;default:return!1}}function Bx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rx(n){if(Yt){var e=Ni;if(e){var t=e;if(!eC(n,e)){if(Bx(n))throw Error(Me(418));e=Fo(t.nextSibling);var i=zi;e&&eC(n,e)?cP(i,t):(n.flags=n.flags&-4097|2,Yt=!1,zi=n)}}else{if(Bx(n))throw Error(Me(418));n.flags=n.flags&-4097|2,Yt=!1,zi=n}}}function tC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zi=n}function rp(n){if(n!==zi)return!1;if(!Yt)return tC(n),Yt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ex(n.type,n.memoizedProps)),e&&(e=Ni)){if(Bx(n))throw fP(),Error(Me(418));for(;e;)cP(n,e),e=Fo(e.nextSibling)}if(tC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ni=Fo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ni=null}}else Ni=zi?Fo(n.stateNode.nextSibling):null;return!0}function fP(){for(var n=Ni;n;)n=Fo(n.nextSibling)}function Bu(){Ni=zi=null,Yt=!1}function O1(n){Pr===null?Pr=[n]:Pr.push(n)}var fO=Zs.ReactCurrentBatchConfig;function Er(n,e){if(n&&n.defaultProps){e=an({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Qm=$o(null),Zm=null,uu=null,k1=null;function N1(){k1=uu=Zm=null}function U1(n){var e=Qm.current;Wt(Qm),n._currentValue=e}function Lx(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Mu(n,e){Zm=n,k1=uu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ci=!0),n.firstContext=null)}function gr(n){var e=n._currentValue;if(k1!==n)if(n={context:n,memoizedValue:e,next:null},uu===null){if(Zm===null)throw Error(Me(308));uu=n,Zm.dependencies={lanes:0,firstContext:n}}else uu=uu.next=n;return e}var Na=null;function z1(n){Na===null?Na=[n]:Na.push(n)}function dP(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,z1(e)):(t.next=r.next,r.next=t),e.interleaved=t,Js(n,i)}function Js(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Mo=!1;function G1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hP(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function zs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Oo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,bt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Js(n,t)}return r=i.interleaved,r===null?(e.next=e,z1(i)):(e.next=r.next,r.next=e),i.interleaved=e,Js(n,t)}function mm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,E1(n,t)}}function nC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qm(n,e,t,i){var r=n.updateQueue;Mo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=an({},h,p);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);sl|=o,n.lanes=o,n.memoizedState=h}}function iC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var pP=new d2.Component().refs;function Ix(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:an({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Bg={isMounted:function(n){return(n=n._reactInternals)?dl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=hi(),r=No(n),s=zs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Oo(n,s,r),e!==null&&(Ir(e,n,r,i),mm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=hi(),r=No(n),s=zs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Oo(n,s,r),e!==null&&(Ir(e,n,r,i),mm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=hi(),i=No(n),r=zs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Oo(n,r,i),e!==null&&(Ir(e,n,i,t),mm(e,n,i))}};function rC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ff(t,i)||!Ff(r,s):!0}function mP(n,e,t){var i=!1,r=Vo,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(r=Ti(e)?nl:ii.current,i=e.contextTypes,s=(i=i!=null)?Pu(n,r):Vo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function sC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Bg.enqueueReplaceState(e,e.state,null)}function Dx(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=pP,G1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=gr(s):(s=Ti(e)?nl:ii.current,r.context=Pu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ix(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Bg.enqueueReplaceState(r,r.state,null),qm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Rc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===pP&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function sp(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function oC(n){var e=n._init;return e(n._payload)}function gP(n){function e(_,S){if(n){var M=_.deletions;M===null?(_.deletions=[S],_.flags|=16):M.push(S)}}function t(_,S){if(!n)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function i(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function r(_,S){return _=Uo(_,S),_.index=0,_.sibling=null,_}function s(_,S,M){return _.index=M,n?(M=_.alternate,M!==null?(M=M.index,M<S?(_.flags|=2,S):M):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,S,M,w){return S===null||S.tag!==6?(S=Wy(M,_.mode,w),S.return=_,S):(S=r(S,M),S.return=_,S)}function l(_,S,M,w){var b=M.type;return b===tu?d(_,S,M.props.children,w,M.key):S!==null&&(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===So&&oC(b)===S.type)?(w=r(S,M.props),w.ref=Rc(_,S,M),w.return=_,w):(w=Am(M.type,M.key,M.props,null,_.mode,w),w.ref=Rc(_,S,M),w.return=_,w)}function c(_,S,M,w){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=jy(M,_.mode,w),S.return=_,S):(S=r(S,M.children||[]),S.return=_,S)}function d(_,S,M,w,b){return S===null||S.tag!==7?(S=Ka(M,_.mode,w,b),S.return=_,S):(S=r(S,M),S.return=_,S)}function h(_,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Wy(""+S,_.mode,M),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kh:return M=Am(S.type,S.key,S.props,null,_.mode,M),M.ref=Rc(_,null,S),M.return=_,M;case eu:return S=jy(S,_.mode,M),S.return=_,S;case So:var w=S._init;return h(_,w(S._payload),M)}if(nf(S)||Ec(S))return S=Ka(S,_.mode,M,null),S.return=_,S;sp(_,S)}return null}function p(_,S,M,w){var b=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return b!==null?null:a(_,S,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Kh:return M.key===b?l(_,S,M,w):null;case eu:return M.key===b?c(_,S,M,w):null;case So:return b=M._init,p(_,S,b(M._payload),w)}if(nf(M)||Ec(M))return b!==null?null:d(_,S,M,w,null);sp(_,M)}return null}function m(_,S,M,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(M)||null,a(S,_,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kh:return _=_.get(w.key===null?M:w.key)||null,l(S,_,w,b);case eu:return _=_.get(w.key===null?M:w.key)||null,c(S,_,w,b);case So:var P=w._init;return m(_,S,M,P(w._payload),b)}if(nf(w)||Ec(w))return _=_.get(M)||null,d(S,_,w,b,null);sp(S,w)}return null}function y(_,S,M,w){for(var b=null,P=null,R=S,E=S=0,B=null;R!==null&&E<M.length;E++){R.index>E?(B=R,R=null):B=R.sibling;var L=p(_,R,M[E],w);if(L===null){R===null&&(R=B);break}n&&R&&L.alternate===null&&e(_,R),S=s(L,S,E),P===null?b=L:P.sibling=L,P=L,R=B}if(E===M.length)return t(_,R),Yt&&Ta(_,E),b;if(R===null){for(;E<M.length;E++)R=h(_,M[E],w),R!==null&&(S=s(R,S,E),P===null?b=R:P.sibling=R,P=R);return Yt&&Ta(_,E),b}for(R=i(_,R);E<M.length;E++)B=m(R,_,E,M[E],w),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?E:B.key),S=s(B,S,E),P===null?b=B:P.sibling=B,P=B);return n&&R.forEach(function(U){return e(_,U)}),Yt&&Ta(_,E),b}function v(_,S,M,w){var b=Ec(M);if(typeof b!="function")throw Error(Me(150));if(M=b.call(M),M==null)throw Error(Me(151));for(var P=b=null,R=S,E=S=0,B=null,L=M.next();R!==null&&!L.done;E++,L=M.next()){R.index>E?(B=R,R=null):B=R.sibling;var U=p(_,R,L.value,w);if(U===null){R===null&&(R=B);break}n&&R&&U.alternate===null&&e(_,R),S=s(U,S,E),P===null?b=U:P.sibling=U,P=U,R=B}if(L.done)return t(_,R),Yt&&Ta(_,E),b;if(R===null){for(;!L.done;E++,L=M.next())L=h(_,L.value,w),L!==null&&(S=s(L,S,E),P===null?b=L:P.sibling=L,P=L);return Yt&&Ta(_,E),b}for(R=i(_,R);!L.done;E++,L=M.next())L=m(R,_,E,L.value,w),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?E:L.key),S=s(L,S,E),P===null?b=L:P.sibling=L,P=L);return n&&R.forEach(function(Z){return e(_,Z)}),Yt&&Ta(_,E),b}function x(_,S,M,w){if(typeof M=="object"&&M!==null&&M.type===tu&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Kh:e:{for(var b=M.key,P=S;P!==null;){if(P.key===b){if(b=M.type,b===tu){if(P.tag===7){t(_,P.sibling),S=r(P,M.props.children),S.return=_,_=S;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===So&&oC(b)===P.type){t(_,P.sibling),S=r(P,M.props),S.ref=Rc(_,P,M),S.return=_,_=S;break e}t(_,P);break}else e(_,P);P=P.sibling}M.type===tu?(S=Ka(M.props.children,_.mode,w,M.key),S.return=_,_=S):(w=Am(M.type,M.key,M.props,null,_.mode,w),w.ref=Rc(_,S,M),w.return=_,_=w)}return o(_);case eu:e:{for(P=M.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){t(_,S.sibling),S=r(S,M.children||[]),S.return=_,_=S;break e}else{t(_,S);break}else e(_,S);S=S.sibling}S=jy(M,_.mode,w),S.return=_,_=S}return o(_);case So:return P=M._init,x(_,S,P(M._payload),w)}if(nf(M))return y(_,S,M,w);if(Ec(M))return v(_,S,M,w);sp(_,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(t(_,S.sibling),S=r(S,M),S.return=_,_=S):(t(_,S),S=Wy(M,_.mode,w),S.return=_,_=S),o(_)):t(_,S)}return x}var Ru=gP(!0),yP=gP(!1),md={},ns=$o(md),Uf=$o(md),zf=$o(md);function Ua(n){if(n===md)throw Error(Me(174));return n}function H1(n,e){switch(Gt(zf,e),Gt(Uf,n),Gt(ns,md),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dx(e,n)}Wt(ns),Gt(ns,e)}function Lu(){Wt(ns),Wt(Uf),Wt(zf)}function vP(n){Ua(zf.current);var e=Ua(ns.current),t=dx(e,n.type);e!==t&&(Gt(Uf,n),Gt(ns,t))}function V1(n){Uf.current===n&&(Wt(ns),Wt(Uf))}var tn=$o(0);function $m(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ny=[];function W1(){for(var n=0;n<Ny.length;n++)Ny[n]._workInProgressVersionPrimary=null;Ny.length=0}var gm=Zs.ReactCurrentDispatcher,Uy=Zs.ReactCurrentBatchConfig,rl=0,on=null,bn=null,Nn=null,eg=!1,hf=!1,Gf=0,dO=0;function qn(){throw Error(Me(321))}function j1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Or(n[t],e[t]))return!1;return!0}function J1(n,e,t,i,r,s){if(rl=s,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gm.current=n===null||n.memoizedState===null?gO:yO,n=t(i,r),hf){s=0;do{if(hf=!1,Gf=0,25<=s)throw Error(Me(301));s+=1,Nn=bn=null,e.updateQueue=null,gm.current=vO,n=t(i,r)}while(hf)}if(gm.current=tg,e=bn!==null&&bn.next!==null,rl=0,Nn=bn=on=null,eg=!1,e)throw Error(Me(300));return n}function X1(){var n=Gf!==0;return Gf=0,n}function Zr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?on.memoizedState=Nn=n:Nn=Nn.next=n,Nn}function yr(){if(bn===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=bn.next;var e=Nn===null?on.memoizedState:Nn.next;if(e!==null)Nn=e,bn=n;else{if(n===null)throw Error(Me(310));bn=n,n={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Nn===null?on.memoizedState=Nn=n:Nn=Nn.next=n}return Nn}function Hf(n,e){return typeof e=="function"?e(n):e}function zy(n){var e=yr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=bn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((rl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,on.lanes|=d,sl|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Or(i,e.memoizedState)||(Ci=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,on.lanes|=s,sl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Gy(n){var e=yr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Or(s,e.memoizedState)||(Ci=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function xP(){}function _P(n,e){var t=on,i=yr(),r=e(),s=!Or(i.memoizedState,r);if(s&&(i.memoizedState=r,Ci=!0),i=i.queue,K1(MP.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Nn!==null&&Nn.memoizedState.tag&1){if(t.flags|=2048,Vf(9,SP.bind(null,t,i,r,e),void 0,null),Gn===null)throw Error(Me(349));rl&30||AP(t,e,r)}return r}function AP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function SP(n,e,t,i){e.value=t,e.getSnapshot=i,wP(e)&&CP(n)}function MP(n,e,t){return t(function(){wP(e)&&CP(n)})}function wP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Or(n,t)}catch{return!0}}function CP(n){var e=Js(n,1);e!==null&&Ir(e,n,1,-1)}function aC(n){var e=Zr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:n},e.queue=n,n=n.dispatch=mO.bind(null,on,n),[e.memoizedState,n]}function Vf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function EP(){return yr().memoizedState}function ym(n,e,t,i){var r=Zr();on.flags|=n,r.memoizedState=Vf(1|e,t,void 0,i===void 0?null:i)}function Rg(n,e,t,i){var r=yr();i=i===void 0?null:i;var s=void 0;if(bn!==null){var o=bn.memoizedState;if(s=o.destroy,i!==null&&j1(i,o.deps)){r.memoizedState=Vf(e,t,s,i);return}}on.flags|=n,r.memoizedState=Vf(1|e,t,s,i)}function lC(n,e){return ym(8390656,8,n,e)}function K1(n,e){return Rg(2048,8,n,e)}function TP(n,e){return Rg(4,2,n,e)}function bP(n,e){return Rg(4,4,n,e)}function PP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function BP(n,e,t){return t=t!=null?t.concat([n]):null,Rg(4,4,PP.bind(null,e,n),t)}function Y1(){}function RP(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&j1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function LP(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&j1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function IP(n,e,t){return rl&21?(Or(t,e)||(t=O2(),on.lanes|=t,sl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ci=!0),n.memoizedState=t)}function hO(n,e){var t=Ot;Ot=t!==0&&4>t?t:4,n(!0);var i=Uy.transition;Uy.transition={};try{n(!1),e()}finally{Ot=t,Uy.transition=i}}function DP(){return yr().memoizedState}function pO(n,e,t){var i=No(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},FP(n))OP(e,t);else if(t=dP(n,e,t,i),t!==null){var r=hi();Ir(t,n,i,r),kP(t,e,i)}}function mO(n,e,t){var i=No(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(FP(n))OP(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(r.next=r,z1(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=dP(n,e,r,i),t!==null&&(r=hi(),Ir(t,n,i,r),kP(t,e,i))}}function FP(n){var e=n.alternate;return n===on||e!==null&&e===on}function OP(n,e){hf=eg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kP(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,E1(n,t)}}var tg={readContext:gr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},gO={readContext:gr,useCallback:function(n,e){return Zr().memoizedState=[n,e===void 0?null:e],n},useContext:gr,useEffect:lC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ym(4194308,4,PP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ym(4194308,4,n,e)},useInsertionEffect:function(n,e){return ym(4,2,n,e)},useMemo:function(n,e){var t=Zr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Zr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=pO.bind(null,on,n),[i.memoizedState,n]},useRef:function(n){var e=Zr();return n={current:n},e.memoizedState=n},useState:aC,useDebugValue:Y1,useDeferredValue:function(n){return Zr().memoizedState=n},useTransition:function(){var n=aC(!1),e=n[0];return n=hO.bind(null,n[1]),Zr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=on,r=Zr();if(Yt){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),Gn===null)throw Error(Me(349));rl&30||AP(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,lC(MP.bind(null,i,s,n),[n]),i.flags|=2048,Vf(9,SP.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Zr(),e=Gn.identifierPrefix;if(Yt){var t=Fs,i=Ds;t=(i&~(1<<32-Lr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Gf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dO++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},yO={readContext:gr,useCallback:RP,useContext:gr,useEffect:K1,useImperativeHandle:BP,useInsertionEffect:TP,useLayoutEffect:bP,useMemo:LP,useReducer:zy,useRef:EP,useState:function(){return zy(Hf)},useDebugValue:Y1,useDeferredValue:function(n){var e=yr();return IP(e,bn.memoizedState,n)},useTransition:function(){var n=zy(Hf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:xP,useSyncExternalStore:_P,useId:DP,unstable_isNewReconciler:!1},vO={readContext:gr,useCallback:RP,useContext:gr,useEffect:K1,useImperativeHandle:BP,useInsertionEffect:TP,useLayoutEffect:bP,useMemo:LP,useReducer:Gy,useRef:EP,useState:function(){return Gy(Hf)},useDebugValue:Y1,useDeferredValue:function(n){var e=yr();return bn===null?e.memoizedState=n:IP(e,bn.memoizedState,n)},useTransition:function(){var n=Gy(Hf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:xP,useSyncExternalStore:_P,useId:DP,unstable_isNewReconciler:!1};function Iu(n,e){try{var t="",i=e;do t+=JD(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Hy(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Fx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function NP(n,e,t){t=zs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){ig||(ig=!0,jx=i),Fx(n,e)},t}function UP(n,e,t){t=zs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Fx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Fx(n,e),typeof i!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function uC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new xO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=IO.bind(null,n,e,t),e.then(n,n))}function cC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function fC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=zs(-1,1),e.tag=2,Oo(t,e,1))),t.lanes|=1),n)}var _O=Zs.ReactCurrentOwner,Ci=!1;function fi(n,e,t,i){e.child=n===null?yP(e,null,t,i):Ru(e,n.child,t,i)}function dC(n,e,t,i,r){t=t.render;var s=e.ref;return Mu(e,r),i=J1(n,e,t,i,s,r),t=X1(),n!==null&&!Ci?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Xs(n,e,r)):(Yt&&t&&D1(e),e.flags|=1,fi(n,e,i,r),e.child)}function hC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!iA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,zP(n,e,s,i,r)):(n=Am(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ff,t(o,i)&&n.ref===e.ref)return Xs(n,e,r)}return e.flags|=1,n=Uo(s,i),n.ref=e.ref,n.return=e,e.child=n}function zP(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ff(s,i)&&n.ref===e.ref)if(Ci=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ci=!0);else return e.lanes=n.lanes,Xs(n,e,r)}return Ox(n,e,t,i,r)}function GP(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(fu,ki),ki|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Gt(fu,ki),ki|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Gt(fu,ki),ki|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Gt(fu,ki),ki|=i;return fi(n,e,r,t),e.child}function HP(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ox(n,e,t,i,r){var s=Ti(t)?nl:ii.current;return s=Pu(e,s),Mu(e,r),t=J1(n,e,t,i,s,r),i=X1(),n!==null&&!Ci?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Xs(n,e,r)):(Yt&&i&&D1(e),e.flags|=1,fi(n,e,t,r),e.child)}function pC(n,e,t,i,r){if(Ti(t)){var s=!0;Xm(e)}else s=!1;if(Mu(e,r),e.stateNode===null)vm(n,e),mP(e,t,i),Dx(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=gr(c):(c=Ti(t)?nl:ii.current,c=Pu(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&sC(e,o,i,c),Mo=!1;var p=e.memoizedState;o.state=p,qm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Ei.current||Mo?(typeof d=="function"&&(Ix(e,t,d,i),l=e.memoizedState),(a=Mo||rC(e,t,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,hP(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Er(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Ti(t)?nl:ii.current,l=Pu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&sC(e,o,i,l),Mo=!1,p=e.memoizedState,o.state=p,qm(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Ei.current||Mo?(typeof m=="function"&&(Ix(e,t,m,i),y=e.memoizedState),(c=Mo||rC(e,t,c,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return kx(n,e,t,i,s,r)}function kx(n,e,t,i,r,s){HP(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&$w(e,t,!1),Xs(n,e,s);i=e.stateNode,_O.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ru(e,n.child,null,s),e.child=Ru(e,null,a,s)):fi(n,e,a,s),e.memoizedState=i.state,r&&$w(e,t,!0),e.child}function VP(n){var e=n.stateNode;e.pendingContext?qw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&qw(n,e.context,!1),H1(n,e.containerInfo)}function mC(n,e,t,i,r){return Bu(),O1(r),e.flags|=256,fi(n,e,t,i),e.child}var Nx={dehydrated:null,treeContext:null,retryLane:0};function Ux(n){return{baseLanes:n,cachePool:null,transitions:null}}function WP(n,e,t){var i=e.pendingProps,r=tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Gt(tn,r&1),n===null)return Rx(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dg(o,i,0,null),n=Ka(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Ux(t),e.memoizedState=Nx,n):Q1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return AO(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Uo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Uo(a,s):(s=Ka(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Ux(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Nx,i}return s=n.child,n=s.sibling,i=Uo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Q1(n,e){return e=Dg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function op(n,e,t,i){return i!==null&&O1(i),Ru(e,n.child,null,t),n=Q1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function AO(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Hy(Error(Me(422))),op(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Dg({mode:"visible",children:i.children},r,0,null),s=Ka(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ru(e,n.child,null,o),e.child.memoizedState=Ux(o),e.memoizedState=Nx,s);if(!(e.mode&1))return op(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=Hy(s,i,void 0),op(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ci||a){if(i=Gn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Js(n,r),Ir(i,n,r,-1))}return nA(),i=Hy(Error(Me(421))),op(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=DO.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ni=Fo(r.nextSibling),zi=e,Yt=!0,Pr=null,n!==null&&(cr[fr++]=Ds,cr[fr++]=Fs,cr[fr++]=il,Ds=n.id,Fs=n.overflow,il=e),e=Q1(e,i.children),e.flags|=4096,e)}function gC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Lx(n.return,e,t)}function Vy(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function jP(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(fi(n,e,i.children,t),i=tn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gC(n,t,e);else if(n.tag===19)gC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Gt(tn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&$m(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Vy(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&$m(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Vy(e,!0,t,null,s);break;case"together":Vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Xs(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),sl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Uo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Uo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function SO(n,e,t){switch(e.tag){case 3:VP(e),Bu();break;case 5:vP(e);break;case 1:Ti(e.type)&&Xm(e);break;case 4:H1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Gt(Qm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Gt(tn,tn.current&1),e.flags|=128,null):t&e.child.childLanes?WP(n,e,t):(Gt(tn,tn.current&1),n=Xs(n,e,t),n!==null?n.sibling:null);Gt(tn,tn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return jP(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Gt(tn,tn.current),i)break;return null;case 22:case 23:return e.lanes=0,GP(n,e,t)}return Xs(n,e,t)}var JP,zx,XP,KP;JP=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};zx=function(){};XP=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ua(ns.current);var s=null;switch(t){case"input":r=lx(n,r),i=lx(n,i),s=[];break;case"select":r=an({},r,{value:void 0}),i=an({},i,{value:void 0}),s=[];break;case"textarea":r=fx(n,r),i=fx(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=jm)}hx(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};KP=function(n,e,t,i){t!==i&&(e.flags|=4)};function Lc(n,e){if(!Yt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function $n(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function MO(n,e,t){var i=e.pendingProps;switch(F1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return Ti(e.type)&&Jm(),$n(e),null;case 3:return i=e.stateNode,Lu(),Wt(Ei),Wt(ii),W1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(rp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(Kx(Pr),Pr=null))),zx(n,e),$n(e),null;case 5:V1(e);var r=Ua(zf.current);if(t=e.type,n!==null&&e.stateNode!=null)XP(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return $n(e),null}if(n=Ua(ns.current),rp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[es]=e,i[Nf]=s,n=(e.mode&1)!==0,t){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(r=0;r<sf.length;r++)Vt(sf[r],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Cw(i,s),Vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",i);break;case"textarea":Tw(i,s),Vt("invalid",i)}hx(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ip(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ip(i.textContent,a,n),r=["children",""+a]):bf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Vt("scroll",i)}switch(t){case"input":Yh(i),Ew(i,s,!0);break;case"textarea":Yh(i),bw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=jm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=A2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[es]=e,n[Nf]=i,JP(n,e,!1,!1),e.stateNode=n;e:{switch(o=px(t,i),t){case"dialog":Vt("cancel",n),Vt("close",n),r=i;break;case"iframe":case"object":case"embed":Vt("load",n),r=i;break;case"video":case"audio":for(r=0;r<sf.length;r++)Vt(sf[r],n);r=i;break;case"source":Vt("error",n),r=i;break;case"img":case"image":case"link":Vt("error",n),Vt("load",n),r=i;break;case"details":Vt("toggle",n),r=i;break;case"input":Cw(n,i),r=lx(n,i),Vt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=an({},i,{value:void 0}),Vt("invalid",n);break;case"textarea":Tw(n,i),r=fx(n,i),Vt("invalid",n);break;default:r=i}hx(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w2(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S2(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Pf(n,l):typeof l=="number"&&Pf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",n):l!=null&&_1(n,s,l,o))}switch(t){case"input":Yh(n),Ew(n,i,!1);break;case"textarea":Yh(n),bw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ho(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?xu(n,!!i.multiple,s,!1):i.defaultValue!=null&&xu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=jm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(n&&e.stateNode!=null)KP(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Ua(zf.current),Ua(ns.current),rp(e)){if(i=e.stateNode,t=e.memoizedProps,i[es]=e,(s=i.nodeValue!==t)&&(n=zi,n!==null))switch(n.tag){case 3:ip(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ip(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[es]=e,e.stateNode=i}return $n(e),null;case 13:if(Wt(tn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yt&&Ni!==null&&e.mode&1&&!(e.flags&128))fP(),Bu(),e.flags|=98560,s=!1;else if(s=rp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[es]=e}else Bu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else Pr!==null&&(Kx(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||tn.current&1?Pn===0&&(Pn=3):nA())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return Lu(),zx(n,e),n===null&&Of(e.stateNode.containerInfo),$n(e),null;case 10:return U1(e.type._context),$n(e),null;case 17:return Ti(e.type)&&Jm(),$n(e),null;case 19:if(Wt(tn),s=e.memoizedState,s===null)return $n(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Lc(s,!1);else{if(Pn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$m(n),o!==null){for(e.flags|=128,Lc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Gt(tn,tn.current&1|2),e.child}n=n.sibling}s.tail!==null&&vn()>Du&&(e.flags|=128,i=!0,Lc(s,!1),e.lanes=4194304)}else{if(!i)if(n=$m(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yt)return $n(e),null}else 2*vn()-s.renderingStartTime>Du&&t!==1073741824&&(e.flags|=128,i=!0,Lc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vn(),e.sibling=null,t=tn.current,Gt(tn,i?t&1|2:t&1),e):($n(e),null);case 22:case 23:return tA(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ki&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function wO(n,e){switch(F1(e),e.tag){case 1:return Ti(e.type)&&Jm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Lu(),Wt(Ei),Wt(ii),W1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return V1(e),null;case 13:if(Wt(tn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Bu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Wt(tn),null;case 4:return Lu(),null;case 10:return U1(e.type._context),null;case 22:case 23:return tA(),null;case 24:return null;default:return null}}var ap=!1,ni=!1,CO=typeof WeakSet=="function"?WeakSet:Set,ze=null;function cu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){hn(n,e,i)}else t.current=null}function Gx(n,e,t){try{t()}catch(i){hn(n,e,i)}}var yC=!1;function EO(n,e){if(wx=Hm,n=q2(),I1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Cx={focusedElem:n,selectionRange:t},Hm=!1,ze=e;ze!==null;)if(e=ze,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ze=n;else for(;ze!==null;){e=ze;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Er(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(w){hn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}return y=yC,yC=!1,y}function pf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Gx(e,t,s)}r=r.next}while(r!==i)}}function Lg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Hx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function YP(n){var e=n.alternate;e!==null&&(n.alternate=null,YP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[es],delete e[Nf],delete e[bx],delete e[lO],delete e[uO])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function QP(n){return n.tag===5||n.tag===3||n.tag===4}function vC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||QP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=jm));else if(i!==4&&(n=n.child,n!==null))for(Vx(n,e,t),n=n.sibling;n!==null;)Vx(n,e,t),n=n.sibling}function Wx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Wx(n,e,t),n=n.sibling;n!==null;)Wx(n,e,t),n=n.sibling}var Vn=null,Tr=!1;function uo(n,e,t){for(t=t.child;t!==null;)ZP(n,e,t),t=t.sibling}function ZP(n,e,t){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(wg,t)}catch{}switch(t.tag){case 5:ni||cu(t,e);case 6:var i=Vn,r=Tr;Vn=null,uo(n,e,t),Vn=i,Tr=r,Vn!==null&&(Tr?(n=Vn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Vn.removeChild(t.stateNode));break;case 18:Vn!==null&&(Tr?(n=Vn,t=t.stateNode,n.nodeType===8?Oy(n.parentNode,t):n.nodeType===1&&Oy(n,t),If(n)):Oy(Vn,t.stateNode));break;case 4:i=Vn,r=Tr,Vn=t.stateNode.containerInfo,Tr=!0,uo(n,e,t),Vn=i,Tr=r;break;case 0:case 11:case 14:case 15:if(!ni&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gx(t,e,o),r=r.next}while(r!==i)}uo(n,e,t);break;case 1:if(!ni&&(cu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){hn(t,e,a)}uo(n,e,t);break;case 21:uo(n,e,t);break;case 22:t.mode&1?(ni=(i=ni)||t.memoizedState!==null,uo(n,e,t),ni=i):uo(n,e,t);break;default:uo(n,e,t)}}function xC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CO),e.forEach(function(i){var r=FO.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Sr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,Tr=!1;break e;case 3:Vn=a.stateNode.containerInfo,Tr=!0;break e;case 4:Vn=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Vn===null)throw Error(Me(160));ZP(s,o,r),Vn=null,Tr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){hn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qP(e,n),e=e.sibling}function qP(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Sr(e,n),Qr(n),i&4){try{pf(3,n,n.return),Lg(3,n)}catch(v){hn(n,n.return,v)}try{pf(5,n,n.return)}catch(v){hn(n,n.return,v)}}break;case 1:Sr(e,n),Qr(n),i&512&&t!==null&&cu(t,t.return);break;case 5:if(Sr(e,n),Qr(n),i&512&&t!==null&&cu(t,t.return),n.flags&32){var r=n.stateNode;try{Pf(r,"")}catch(v){hn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&x2(r,s),px(a,o);var c=px(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?w2(r,h):d==="dangerouslySetInnerHTML"?S2(r,h):d==="children"?Pf(r,h):_1(r,d,h,c)}switch(a){case"input":ux(r,s);break;case"textarea":_2(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?xu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?xu(r,!!s.multiple,s.defaultValue,!0):xu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nf]=s}catch(v){hn(n,n.return,v)}}break;case 6:if(Sr(e,n),Qr(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){hn(n,n.return,v)}}break;case 3:if(Sr(e,n),Qr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{If(e.containerInfo)}catch(v){hn(n,n.return,v)}break;case 4:Sr(e,n),Qr(n);break;case 13:Sr(e,n),Qr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||($1=vn())),i&4&&xC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ni=(c=ni)||d,Sr(e,n),ni=c):Sr(e,n),Qr(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(ze=n,d=n.child;d!==null;){for(h=ze=d;ze!==null;){switch(p=ze,m=p.child,p.tag){case 0:case 11:case 14:case 15:pf(4,p,p.return);break;case 1:cu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){hn(i,t,v)}}break;case 5:cu(p,p.return);break;case 22:if(p.memoizedState!==null){AC(h);continue}}m!==null?(m.return=p,ze=m):AC(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M2("display",o))}catch(v){hn(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){hn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sr(e,n),Qr(n),i&4&&xC(n);break;case 21:break;default:Sr(e,n),Qr(n)}}function Qr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(QP(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Pf(r,""),i.flags&=-33);var s=vC(n);Wx(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=vC(n);Vx(n,a,o);break;default:throw Error(Me(161))}}catch(l){hn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function TO(n,e,t){ze=n,$P(n)}function $P(n,e,t){for(var i=(n.mode&1)!==0;ze!==null;){var r=ze,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ap;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ni;a=ap;var c=ni;if(ap=o,(ni=l)&&!c)for(ze=r;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?SC(r):l!==null?(l.return=o,ze=l):SC(r);for(;s!==null;)ze=s,$P(s),s=s.sibling;ze=r,ap=a,ni=c}_C(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ze=s):_C(n)}}function _C(n){for(;ze!==null;){var e=ze;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||Lg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ni)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Er(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}iC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&If(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ni||e.flags&512&&Hx(e)}catch(p){hn(e,e.return,p)}}if(e===n){ze=null;break}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function AC(n){for(;ze!==null;){var e=ze;if(e===n){ze=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ze=t;break}ze=e.return}}function SC(n){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Lg(4,e)}catch(l){hn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){hn(e,r,l)}}var s=e.return;try{Hx(e)}catch(l){hn(e,s,l)}break;case 5:var o=e.return;try{Hx(e)}catch(l){hn(e,o,l)}}}catch(l){hn(e,e.return,l)}if(e===n){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var bO=Math.ceil,ng=Zs.ReactCurrentDispatcher,Z1=Zs.ReactCurrentOwner,pr=Zs.ReactCurrentBatchConfig,bt=0,Gn=null,wn=null,jn=0,ki=0,fu=$o(0),Pn=0,Wf=null,sl=0,Ig=0,q1=0,mf=null,Mi=null,$1=0,Du=1/0,Ps=null,ig=!1,jx=null,ko=null,lp=!1,Po=null,rg=0,gf=0,Jx=null,xm=-1,_m=0;function hi(){return bt&6?vn():xm!==-1?xm:xm=vn()}function No(n){return n.mode&1?bt&2&&jn!==0?jn&-jn:fO.transition!==null?(_m===0&&(_m=O2()),_m):(n=Ot,n!==0||(n=window.event,n=n===void 0?16:V2(n.type)),n):1}function Ir(n,e,t,i){if(50<gf)throw gf=0,Jx=null,Error(Me(185));dd(n,t,i),(!(bt&2)||n!==Gn)&&(n===Gn&&(!(bt&2)&&(Ig|=t),Pn===4&&To(n,jn)),bi(n,i),t===1&&bt===0&&!(e.mode&1)&&(Du=vn()+500,Pg&&ea()))}function bi(n,e){var t=n.callbackNode;fF(n,e);var i=Gm(n,n===Gn?jn:0);if(i===0)t!==null&&Rw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Rw(t),e===1)n.tag===0?cO(MC.bind(null,n)):lP(MC.bind(null,n)),oO(function(){!(bt&6)&&ea()}),t=null;else{switch(k2(i)){case 1:t=C1;break;case 4:t=D2;break;case 16:t=zm;break;case 536870912:t=F2;break;default:t=zm}t=aB(t,eB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function eB(n,e){if(xm=-1,_m=0,bt&6)throw Error(Me(327));var t=n.callbackNode;if(wu()&&n.callbackNode!==t)return null;var i=Gm(n,n===Gn?jn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=sg(n,i);else{e=i;var r=bt;bt|=2;var s=nB();(Gn!==n||jn!==e)&&(Ps=null,Du=vn()+500,Xa(n,e));do try{RO();break}catch(a){tB(n,a)}while(1);N1(),ng.current=s,bt=r,wn!==null?e=0:(Gn=null,jn=0,e=Pn)}if(e!==0){if(e===2&&(r=xx(n),r!==0&&(i=r,e=Xx(n,r))),e===1)throw t=Wf,Xa(n,0),To(n,i),bi(n,vn()),t;if(e===6)To(n,i);else{if(r=n.current.alternate,!(i&30)&&!PO(r)&&(e=sg(n,i),e===2&&(s=xx(n),s!==0&&(i=s,e=Xx(n,s))),e===1))throw t=Wf,Xa(n,0),To(n,i),bi(n,vn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:ba(n,Mi,Ps);break;case 3:if(To(n,i),(i&130023424)===i&&(e=$1+500-vn(),10<e)){if(Gm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){hi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Tx(ba.bind(null,n,Mi,Ps),e);break}ba(n,Mi,Ps);break;case 4:if(To(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Lr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=vn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bO(i/1960))-i,10<i){n.timeoutHandle=Tx(ba.bind(null,n,Mi,Ps),i);break}ba(n,Mi,Ps);break;case 5:ba(n,Mi,Ps);break;default:throw Error(Me(329))}}}return bi(n,vn()),n.callbackNode===t?eB.bind(null,n):null}function Xx(n,e){var t=mf;return n.current.memoizedState.isDehydrated&&(Xa(n,e).flags|=256),n=sg(n,e),n!==2&&(e=Mi,Mi=t,e!==null&&Kx(e)),n}function Kx(n){Mi===null?Mi=n:Mi.push.apply(Mi,n)}function PO(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Or(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(n,e){for(e&=~q1,e&=~Ig,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Lr(e),i=1<<t;n[t]=-1,e&=~i}}function MC(n){if(bt&6)throw Error(Me(327));wu();var e=Gm(n,0);if(!(e&1))return bi(n,vn()),null;var t=sg(n,e);if(n.tag!==0&&t===2){var i=xx(n);i!==0&&(e=i,t=Xx(n,i))}if(t===1)throw t=Wf,Xa(n,0),To(n,e),bi(n,vn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ba(n,Mi,Ps),bi(n,vn()),null}function eA(n,e){var t=bt;bt|=1;try{return n(e)}finally{bt=t,bt===0&&(Du=vn()+500,Pg&&ea())}}function ol(n){Po!==null&&Po.tag===0&&!(bt&6)&&wu();var e=bt;bt|=1;var t=pr.transition,i=Ot;try{if(pr.transition=null,Ot=1,n)return n()}finally{Ot=i,pr.transition=t,bt=e,!(bt&6)&&ea()}}function tA(){ki=fu.current,Wt(fu)}function Xa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sO(t)),wn!==null)for(t=wn.return;t!==null;){var i=t;switch(F1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jm();break;case 3:Lu(),Wt(Ei),Wt(ii),W1();break;case 5:V1(i);break;case 4:Lu();break;case 13:Wt(tn);break;case 19:Wt(tn);break;case 10:U1(i.type._context);break;case 22:case 23:tA()}t=t.return}if(Gn=n,wn=n=Uo(n.current,null),jn=ki=e,Pn=0,Wf=null,q1=Ig=sl=0,Mi=mf=null,Na!==null){for(e=0;e<Na.length;e++)if(t=Na[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Na=null}return n}function tB(n,e){do{var t=wn;try{if(N1(),gm.current=tg,eg){for(var i=on.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}eg=!1}if(rl=0,Nn=bn=on=null,hf=!1,Gf=0,Z1.current=null,t===null||t.return===null){Pn=1,Wf=e,wn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=cC(o);if(m!==null){m.flags&=-257,fC(m,o,a,s,e),m.mode&1&&uC(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){uC(s,c,e),nA();break e}l=Error(Me(426))}}else if(Yt&&a.mode&1){var x=cC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fC(x,o,a,s,e),O1(Iu(l,a));break e}}s=l=Iu(l,a),Pn!==4&&(Pn=2),mf===null?mf=[s]:mf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NP(s,l,e);nC(s,_);break e;case 1:a=l;var S=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ko===null||!ko.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=UP(s,a,e);nC(s,w);break e}}s=s.return}while(s!==null)}rB(t)}catch(b){e=b,wn===t&&t!==null&&(wn=t=t.return);continue}break}while(1)}function nB(){var n=ng.current;return ng.current=tg,n===null?tg:n}function nA(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Gn===null||!(sl&268435455)&&!(Ig&268435455)||To(Gn,jn)}function sg(n,e){var t=bt;bt|=2;var i=nB();(Gn!==n||jn!==e)&&(Ps=null,Xa(n,e));do try{BO();break}catch(r){tB(n,r)}while(1);if(N1(),bt=t,ng.current=i,wn!==null)throw Error(Me(261));return Gn=null,jn=0,Pn}function BO(){for(;wn!==null;)iB(wn)}function RO(){for(;wn!==null&&!nF();)iB(wn)}function iB(n){var e=oB(n.alternate,n,ki);n.memoizedProps=n.pendingProps,e===null?rB(n):wn=e,Z1.current=null}function rB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=wO(t,e),t!==null){t.flags&=32767,wn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pn=6,wn=null;return}}else if(t=MO(t,e,ki),t!==null){wn=t;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=n}while(e!==null);Pn===0&&(Pn=5)}function ba(n,e,t){var i=Ot,r=pr.transition;try{pr.transition=null,Ot=1,LO(n,e,t,i)}finally{pr.transition=r,Ot=i}return null}function LO(n,e,t,i){do wu();while(Po!==null);if(bt&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(dF(n,s),n===Gn&&(wn=Gn=null,jn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lp||(lp=!0,aB(zm,function(){return wu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=Ot;Ot=1;var a=bt;bt|=4,Z1.current=null,EO(n,t),qP(t,n),qF(Cx),Hm=!!wx,Cx=wx=null,n.current=t,TO(t),iF(),bt=a,Ot=o,pr.transition=s}else n.current=t;if(lp&&(lp=!1,Po=n,rg=r),s=n.pendingLanes,s===0&&(ko=null),oF(t.stateNode),bi(n,vn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(ig)throw ig=!1,n=jx,jx=null,n;return rg&1&&n.tag!==0&&wu(),s=n.pendingLanes,s&1?n===Jx?gf++:(gf=0,Jx=n):gf=0,ea(),null}function wu(){if(Po!==null){var n=k2(rg),e=pr.transition,t=Ot;try{if(pr.transition=null,Ot=16>n?16:n,Po===null)var i=!1;else{if(n=Po,Po=null,rg=0,bt&6)throw Error(Me(331));var r=bt;for(bt|=4,ze=n.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ze=c;ze!==null;){var d=ze;switch(d.tag){case 0:case 11:case 15:pf(8,d,s)}var h=d.child;if(h!==null)h.return=d,ze=h;else for(;ze!==null;){d=ze;var p=d.sibling,m=d.return;if(YP(d),d===c){ze=null;break}if(p!==null){p.return=m,ze=p;break}ze=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ze=_;break e}ze=s.return}}var S=n.current;for(ze=S;ze!==null;){o=ze;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,ze=M;else e:for(o=S;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lg(9,a)}}catch(b){hn(a,a.return,b)}if(a===o){ze=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ze=w;break e}ze=a.return}}if(bt=r,ea(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(wg,n)}catch{}i=!0}return i}finally{Ot=t,pr.transition=e}}return!1}function wC(n,e,t){e=Iu(t,e),e=NP(n,e,1),n=Oo(n,e,1),e=hi(),n!==null&&(dd(n,1,e),bi(n,e))}function hn(n,e,t){if(n.tag===3)wC(n,n,t);else for(;e!==null;){if(e.tag===3){wC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ko===null||!ko.has(i))){n=Iu(t,n),n=UP(e,n,1),e=Oo(e,n,1),n=hi(),e!==null&&(dd(e,1,n),bi(e,n));break}}e=e.return}}function IO(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=hi(),n.pingedLanes|=n.suspendedLanes&t,Gn===n&&(jn&t)===t&&(Pn===4||Pn===3&&(jn&130023424)===jn&&500>vn()-$1?Xa(n,0):q1|=t),bi(n,e)}function sB(n,e){e===0&&(n.mode&1?(e=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):e=1);var t=hi();n=Js(n,e),n!==null&&(dd(n,e,t),bi(n,t))}function DO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),sB(n,t)}function FO(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),sB(n,t)}var oB;oB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ei.current)Ci=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ci=!1,SO(n,e,t);Ci=!!(n.flags&131072)}else Ci=!1,Yt&&e.flags&1048576&&uP(e,Ym,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;vm(n,e),n=e.pendingProps;var r=Pu(e,ii.current);Mu(e,t),r=J1(null,e,i,n,r,t);var s=X1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ti(i)?(s=!0,Xm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,G1(e),r.updater=Bg,e.stateNode=r,r._reactInternals=e,Dx(e,i,n,t),e=kx(null,e,i,!0,s,t)):(e.tag=0,Yt&&s&&D1(e),fi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(vm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=kO(i),n=Er(i,n),r){case 0:e=Ox(null,e,i,n,t);break e;case 1:e=pC(null,e,i,n,t);break e;case 11:e=dC(null,e,i,n,t);break e;case 14:e=hC(null,e,i,Er(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Er(i,r),Ox(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Er(i,r),pC(n,e,i,r,t);case 3:e:{if(VP(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,hP(n,e),qm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Iu(Error(Me(423)),e),e=mC(n,e,i,t,r);break e}else if(i!==r){r=Iu(Error(Me(424)),e),e=mC(n,e,i,t,r);break e}else for(Ni=Fo(e.stateNode.containerInfo.firstChild),zi=e,Yt=!0,Pr=null,t=yP(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Bu(),i===r){e=Xs(n,e,t);break e}fi(n,e,i,t)}e=e.child}return e;case 5:return vP(e),n===null&&Rx(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Ex(i,r)?o=null:s!==null&&Ex(i,s)&&(e.flags|=32),HP(n,e),fi(n,e,o,t),e.child;case 6:return n===null&&Rx(e),null;case 13:return WP(n,e,t);case 4:return H1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ru(e,null,i,t):fi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Er(i,r),dC(n,e,i,r,t);case 7:return fi(n,e,e.pendingProps,t),e.child;case 8:return fi(n,e,e.pendingProps.children,t),e.child;case 12:return fi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Gt(Qm,i._currentValue),i._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===r.children&&!Ei.current){e=Xs(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=zs(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Lx(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Lx(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Mu(e,t),r=gr(r),i=i(r),e.flags|=1,fi(n,e,i,t),e.child;case 14:return i=e.type,r=Er(i,e.pendingProps),r=Er(i.type,r),hC(n,e,i,r,t);case 15:return zP(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Er(i,r),vm(n,e),e.tag=1,Ti(i)?(n=!0,Xm(e)):n=!1,Mu(e,t),mP(e,i,r),Dx(e,i,r,t),kx(null,e,i,!0,n,t);case 19:return jP(n,e,t);case 22:return GP(n,e,t)}throw Error(Me(156,e.tag))};function aB(n,e){return I2(n,e)}function OO(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(n,e,t,i){return new OO(n,e,t,i)}function iA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kO(n){if(typeof n=="function")return iA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===S1)return 11;if(n===M1)return 14}return 2}function Uo(n,e){var t=n.alternate;return t===null?(t=hr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Am(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")iA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case tu:return Ka(t.children,r,s,e);case A1:o=8,r|=8;break;case rx:return n=hr(12,t,e,r|2),n.elementType=rx,n.lanes=s,n;case sx:return n=hr(13,t,e,r),n.elementType=sx,n.lanes=s,n;case ox:return n=hr(19,t,e,r),n.elementType=ox,n.lanes=s,n;case g2:return Dg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case p2:o=10;break e;case m2:o=9;break e;case S1:o=11;break e;case M1:o=14;break e;case So:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=hr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ka(n,e,t,i){return n=hr(7,n,i,e),n.lanes=t,n}function Dg(n,e,t,i){return n=hr(22,n,i,e),n.elementType=g2,n.lanes=t,n.stateNode={isHidden:!1},n}function Wy(n,e,t){return n=hr(6,n,null,e),n.lanes=t,n}function jy(n,e,t){return e=hr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function NO(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function rA(n,e,t,i,r,s,o,a,l){return n=new NO(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},G1(s),n}function UO(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function lB(n){if(!n)return Vo;n=n._reactInternals;e:{if(dl(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ti(t))return aP(n,t,e)}return e}function uB(n,e,t,i,r,s,o,a,l){return n=rA(t,i,!0,n,r,s,o,a,l),n.context=lB(null),t=n.current,i=hi(),r=No(t),s=zs(i,r),s.callback=e??null,Oo(t,s,r),n.current.lanes=r,dd(n,r,i),bi(n,i),n}function Fg(n,e,t,i){var r=e.current,s=hi(),o=No(r);return t=lB(t),e.context===null?e.context=t:e.pendingContext=t,e=zs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Oo(r,e,o),n!==null&&(Ir(n,r,o,s),mm(n,r,o)),o}function og(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function CC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function sA(n,e){CC(n,e),(n=n.alternate)&&CC(n,e)}function zO(){return null}var cB=typeof reportError=="function"?reportError:function(n){console.error(n)};function oA(n){this._internalRoot=n}Og.prototype.render=oA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));Fg(n,e,null,null)};Og.prototype.unmount=oA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ol(function(){Fg(null,n,null,null)}),e[js]=null}};function Og(n){this._internalRoot=n}Og.prototype.unstable_scheduleHydration=function(n){if(n){var e=z2();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Eo.length&&e!==0&&e<Eo[t].priority;t++);Eo.splice(t,0,n),t===0&&H2(n)}};function aA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function kg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function EC(){}function GO(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=og(o);s.call(c)}}var o=uB(e,i,n,0,null,!1,!1,"",EC);return n._reactRootContainer=o,n[js]=o.current,Of(n.nodeType===8?n.parentNode:n),ol(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=og(l);a.call(c)}}var l=rA(n,0,!1,null,null,!1,!1,"",EC);return n._reactRootContainer=l,n[js]=l.current,Of(n.nodeType===8?n.parentNode:n),ol(function(){Fg(e,l,t,i)}),l}function Ng(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=og(o);a.call(l)}}Fg(e,o,n,r)}else o=GO(t,e,n,r,i);return og(o)}N2=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=rf(e.pendingLanes);t!==0&&(E1(e,t|1),bi(e,vn()),!(bt&6)&&(Du=vn()+500,ea()))}break;case 13:ol(function(){var i=Js(n,1);if(i!==null){var r=hi();Ir(i,n,1,r)}}),sA(n,1)}};T1=function(n){if(n.tag===13){var e=Js(n,134217728);if(e!==null){var t=hi();Ir(e,n,134217728,t)}sA(n,134217728)}};U2=function(n){if(n.tag===13){var e=No(n),t=Js(n,e);if(t!==null){var i=hi();Ir(t,n,e,i)}sA(n,e)}};z2=function(){return Ot};G2=function(n,e){var t=Ot;try{return Ot=n,e()}finally{Ot=t}};gx=function(n,e,t){switch(e){case"input":if(ux(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=bg(i);if(!r)throw Error(Me(90));v2(i),ux(i,r)}}}break;case"textarea":_2(n,t);break;case"select":e=t.value,e!=null&&xu(n,!!t.multiple,e,!1)}};T2=eA;b2=ol;var HO={usingClientEntryPoint:!1,Events:[pd,su,bg,C2,E2,eA]},Ic={findFiberByHostInstance:ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VO={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=R2(n),n===null?null:n.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||zO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{wg=up.inject(VO),ts=up}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HO;ji.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aA(e))throw Error(Me(200));return UO(n,e,null,t)};ji.createRoot=function(n,e){if(!aA(n))throw Error(Me(299));var t=!1,i="",r=cB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=rA(n,1,!1,null,null,t,!1,i,r),n[js]=e.current,Of(n.nodeType===8?n.parentNode:n),new oA(e)};ji.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=R2(e),n=n===null?null:n.stateNode,n};ji.flushSync=function(n){return ol(n)};ji.hydrate=function(n,e,t){if(!kg(e))throw Error(Me(200));return Ng(null,n,e,!0,t)};ji.hydrateRoot=function(n,e,t){if(!aA(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=cB;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=uB(e,null,n,1,t??null,r,!1,s,o),n[js]=e.current,Of(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Og(e)};ji.render=function(n,e,t){if(!kg(e))throw Error(Me(200));return Ng(null,n,e,!1,t)};ji.unmountComponentAtNode=function(n){if(!kg(n))throw Error(Me(40));return n._reactRootContainer?(ol(function(){Ng(null,null,n,!1,function(){n._reactRootContainer=null,n[js]=null})}),!0):!1};ji.unstable_batchedUpdates=eA;ji.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!kg(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return Ng(n,e,t,!1,i)};ji.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=ji})(zD);var fB,TC=Om;fB=tx.createRoot=TC.createRoot,tx.hydrateRoot=TC.hydrateRoot;const WO="modulepreload",jO=function(n){return"/"+n},bC={},Qu=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=jO(s),s in bC)return;bC[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":WO,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ag.apply(this,arguments)}var za;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(za||(za={}));const PC="popstate";function JO(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Yx("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:hB(r)}return KO(e,t,null,n)}function dB(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function XO(){return Math.random().toString(36).substr(2,8)}function BC(n,e){return{usr:n.state,key:n.key,idx:e}}function Yx(n,e,t,i){return t===void 0&&(t=null),ag({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pB(e):e,{state:t,key:e&&e.key||i||XO()})}function hB(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function pB(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function KO(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=za.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ag({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=za.Pop;let x=d(),_=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:_})}function p(x,_){a=za.Push;let S=Yx(v.location,x,_);t&&t(S,x),c=d()+1;let M=BC(S,c),w=v.createHref(S);try{o.pushState(M,"",w)}catch{r.location.assign(w)}s&&l&&l({action:a,location:v.location,delta:1})}function m(x,_){a=za.Replace;let S=Yx(v.location,x,_);t&&t(S,x),c=d();let M=BC(S,c),w=v.createHref(S);o.replaceState(M,"",w),s&&l&&l({action:a,location:v.location,delta:0})}function y(x){let _=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof x=="string"?x:hB(x);return dB(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let v={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(PC,h),l=x,()=>{r.removeEventListener(PC,h),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let _=y(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}var RC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(RC||(RC={}));function YO(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const QO=["post","put","patch","delete"];[...QO];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ZO(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const qO=typeof Object.is=="function"?Object.is:ZO,{useState:$O,useEffect:ek,useLayoutEffect:tk,useDebugValue:nk}=ex;function ik(n,e,t){const i=e(),[{inst:r},s]=$O({inst:{value:i,getSnapshot:e}});return tk(()=>{r.value=i,r.getSnapshot=e,Jy(r)&&s({inst:r})},[n,i,e]),ek(()=>(Jy(r)&&s({inst:r}),n(()=>{Jy(r)&&s({inst:r})})),[n]),nk(i),i}function Jy(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!qO(t,i)}catch{return!0}}function rk(n,e,t){return e()}const sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ok=!sk,ak=ok?rk:ik;"useSyncExternalStore"in ex&&(n=>n.useSyncExternalStore)(ex);const lk=H.createContext(null),mB=H.createContext(null);function uk(){return H.useContext(mB)!=null}var LC;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(LC||(LC={}));var IC;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(IC||(IC={}));function ck(n){let{basename:e="/",children:t=null,location:i,navigationType:r=za.Pop,navigator:s,static:o=!1}=n;uk()&&dB(!1);let a=e.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=pB(i));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,y=H.useMemo(()=>{let v=YO(c,a);return v==null?null:{pathname:v,search:d,hash:h,state:p,key:m}},[a,c,d,h,p,m]);return y==null?null:H.createElement(lk.Provider,{value:l},H.createElement(mB.Provider,{children:t,value:{location:y,navigationType:r}}))}var DC;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(DC||(DC={}));new Promise(()=>{});/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fk(n){let{basename:e,children:t,window:i}=n,r=H.useRef();r.current==null&&(r.current=JO({window:i,v5Compat:!0}));let s=r.current,[o,a]=H.useState({action:s.action,location:s.location});return H.useLayoutEffect(()=>s.listen(a),[s]),H.createElement(ck,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var FC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(FC||(FC={}));var OC;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(OC||(OC={}));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ug="149",Pa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ba={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},gB=0,Qx=1,yB=2,dk=3,vB=0,zg=1,yf=2,Ga=3,os=0,Pi=1,Rr=2,hk=2,Gs=0,Ya=1,Zx=2,qx=3,$x=4,xB=5,Fa=100,_B=101,AB=102,e_=103,t_=104,SB=200,MB=201,wB=202,CB=203,lA=204,uA=205,EB=206,TB=207,bB=208,PB=209,BB=210,RB=0,LB=1,IB=2,lg=3,DB=4,FB=5,OB=6,kB=7,gd=0,NB=1,UB=2,Dr=0,zB=1,GB=2,HB=3,cA=4,VB=5,Gg=300,Wo=301,jo=302,jf=303,Jf=304,Zu=306,Jo=1e3,Wn=1001,Fu=1002,pn=1003,Xf=1004,pk=1004,Cu=1005,mk=1005,nn=1006,Hg=1007,gk=1007,as=1008,yk=1008,Ks=1009,WB=1010,jB=1011,fA=1012,JB=1013,Bo=1014,Os=1015,Ou=1016,XB=1017,KB=1018,Qa=1020,YB=1021,wi=1023,QB=1024,ZB=1025,zo=1026,al=1027,qB=1028,$B=1029,eR=1030,tR=1031,nR=1033,Sm=33776,Mm=33777,wm=33778,Cm=33779,n_=35840,i_=35841,r_=35842,s_=35843,iR=36196,o_=37492,a_=37496,l_=37808,u_=37809,c_=37810,f_=37811,d_=37812,h_=37813,p_=37814,m_=37815,g_=37816,y_=37817,v_=37818,x_=37819,__=37820,A_=37821,Em=36492,rR=36283,S_=36284,M_=36285,w_=36286,sR=2200,oR=2201,aR=2202,ku=2300,ll=2301,Tm=2302,Ha=2400,Va=2401,Kf=2402,Vg=2500,dA=2501,vk=0,lR=1,hA=2,Ys=3e3,wt=3001,uR=3200,cR=3201,qs=0,fR=1,xk="",br="srgb",Nu="srgb-linear",_k=0,bm=7680,Ak=7681,Sk=7682,Mk=7683,wk=34055,Ck=34056,Ek=5386,Tk=512,bk=513,Pk=514,Bk=515,Rk=516,Lk=517,Ik=518,dR=519,Yf=35044,Za=35048,Dk=35040,Fk=35045,Ok=35049,kk=35041,Nk=35046,Uk=35050,zk=35042,Gk="100",C_="300 es",ug=1035;class cs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ei=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kC=1234567;const qa=Math.PI/180,Qf=180/Math.PI;function Gi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ei[n&255]+ei[n>>8&255]+ei[n>>16&255]+ei[n>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[t&63|128]+ei[t>>8&255]+"-"+ei[t>>16&255]+ei[t>>24&255]+ei[i&255]+ei[i>>8&255]+ei[i>>16&255]+ei[i>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function pA(n,e){return(n%e+e)%e}function Hk(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Vk(n,e,t){return n!==e?(t-n)/(e-n):0}function vf(n,e,t){return(1-t)*n+t*e}function Wk(n,e,t,i){return vf(n,e,1-Math.exp(-t*i))}function jk(n,e=1){return e-Math.abs(pA(n,e*2)-e)}function Jk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Xk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Kk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Yk(n,e){return n+Math.random()*(e-n)}function Qk(n){return n*(.5-Math.random())}function Zk(n){n!==void 0&&(kC=n);let e=kC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qk(n){return n*qa}function $k(n){return n*Qf}function E_(n){return(n&n-1)===0&&n!==0}function hR(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function cg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function eN(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ks(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ut(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var pR=Object.freeze({__proto__:null,DEG2RAD:qa,RAD2DEG:Qf,ceilPowerOfTwo:hR,clamp:xn,damp:Wk,degToRad:qk,denormalize:ks,euclideanModulo:pA,floorPowerOfTwo:cg,generateUUID:Gi,inverseLerp:Vk,isPowerOfTwo:E_,lerp:vf,mapLinear:Hk,normalize:Ut,pingpong:jk,radToDeg:$k,randFloat:Yk,randFloatSpread:Qk,randInt:Kk,seededRandom:Zk,setQuaternionFromProperEuler:eN,smootherstep:Xk,smoothstep:Jk});class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class di{constructor(){di.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],v=r[0],x=r[3],_=r[6],S=r[1],M=r[4],w=r[7],b=r[2],P=r[5],R=r[8];return s[0]=o*v+a*S+l*b,s[3]=o*x+a*M+l*P,s[6]=o*_+a*w+l*R,s[1]=c*v+d*S+h*b,s[4]=c*x+d*M+h*P,s[7]=c*_+d*w+h*R,s[2]=p*v+m*S+y*b,s[5]=p*x+m*M+y*P,s[8]=p*_+m*w+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,m=c*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=h*v,e[1]=(r*c-d*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(d*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=m*v,e[7]=(i*l-c*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Xy.makeScale(e,t)),this}rotate(e){return this.premultiply(Xy.makeRotation(-e)),this}translate(e,t){return this.premultiply(Xy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Xy=new di;function mR(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const tN={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function du(n,e){return new tN[n](e)}function Zf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $a(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Pm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Ky={[br]:{[Nu]:$a},[Nu]:{[br]:Pm}},ti={legacyMode:!0,get workingColorSpace(){return Nu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Ky[e]&&Ky[e][t]!==void 0){const i=Ky[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},gR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tn={r:0,g:0,b:0},Mr={h:0,s:0,l:0},cp={h:0,s:0,l:0};function Yy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function fp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Re{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=br){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ti.workingColorSpace){return this.r=e,this.g=t,this.b=i,ti.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ti.workingColorSpace){if(e=pA(e,1),t=xn(t,0,1),i=xn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Yy(o,s,e+1/3),this.g=Yy(o,s,e),this.b=Yy(o,s,e-1/3)}return ti.toWorkingColorSpace(this,r),this}setStyle(e,t=br){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ti.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ti.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ti.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ti.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=br){const i=gR[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$a(e.r),this.g=$a(e.g),this.b=$a(e.b),this}copyLinearToSRGB(e){return this.r=Pm(e.r),this.g=Pm(e.g),this.b=Pm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=br){return ti.fromWorkingColorSpace(fp(this,Tn),e),xn(Tn.r*255,0,255)<<16^xn(Tn.g*255,0,255)<<8^xn(Tn.b*255,0,255)<<0}getHexString(e=br){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ti.workingColorSpace){ti.fromWorkingColorSpace(fp(this,Tn),t);const i=Tn.r,r=Tn.g,s=Tn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=ti.workingColorSpace){return ti.fromWorkingColorSpace(fp(this,Tn),t),e.r=Tn.r,e.g=Tn.g,e.b=Tn.b,e}getStyle(e=br){return ti.fromWorkingColorSpace(fp(this,Tn),e),e!==br?`color(${e} ${Tn.r} ${Tn.g} ${Tn.b})`:`rgb(${Tn.r*255|0},${Tn.g*255|0},${Tn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Mr),Mr.h+=e,Mr.s+=t,Mr.l+=i,this.setHSL(Mr.h,Mr.s,Mr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Mr),e.getHSL(cp);const i=vf(Mr.h,cp.h,t),r=vf(Mr.s,cp.s,t),s=vf(Mr.l,cp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Re.NAMES=gR;let Il;class mA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Il===void 0&&(Il=Zf("canvas")),Il.width=e.width,Il.height=e.height;const i=Il.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Il}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Zf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=$a(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($a(t[i]/255)*255):t[i]=$a(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Wa{constructor(e=null){this.isSource=!0,this.uuid=Gi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Qy(r[o].image)):s.push(Qy(r[o]))}else s=Qy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Qy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?mA.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let nN=0;class Qt extends cs{constructor(e=Qt.DEFAULT_IMAGE,t=Qt.DEFAULT_MAPPING,i=Wn,r=Wn,s=nn,o=as,a=wi,l=Ks,c=Qt.DEFAULT_ANISOTROPY,d=Ys){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:nN++}),this.uuid=Gi(),this.name="",this.source=new Wa(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new di,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jo:e.x=e.x-Math.floor(e.x);break;case Wn:e.x=e.x<0?0:1;break;case Fu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jo:e.y=e.y-Math.floor(e.y);break;case Wn:e.y=e.y<0?0:1;break;case Fu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Qt.DEFAULT_IMAGE=null;Qt.DEFAULT_MAPPING=Gg;Qt.DEFAULT_ANISOTROPY=1;class Ft{constructor(e=0,t=0,i=0,r=1){Ft.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],v=l[2],x=l[6],_=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-v)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+v)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(c+1)/2,w=(m+1)/2,b=(_+1)/2,P=(d+p)/4,R=(h+v)/4,E=(y+x)/4;return M>w&&M>b?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=R/i):w>b?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=P/r,s=E/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=R/s,r=E/s),this.set(i,r,s,t),this}let S=Math.sqrt((x-y)*(x-y)+(h-v)*(h-v)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(x-y)/S,this.y=(h-v)/S,this.z=(p-d)/S,this.w=Math.acos((c+m+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kr extends cs{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ft(0,0,e,t),this.scissorTest=!1,this.viewport=new Ft(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Qt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:nn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Wa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Wg extends Qt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=pn,this.minFilter=pn,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iN extends kr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Wg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class gA extends Qt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=pn,this.minFilter=pn,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rN extends kr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new gA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class sN extends kr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Jn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=v;return}if(h!==v||l!==p||c!==m||d!==y){let x=1-a;const _=l*p+c*m+d*y+h*v,S=_>=0?1:-1,M=1-_*_;if(M>Number.EPSILON){const b=Math.sqrt(M),P=Math.atan2(b,_*S);x=Math.sin(x*P)/b,a=Math.sin(a*P)/b}const w=a*S;if(l=l*x+p*w,c=c*x+m*w,d=d*x+y*w,h=h*x+v*w,x===1-a){const b=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=b,c*=b,d*=b,h*=b}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-c*p,e[t+1]=l*y+d*p+c*h-a*m,e[t+2]=c*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"YZX":this._x=p*d*h+c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h-p*m*y;break;case"XZY":this._x=p*d*h-c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,t=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(NC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(NC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Zy.copy(this).projectOnVector(e),this.sub(Zy)}reflect(e){return this.sub(Zy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Zy=new D,NC=new Jn;class ta{constructor(e=new D(1/0,1/0,1/0),t=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ga.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)ga.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ga)}else i.boundingBox===null&&i.computeBoundingBox(),qy.copy(i.boundingBox),qy.applyMatrix4(e.matrixWorld),this.union(qy);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ga),ga.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dc),dp.subVectors(this.max,Dc),Dl.subVectors(e.a,Dc),Fl.subVectors(e.b,Dc),Ol.subVectors(e.c,Dc),co.subVectors(Fl,Dl),fo.subVectors(Ol,Fl),ya.subVectors(Dl,Ol);let t=[0,-co.z,co.y,0,-fo.z,fo.y,0,-ya.z,ya.y,co.z,0,-co.x,fo.z,0,-fo.x,ya.z,0,-ya.x,-co.y,co.x,0,-fo.y,fo.x,0,-ya.y,ya.x,0];return!$y(t,Dl,Fl,Ol,dp)||(t=[1,0,0,0,1,0,0,0,1],!$y(t,Dl,Fl,Ol,dp))?!1:(hp.crossVectors(co,fo),t=[hp.x,hp.y,hp.z],$y(t,Dl,Fl,Ol,dp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ga.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ga).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ss[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ss[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ss[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ss[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ss[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ss[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ss[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ss[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ss),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ss=[new D,new D,new D,new D,new D,new D,new D,new D],ga=new D,qy=new ta,Dl=new D,Fl=new D,Ol=new D,co=new D,fo=new D,ya=new D,Dc=new D,dp=new D,hp=new D,va=new D;function $y(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){va.fromArray(n,s);const a=r.x*Math.abs(va.x)+r.y*Math.abs(va.y)+r.z*Math.abs(va.z),l=e.dot(va),c=t.dot(va),d=i.dot(va);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const oN=new ta,Fc=new D,ev=new D;class na{constructor(e=new D,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):oN.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fc.subVectors(e,this.center);const t=Fc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Fc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(ev.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fc.copy(e.center).add(ev)),this.expandByPoint(Fc.copy(e.center).sub(ev))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ms=new D,tv=new D,pp=new D,ho=new D,nv=new D,mp=new D,iv=new D;class yd{constructor(e=new D,t=new D(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ms)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ms.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ms.copy(this.direction).multiplyScalar(t).add(this.origin),Ms.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){tv.copy(e).add(t).multiplyScalar(.5),pp.copy(t).sub(e).normalize(),ho.copy(this.origin).sub(tv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(pp),a=ho.dot(this.direction),l=-ho.dot(pp),c=ho.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const v=1/d;h*=v,p*=v,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(pp).multiplyScalar(p).add(tv),m}intersectSphere(e,t){Ms.subVectors(e.center,this.origin);const i=Ms.dot(this.direction),r=Ms.dot(Ms)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ms)!==null}intersectTriangle(e,t,i,r,s){nv.subVectors(t,e),mp.subVectors(i,e),iv.crossVectors(nv,mp);let o=this.direction.dot(iv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ho.subVectors(this.origin,e);const l=a*this.direction.dot(mp.crossVectors(ho,mp));if(l<0)return null;const c=a*this.direction.dot(nv.cross(ho));if(c<0||l+c>o)return null;const d=-a*ho.dot(iv);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rt{constructor(){rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,d,h,p,m,y,v,x){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=d,_[10]=h,_[14]=p,_[3]=m,_[7]=y,_[11]=v,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/kl.setFromMatrixColumn(e,0).length(),s=1/kl.setFromMatrixColumn(e,1).length(),o=1/kl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=m+y*c,t[5]=p-v*c,t[9]=-a*l,t[2]=v-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=c*d,v=c*h;t[0]=p+v*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=c*d,v=c*h;t[0]=p-v*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=v-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=y*c-m,t[8]=p*c+v,t[1]=l*h,t[5]=v*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*d,t[4]=v-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=m*h+y,t[10]=p-v*h}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=p*h+v,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(aN,e,lN)}lookAt(e,t,i){const r=this.elements;return Fi.subVectors(e,t),Fi.lengthSq()===0&&(Fi.z=1),Fi.normalize(),po.crossVectors(i,Fi),po.lengthSq()===0&&(Math.abs(i.z)===1?Fi.x+=1e-4:Fi.z+=1e-4,Fi.normalize(),po.crossVectors(i,Fi)),po.normalize(),gp.crossVectors(Fi,po),r[0]=po.x,r[4]=gp.x,r[8]=Fi.x,r[1]=po.y,r[5]=gp.y,r[9]=Fi.y,r[2]=po.z,r[6]=gp.z,r[10]=Fi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],v=i[6],x=i[10],_=i[14],S=i[3],M=i[7],w=i[11],b=i[15],P=r[0],R=r[4],E=r[8],B=r[12],L=r[1],U=r[5],Z=r[9],J=r[13],G=r[2],Y=r[6],te=r[10],le=r[14],O=r[3],V=r[7],j=r[11],ae=r[15];return s[0]=o*P+a*L+l*G+c*O,s[4]=o*R+a*U+l*Y+c*V,s[8]=o*E+a*Z+l*te+c*j,s[12]=o*B+a*J+l*le+c*ae,s[1]=d*P+h*L+p*G+m*O,s[5]=d*R+h*U+p*Y+m*V,s[9]=d*E+h*Z+p*te+m*j,s[13]=d*B+h*J+p*le+m*ae,s[2]=y*P+v*L+x*G+_*O,s[6]=y*R+v*U+x*Y+_*V,s[10]=y*E+v*Z+x*te+_*j,s[14]=y*B+v*J+x*le+_*ae,s[3]=S*P+M*L+w*G+b*O,s[7]=S*R+M*U+w*Y+b*V,s[11]=S*E+M*Z+w*te+b*j,s[15]=S*B+M*J+w*le+b*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],v=e[7],x=e[11],_=e[15];return y*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+v*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*d-s*l*d)+x*(+t*c*h-t*a*m-s*o*h+i*o*m+s*a*d-i*c*d)+_*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],v=e[13],x=e[14],_=e[15],S=h*x*c-v*p*c+v*l*m-a*x*m-h*l*_+a*p*_,M=y*p*c-d*x*c-y*l*m+o*x*m+d*l*_-o*p*_,w=d*v*c-y*h*c+y*a*m-o*v*m-d*a*_+o*h*_,b=y*h*l-d*v*l-y*a*p+o*v*p+d*a*x-o*h*x,P=t*S+i*M+r*w+s*b;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=S*R,e[1]=(v*p*s-h*x*s-v*r*m+i*x*m+h*r*_-i*p*_)*R,e[2]=(a*x*s-v*l*s+v*r*c-i*x*c-a*r*_+i*l*_)*R,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*R,e[4]=M*R,e[5]=(d*x*s-y*p*s+y*r*m-t*x*m-d*r*_+t*p*_)*R,e[6]=(y*l*s-o*x*s-y*r*c+t*x*c+o*r*_-t*l*_)*R,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*m+t*l*m)*R,e[8]=w*R,e[9]=(y*h*s-d*v*s-y*i*m+t*v*m+d*i*_-t*h*_)*R,e[10]=(o*v*s-y*a*s+y*i*c-t*v*c-o*i*_+t*a*_)*R,e[11]=(d*a*s-o*h*s-d*i*c+t*h*c+o*i*m-t*a*m)*R,e[12]=b*R,e[13]=(d*v*r-y*h*r+y*i*p-t*v*p-d*i*x+t*h*x)*R,e[14]=(y*a*r-o*v*r-y*i*l+t*v*l+o*i*x-t*a*x)*R,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,h=a+a,p=s*c,m=s*d,y=s*h,v=o*d,x=o*h,_=a*h,S=l*c,M=l*d,w=l*h,b=i.x,P=i.y,R=i.z;return r[0]=(1-(v+_))*b,r[1]=(m+w)*b,r[2]=(y-M)*b,r[3]=0,r[4]=(m-w)*P,r[5]=(1-(p+_))*P,r[6]=(x+S)*P,r[7]=0,r[8]=(y+M)*R,r[9]=(x-S)*R,r[10]=(1-(p+v))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=kl.set(r[0],r[1],r[2]).length();const o=kl.set(r[4],r[5],r[6]).length(),a=kl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],wr.copy(this);const c=1/s,d=1/o,h=1/a;return wr.elements[0]*=c,wr.elements[1]*=c,wr.elements[2]*=c,wr.elements[4]*=d,wr.elements[5]*=d,wr.elements[6]*=d,wr.elements[8]*=h,wr.elements[9]*=h,wr.elements[10]*=h,t.setFromRotationMatrix(wr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*c,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const kl=new D,wr=new rt,aN=new D(0,0,0),lN=new D(1,1,1),po=new D,gp=new D,Fi=new D,UC=new rt,zC=new Jn;class vd{constructor(e=0,t=0,i=0,r=vd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return UC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zC.setFromEuler(this),this.setFromQuaternion(zC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vd.DEFAULT_ORDER="XYZ";class el{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uN=0;const GC=new D,Nl=new Jn,ws=new rt,yp=new D,Oc=new D,cN=new D,fN=new Jn,HC=new D(1,0,0),VC=new D(0,1,0),WC=new D(0,0,1),dN={type:"added"},jC={type:"removed"};class Pt extends cs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uN++}),this.uuid=Gi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pt.DEFAULT_UP.clone();const e=new D,t=new vd,i=new Jn,r=new D(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new rt},normalMatrix:{value:new di}}),this.matrix=new rt,this.matrixWorld=new rt,this.matrixAutoUpdate=Pt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new el,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Nl.setFromAxisAngle(e,t),this.quaternion.multiply(Nl),this}rotateOnWorldAxis(e,t){return Nl.setFromAxisAngle(e,t),this.quaternion.premultiply(Nl),this}rotateX(e){return this.rotateOnAxis(HC,e)}rotateY(e){return this.rotateOnAxis(VC,e)}rotateZ(e){return this.rotateOnAxis(WC,e)}translateOnAxis(e,t){return GC.copy(e).applyQuaternion(this.quaternion),this.position.add(GC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(HC,e)}translateY(e){return this.translateOnAxis(VC,e)}translateZ(e){return this.translateOnAxis(WC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ws.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?yp.copy(e):yp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Oc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ws.lookAt(Oc,yp,this.up):ws.lookAt(yp,Oc,this.up),this.quaternion.setFromRotationMatrix(ws),r&&(ws.extractRotation(r.matrixWorld),Nl.setFromRotationMatrix(ws),this.quaternion.premultiply(Nl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(dN)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(jC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(jC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(ws),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Oc,e,cN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Oc,fN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Pt.DEFAULT_UP=new D(0,1,0);Pt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cr=new D,Cs=new D,rv=new D,Es=new D,Ul=new D,zl=new D,JC=new D,sv=new D,ov=new D,av=new D;class dr{constructor(e=new D,t=new D,i=new D){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Cr.subVectors(e,t),r.cross(Cr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Cr.subVectors(r,t),Cs.subVectors(i,t),rv.subVectors(e,t);const o=Cr.dot(Cr),a=Cr.dot(Cs),l=Cr.dot(rv),c=Cs.dot(Cs),d=Cs.dot(rv),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Es),Es.x>=0&&Es.y>=0&&Es.x+Es.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Es),l.set(0,0),l.addScaledVector(s,Es.x),l.addScaledVector(o,Es.y),l.addScaledVector(a,Es.z),l}static isFrontFacing(e,t,i,r){return Cr.subVectors(i,t),Cs.subVectors(e,t),Cr.cross(Cs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cr.subVectors(this.c,this.b),Cs.subVectors(this.a,this.b),Cr.cross(Cs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return dr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return dr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return dr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return dr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return dr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Ul.subVectors(r,i),zl.subVectors(s,i),sv.subVectors(e,i);const l=Ul.dot(sv),c=zl.dot(sv);if(l<=0&&c<=0)return t.copy(i);ov.subVectors(e,r);const d=Ul.dot(ov),h=zl.dot(ov);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Ul,o);av.subVectors(e,s);const m=Ul.dot(av),y=zl.dot(av);if(y>=0&&m<=y)return t.copy(s);const v=m*c-l*y;if(v<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(zl,a);const x=d*y-m*h;if(x<=0&&h-d>=0&&m-y>=0)return JC.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(JC,a);const _=1/(x+v+p);return o=v*_,a=p*_,t.copy(i).addScaledVector(Ul,o).addScaledVector(zl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let hN=0;class Cn extends cs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hN++}),this.uuid=Gi(),this.name="",this.type="Material",this.blending=Ya,this.side=os,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=lA,this.blendDst=uA,this.blendEquation=Fa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=lg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bm,this.stencilZFail=bm,this.stencilZPass=bm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ya&&(i.blending=this.blending),this.side!==os&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ui extends Cn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sn=new D,vp=new pe;class It{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Yf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)vp.fromBufferAttribute(this,t),vp.applyMatrix3(e),this.setXY(t,vp.x,vp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix3(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix4(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyNormalMatrix(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.transformDirection(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ks(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ks(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ks(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ks(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class pN extends It{constructor(e,t,i){super(new Int8Array(e),t,i)}}class mN extends It{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class gN extends It{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class yN extends It{constructor(e,t,i){super(new Int16Array(e),t,i)}}class yA extends It{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class vN extends It{constructor(e,t,i){super(new Int32Array(e),t,i)}}class vA extends It{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class xN extends It{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class We extends It{constructor(e,t,i){super(new Float32Array(e),t,i)}}class _N extends It{constructor(e,t,i){super(new Float64Array(e),t,i)}}let AN=0;const sr=new rt,lv=new Pt,Gl=new D,Oi=new ta,kc=new ta,kn=new D;class lt extends cs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AN++}),this.uuid=Gi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mR(e)?vA:yA)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new di().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return sr.makeRotationFromQuaternion(e),this.applyMatrix4(sr),this}rotateX(e){return sr.makeRotationX(e),this.applyMatrix4(sr),this}rotateY(e){return sr.makeRotationY(e),this.applyMatrix4(sr),this}rotateZ(e){return sr.makeRotationZ(e),this.applyMatrix4(sr),this}translate(e,t,i){return sr.makeTranslation(e,t,i),this.applyMatrix4(sr),this}scale(e,t,i){return sr.makeScale(e,t,i),this.applyMatrix4(sr),this}lookAt(e){return lv.lookAt(e),lv.updateMatrix(),this.applyMatrix4(lv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gl).negate(),this.translate(Gl.x,Gl.y,Gl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new We(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ta);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Oi.setFromBufferAttribute(s),this.morphTargetsRelative?(kn.addVectors(this.boundingBox.min,Oi.min),this.boundingBox.expandByPoint(kn),kn.addVectors(this.boundingBox.max,Oi.max),this.boundingBox.expandByPoint(kn)):(this.boundingBox.expandByPoint(Oi.min),this.boundingBox.expandByPoint(Oi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new na);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(Oi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];kc.setFromBufferAttribute(a),this.morphTargetsRelative?(kn.addVectors(Oi.min,kc.min),Oi.expandByPoint(kn),kn.addVectors(Oi.max,kc.max),Oi.expandByPoint(kn)):(Oi.expandByPoint(kc.min),Oi.expandByPoint(kc.max))}Oi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)kn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(kn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)kn.fromBufferAttribute(a,c),l&&(Gl.fromBufferAttribute(e,c),kn.add(Gl)),r=Math.max(r,i.distanceToSquared(kn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new It(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new D,d[L]=new D;const h=new D,p=new D,m=new D,y=new pe,v=new pe,x=new pe,_=new D,S=new D;function M(L,U,Z){h.fromArray(r,L*3),p.fromArray(r,U*3),m.fromArray(r,Z*3),y.fromArray(o,L*2),v.fromArray(o,U*2),x.fromArray(o,Z*2),p.sub(h),m.sub(h),v.sub(y),x.sub(y);const J=1/(v.x*x.y-x.x*v.y);isFinite(J)&&(_.copy(p).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(J),S.copy(m).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(J),c[L].add(_),c[U].add(_),c[Z].add(_),d[L].add(S),d[U].add(S),d[Z].add(S))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let L=0,U=w.length;L<U;++L){const Z=w[L],J=Z.start,G=Z.count;for(let Y=J,te=J+G;Y<te;Y+=3)M(i[Y+0],i[Y+1],i[Y+2])}const b=new D,P=new D,R=new D,E=new D;function B(L){R.fromArray(s,L*3),E.copy(R);const U=c[L];b.copy(U),b.sub(R.multiplyScalar(R.dot(U))).normalize(),P.crossVectors(E,U);const J=P.dot(d[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=J}for(let L=0,U=w.length;L<U;++L){const Z=w[L],J=Z.start,G=Z.count;for(let Y=J,te=J+G;Y<te;Y+=3)B(i[Y+0]),B(i[Y+1]),B(i[Y+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new It(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,c=new D,d=new D,h=new D;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),v=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,x),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)kn.fromBufferAttribute(e,t),kn.normalize(),e.setXYZ(t,kn.x,kn.y,kn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let m=0,y=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*d;for(let _=0;_<d;_++)p[y++]=c[m++]}return new It(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new lt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const XC=new rt,Hl=new yd,uv=new na,Nc=new D,Uc=new D,zc=new D,cv=new D,xp=new D,_p=new pe,Ap=new pe,Sp=new pe,fv=new D,Mp=new D;class zn extends Pt{constructor(e=new lt,t=new Ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){xp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(cv.fromBufferAttribute(h,e),o?xp.addScaledVector(cv,d):xp.addScaledVector(cv.sub(t),d))}t.add(xp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),uv.copy(i.boundingSphere),uv.applyMatrix4(s),e.ray.intersectsSphere(uv)===!1)||(XC.copy(s).invert(),Hl.copy(e.ray).applyMatrix4(XC),i.boundingBox!==null&&Hl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],_=Math.max(v.start,p.start),S=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let M=_,w=S;M<w;M+=3){const b=a.getX(M),P=a.getX(M+1),R=a.getX(M+2);o=wp(this,x,e,Hl,c,d,b,P,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const _=a.getX(v),S=a.getX(v+1),M=a.getX(v+2);o=wp(this,r,e,Hl,c,d,_,S,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],_=Math.max(v.start,p.start),S=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let M=_,w=S;M<w;M+=3){const b=M,P=M+1,R=M+2;o=wp(this,x,e,Hl,c,d,b,P,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const _=v,S=v+1,M=v+2;o=wp(this,r,e,Hl,c,d,_,S,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function SN(n,e,t,i,r,s,o,a){let l;if(e.side===Pi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===os,a),l===null)return null;Mp.copy(a),Mp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Mp);return c<t.near||c>t.far?null:{distance:c,point:Mp.clone(),object:n}}function wp(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,Nc),n.getVertexPosition(a,Uc),n.getVertexPosition(l,zc);const c=SN(n,e,t,i,Nc,Uc,zc,fv);if(c){r&&(_p.fromBufferAttribute(r,o),Ap.fromBufferAttribute(r,a),Sp.fromBufferAttribute(r,l),c.uv=dr.getUV(fv,Nc,Uc,zc,_p,Ap,Sp,new pe)),s&&(_p.fromBufferAttribute(s,o),Ap.fromBufferAttribute(s,a),Sp.fromBufferAttribute(s,l),c.uv2=dr.getUV(fv,Nc,Uc,zc,_p,Ap,Sp,new pe));const d={a:o,b:a,c:l,normal:new D,materialIndex:0};dr.getNormal(Nc,Uc,zc,d.normal),c.face=d}return c}class ia extends lt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new We(c,3)),this.setAttribute("normal",new We(d,3)),this.setAttribute("uv",new We(h,2));function y(v,x,_,S,M,w,b,P,R,E,B){const L=w/R,U=b/E,Z=w/2,J=b/2,G=P/2,Y=R+1,te=E+1;let le=0,O=0;const V=new D;for(let j=0;j<te;j++){const ae=j*U-J;for(let W=0;W<Y;W++){const ce=W*L-Z;V[v]=ce*S,V[x]=ae*M,V[_]=G,c.push(V.x,V.y,V.z),V[v]=0,V[x]=0,V[_]=P>0?1:-1,d.push(V.x,V.y,V.z),h.push(W/R),h.push(1-j/E),le+=1}}for(let j=0;j<E;j++)for(let ae=0;ae<R;ae++){const W=p+ae+Y*j,ce=p+ae+Y*(j+1),ye=p+(ae+1)+Y*(j+1),xe=p+(ae+1)+Y*j;l.push(W,ce,xe),l.push(ce,ye,xe),O+=6}a.addGroup(m,O,B),m+=O,p+=le}}static fromJSON(e){return new ia(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Uu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ui(n){const e={};for(let t=0;t<n.length;t++){const i=Uu(n[t]);for(const r in i)e[r]=i[r]}return e}function MN(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function yR(n){return n.getRenderTarget()===null&&n.outputEncoding===wt?br:Nu}const vR={clone:Uu,merge:ui};var wN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,CN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ls extends Cn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=wN,this.fragmentShader=CN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uu(e.uniforms),this.uniformsGroups=MN(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class xd extends Pt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new rt,this.projectionMatrix=new rt,this.projectionMatrixInverse=new rt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class zt extends xd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Qf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Qf*2*Math.atan(Math.tan(qa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(qa*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vl=-90,Wl=1;class xA extends Pt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new zt(Vl,Wl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new zt(Vl,Wl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new zt(Vl,Wl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new zt(Vl,Wl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new zt(Vl,Wl,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new zt(Vl,Wl,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Dr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class _d extends Qt{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Wo,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _A extends kr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new _d(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ia(5,5,5),s=new ls({name:"CubemapFromEquirect",uniforms:Uu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Pi,blending:Gs});s.uniforms.tEquirect.value=t;const o=new zn(r,s),a=t.minFilter;return t.minFilter===as&&(t.minFilter=nn),new xA(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const dv=new D,EN=new D,TN=new di;class wo{constructor(e=new D(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=dv.subVectors(i,t).cross(EN.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(dv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||TN.getNormalMatrix(e),r=this.coplanarPoint(dv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jl=new na,Cp=new D;class jg{constructor(e=new wo,t=new wo,i=new wo,r=new wo,s=new wo,o=new wo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],v=i[11],x=i[12],_=i[13],S=i[14],M=i[15];return t[0].setComponents(a-r,h-l,v-p,M-x).normalize(),t[1].setComponents(a+r,h+l,v+p,M+x).normalize(),t[2].setComponents(a+s,h+c,v+m,M+_).normalize(),t[3].setComponents(a-s,h-c,v-m,M-_).normalize(),t[4].setComponents(a-o,h-d,v-y,M-S).normalize(),t[5].setComponents(a+o,h+d,v+y,M+S).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),jl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(jl)}intersectsSprite(e){return jl.center.set(0,0,0),jl.radius=.7071067811865476,jl.applyMatrix4(e.matrixWorld),this.intersectsSphere(jl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Cp.x=r.normal.x>0?e.max.x:e.min.x,Cp.y=r.normal.y>0?e.max.y:e.min.y,Cp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function xR(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function bN(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),c.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,d)):h.version<c.version&&(s(h.buffer,c,d),h.version=c.version)}return{get:o,remove:a,update:l}}class qu extends lt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],v=[],x=[];for(let _=0;_<d;_++){const S=_*p-o;for(let M=0;M<c;M++){const w=M*h-s;y.push(w,-S,0),v.push(0,0,1),x.push(M/a),x.push(1-_/l)}}for(let _=0;_<l;_++)for(let S=0;S<a;S++){const M=S+c*_,w=S+c*(_+1),b=S+1+c*(_+1),P=S+1+c*_;m.push(M,w,P),m.push(w,b,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(v,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new qu(e.width,e.height,e.widthSegments,e.heightSegments)}}var PN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,BN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RN=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,LN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,IN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,DN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,FN="vec3 transformed = vec3( position );",ON=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,NN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,UN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,GN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,XN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,KN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,YN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QN=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$N=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,eU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tU="gl_FragColor = linearToOutputTexel( gl_FragColor );",nU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,iU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,rU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,oU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,aU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,uU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,cU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,pU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,gU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,xU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,_U=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,AU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,SU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,MU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,wU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,CU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,EU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,TU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,bU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,PU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,BU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,RU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,LU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,IU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,DU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,OU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,NU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,UU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,zU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,GU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,HU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,VU=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,KU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,YU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,QU=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ZU=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qU=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$U=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ez=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tz=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,nz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,iz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oz=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,az=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,uz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,cz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,dz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,yz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,xz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,_z=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Az=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Sz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Mz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,wz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Cz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Ez=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Tz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,bz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Pz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Rz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Iz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Dz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Fz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Oz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Nz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Uz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Gz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Hz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Jz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Kz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Yz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$z=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,e4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t4=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,n4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,i4=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,r4=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,s4=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,o4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ht={alphamap_fragment:PN,alphamap_pars_fragment:BN,alphatest_fragment:RN,alphatest_pars_fragment:LN,aomap_fragment:IN,aomap_pars_fragment:DN,begin_vertex:FN,beginnormal_vertex:ON,bsdfs:kN,iridescence_fragment:NN,bumpmap_pars_fragment:UN,clipping_planes_fragment:zN,clipping_planes_pars_fragment:GN,clipping_planes_pars_vertex:HN,clipping_planes_vertex:VN,color_fragment:WN,color_pars_fragment:jN,color_pars_vertex:JN,color_vertex:XN,common:KN,cube_uv_reflection_fragment:YN,defaultnormal_vertex:QN,displacementmap_pars_vertex:ZN,displacementmap_vertex:qN,emissivemap_fragment:$N,emissivemap_pars_fragment:eU,encodings_fragment:tU,encodings_pars_fragment:nU,envmap_fragment:iU,envmap_common_pars_fragment:rU,envmap_pars_fragment:sU,envmap_pars_vertex:oU,envmap_physical_pars_fragment:vU,envmap_vertex:aU,fog_vertex:lU,fog_pars_vertex:uU,fog_fragment:cU,fog_pars_fragment:fU,gradientmap_pars_fragment:dU,lightmap_fragment:hU,lightmap_pars_fragment:pU,lights_lambert_fragment:mU,lights_lambert_pars_fragment:gU,lights_pars_begin:yU,lights_toon_fragment:xU,lights_toon_pars_fragment:_U,lights_phong_fragment:AU,lights_phong_pars_fragment:SU,lights_physical_fragment:MU,lights_physical_pars_fragment:wU,lights_fragment_begin:CU,lights_fragment_maps:EU,lights_fragment_end:TU,logdepthbuf_fragment:bU,logdepthbuf_pars_fragment:PU,logdepthbuf_pars_vertex:BU,logdepthbuf_vertex:RU,map_fragment:LU,map_pars_fragment:IU,map_particle_fragment:DU,map_particle_pars_fragment:FU,metalnessmap_fragment:OU,metalnessmap_pars_fragment:kU,morphcolor_vertex:NU,morphnormal_vertex:UU,morphtarget_pars_vertex:zU,morphtarget_vertex:GU,normal_fragment_begin:HU,normal_fragment_maps:VU,normal_pars_fragment:WU,normal_pars_vertex:jU,normal_vertex:JU,normalmap_pars_fragment:XU,clearcoat_normal_fragment_begin:KU,clearcoat_normal_fragment_maps:YU,clearcoat_pars_fragment:QU,iridescence_pars_fragment:ZU,output_fragment:qU,packing:$U,premultiplied_alpha_fragment:ez,project_vertex:tz,dithering_fragment:nz,dithering_pars_fragment:iz,roughnessmap_fragment:rz,roughnessmap_pars_fragment:sz,shadowmap_pars_fragment:oz,shadowmap_pars_vertex:az,shadowmap_vertex:lz,shadowmask_pars_fragment:uz,skinbase_vertex:cz,skinning_pars_vertex:fz,skinning_vertex:dz,skinnormal_vertex:hz,specularmap_fragment:pz,specularmap_pars_fragment:mz,tonemapping_fragment:gz,tonemapping_pars_fragment:yz,transmission_fragment:vz,transmission_pars_fragment:xz,uv_pars_fragment:_z,uv_pars_vertex:Az,uv_vertex:Sz,uv2_pars_fragment:Mz,uv2_pars_vertex:wz,uv2_vertex:Cz,worldpos_vertex:Ez,background_vert:Tz,background_frag:bz,backgroundCube_vert:Pz,backgroundCube_frag:Bz,cube_vert:Rz,cube_frag:Lz,depth_vert:Iz,depth_frag:Dz,distanceRGBA_vert:Fz,distanceRGBA_frag:Oz,equirect_vert:kz,equirect_frag:Nz,linedashed_vert:Uz,linedashed_frag:zz,meshbasic_vert:Gz,meshbasic_frag:Hz,meshlambert_vert:Vz,meshlambert_frag:Wz,meshmatcap_vert:jz,meshmatcap_frag:Jz,meshnormal_vert:Xz,meshnormal_frag:Kz,meshphong_vert:Yz,meshphong_frag:Qz,meshphysical_vert:Zz,meshphysical_frag:qz,meshtoon_vert:$z,meshtoon_frag:e4,points_vert:t4,points_frag:n4,shadow_vert:i4,shadow_frag:r4,sprite_vert:s4,sprite_frag:o4},Be={common:{diffuse:{value:new Re(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new di},uv2Transform:{value:new di},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new di}},sprite:{diffuse:{value:new Re(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new di}}},Br={basic:{uniforms:ui([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:ht.meshbasic_vert,fragmentShader:ht.meshbasic_frag},lambert:{uniforms:ui([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Re(0)}}]),vertexShader:ht.meshlambert_vert,fragmentShader:ht.meshlambert_frag},phong:{uniforms:ui([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:ht.meshphong_vert,fragmentShader:ht.meshphong_frag},standard:{uniforms:ui([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag},toon:{uniforms:ui([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Re(0)}}]),vertexShader:ht.meshtoon_vert,fragmentShader:ht.meshtoon_frag},matcap:{uniforms:ui([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:ht.meshmatcap_vert,fragmentShader:ht.meshmatcap_frag},points:{uniforms:ui([Be.points,Be.fog]),vertexShader:ht.points_vert,fragmentShader:ht.points_frag},dashed:{uniforms:ui([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ht.linedashed_vert,fragmentShader:ht.linedashed_frag},depth:{uniforms:ui([Be.common,Be.displacementmap]),vertexShader:ht.depth_vert,fragmentShader:ht.depth_frag},normal:{uniforms:ui([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:ht.meshnormal_vert,fragmentShader:ht.meshnormal_frag},sprite:{uniforms:ui([Be.sprite,Be.fog]),vertexShader:ht.sprite_vert,fragmentShader:ht.sprite_frag},background:{uniforms:{uvTransform:{value:new di},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ht.background_vert,fragmentShader:ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ht.backgroundCube_vert,fragmentShader:ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ht.cube_vert,fragmentShader:ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ht.equirect_vert,fragmentShader:ht.equirect_frag},distanceRGBA:{uniforms:ui([Be.common,Be.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ht.distanceRGBA_vert,fragmentShader:ht.distanceRGBA_frag},shadow:{uniforms:ui([Be.lights,Be.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:ht.shadow_vert,fragmentShader:ht.shadow_frag}};Br.physical={uniforms:ui([Br.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Re(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Re(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Re(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag};const Ep={r:0,b:0,g:0};function a4(n,e,t,i,r,s,o){const a=new Re(0);let l=s===!0?0:1,c,d,h=null,p=0,m=null;function y(x,_){let S=!1,M=_.isScene===!0?_.background:null;M&&M.isTexture&&(M=(_.backgroundBlurriness>0?t:e).get(M));const w=n.xr,b=w.getSession&&w.getSession();b&&b.environmentBlendMode==="additive"&&(M=null),M===null?v(a,l):M&&M.isColor&&(v(M,1),S=!0),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Zu)?(d===void 0&&(d=new zn(new ia(1,1,1),new ls({name:"BackgroundCubeMaterial",uniforms:Uu(Br.backgroundCube.uniforms),vertexShader:Br.backgroundCube.vertexShader,fragmentShader:Br.backgroundCube.fragmentShader,side:Pi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.toneMapped=M.encoding!==wt,(h!==M||p!==M.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=M,p=M.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new zn(new qu(2,2),new ls({name:"BackgroundMaterial",uniforms:Uu(Br.background.uniforms),vertexShader:Br.background.vertexShader,fragmentShader:Br.background.fragmentShader,side:os,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=M.encoding!==wt,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(h!==M||p!==M.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=M,p=M.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function v(x,_){x.getRGB(Ep,yR(n)),i.buffers.color.setClear(Ep.r,Ep.g,Ep.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(x,_=1){a.set(x),l=_,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:y}}function l4(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function h(G,Y,te,le,O){let V=!1;if(o){const j=v(le,te,Y);c!==j&&(c=j,m(c.object)),V=_(G,le,te,O),V&&S(G,le,te,O)}else{const j=Y.wireframe===!0;(c.geometry!==le.id||c.program!==te.id||c.wireframe!==j)&&(c.geometry=le.id,c.program=te.id,c.wireframe=j,V=!0)}O!==null&&t.update(O,34963),(V||d)&&(d=!1,E(G,Y,te,le),O!==null&&n.bindBuffer(34963,t.get(O).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(G){return i.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function y(G){return i.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function v(G,Y,te){const le=te.wireframe===!0;let O=a[G.id];O===void 0&&(O={},a[G.id]=O);let V=O[Y.id];V===void 0&&(V={},O[Y.id]=V);let j=V[le];return j===void 0&&(j=x(p()),V[le]=j),j}function x(G){const Y=[],te=[],le=[];for(let O=0;O<r;O++)Y[O]=0,te[O]=0,le[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:te,attributeDivisors:le,object:G,attributes:{},index:null}}function _(G,Y,te,le){const O=c.attributes,V=Y.attributes;let j=0;const ae=te.getAttributes();for(const W in ae)if(ae[W].location>=0){const ye=O[W];let xe=V[W];if(xe===void 0&&(W==="instanceMatrix"&&G.instanceMatrix&&(xe=G.instanceMatrix),W==="instanceColor"&&G.instanceColor&&(xe=G.instanceColor)),ye===void 0||ye.attribute!==xe||xe&&ye.data!==xe.data)return!0;j++}return c.attributesNum!==j||c.index!==le}function S(G,Y,te,le){const O={},V=Y.attributes;let j=0;const ae=te.getAttributes();for(const W in ae)if(ae[W].location>=0){let ye=V[W];ye===void 0&&(W==="instanceMatrix"&&G.instanceMatrix&&(ye=G.instanceMatrix),W==="instanceColor"&&G.instanceColor&&(ye=G.instanceColor));const xe={};xe.attribute=ye,ye&&ye.data&&(xe.data=ye.data),O[W]=xe,j++}c.attributes=O,c.attributesNum=j,c.index=le}function M(){const G=c.newAttributes;for(let Y=0,te=G.length;Y<te;Y++)G[Y]=0}function w(G){b(G,0)}function b(G,Y){const te=c.newAttributes,le=c.enabledAttributes,O=c.attributeDivisors;te[G]=1,le[G]===0&&(n.enableVertexAttribArray(G),le[G]=1),O[G]!==Y&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,Y),O[G]=Y)}function P(){const G=c.newAttributes,Y=c.enabledAttributes;for(let te=0,le=Y.length;te<le;te++)Y[te]!==G[te]&&(n.disableVertexAttribArray(te),Y[te]=0)}function R(G,Y,te,le,O,V){i.isWebGL2===!0&&(te===5124||te===5125)?n.vertexAttribIPointer(G,Y,te,O,V):n.vertexAttribPointer(G,Y,te,le,O,V)}function E(G,Y,te,le){if(i.isWebGL2===!1&&(G.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const O=le.attributes,V=te.getAttributes(),j=Y.defaultAttributeValues;for(const ae in V){const W=V[ae];if(W.location>=0){let ce=O[ae];if(ce===void 0&&(ae==="instanceMatrix"&&G.instanceMatrix&&(ce=G.instanceMatrix),ae==="instanceColor"&&G.instanceColor&&(ce=G.instanceColor)),ce!==void 0){const ye=ce.normalized,xe=ce.itemSize,$=t.get(ce);if($===void 0)continue;const Oe=$.buffer,ke=$.type,Ge=$.bytesPerElement;if(ce.isInterleavedBufferAttribute){const Ae=ce.data,Le=Ae.stride,de=ce.offset;if(Ae.isInstancedInterleavedBuffer){for(let re=0;re<W.locationSize;re++)b(W.location+re,Ae.meshPerAttribute);G.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let re=0;re<W.locationSize;re++)w(W.location+re);n.bindBuffer(34962,Oe);for(let re=0;re<W.locationSize;re++)R(W.location+re,xe/W.locationSize,ke,ye,Le*Ge,(de+xe/W.locationSize*re)*Ge)}else{if(ce.isInstancedBufferAttribute){for(let Ae=0;Ae<W.locationSize;Ae++)b(W.location+Ae,ce.meshPerAttribute);G.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Ae=0;Ae<W.locationSize;Ae++)w(W.location+Ae);n.bindBuffer(34962,Oe);for(let Ae=0;Ae<W.locationSize;Ae++)R(W.location+Ae,xe/W.locationSize,ke,ye,xe*Ge,xe/W.locationSize*Ae*Ge)}}else if(j!==void 0){const ye=j[ae];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(W.location,ye);break;case 3:n.vertexAttrib3fv(W.location,ye);break;case 4:n.vertexAttrib4fv(W.location,ye);break;default:n.vertexAttrib1fv(W.location,ye)}}}}P()}function B(){Z();for(const G in a){const Y=a[G];for(const te in Y){const le=Y[te];for(const O in le)y(le[O].object),delete le[O];delete Y[te]}delete a[G]}}function L(G){if(a[G.id]===void 0)return;const Y=a[G.id];for(const te in Y){const le=Y[te];for(const O in le)y(le[O].object),delete le[O];delete Y[te]}delete a[G.id]}function U(G){for(const Y in a){const te=a[Y];if(te[G.id]===void 0)continue;const le=te[G.id];for(const O in le)y(le[O].object),delete le[O];delete te[G.id]}}function Z(){J(),d=!0,c!==l&&(c=l,m(c.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:Z,resetDefaultState:J,dispose:B,releaseStatesOfGeometry:L,releaseStatesOfProgram:U,initAttributes:M,enableAttribute:w,disableUnusedAttributes:P}}function u4(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function c4(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),_=n.getParameter(36348),S=n.getParameter(36349),M=p>0,w=o||e.has("OES_texture_float"),b=M&&w,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:w,floatVertexTextures:b,maxSamples:P}}function f4(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new wo,a=new di,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,v=h.clipIntersection,x=h.clipShadows,_=n.get(h);if(!r||y===null||y.length===0||s&&!x)s?d(null):c();else{const S=s?0:i,M=S*4;let w=_.clippingState||null;l.value=w,w=d(y,p,M,m);for(let b=0;b!==M;++b)w[b]=t[b];_.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const v=h!==null?h.length:0;let x=null;if(v!==0){if(x=l.value,y!==!0||x===null){const _=m+v*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<_)&&(x=new Float32Array(_));for(let M=0,w=m;M!==v;++M,w+=4)o.copy(h[M]).applyMatrix4(S,a),o.normal.toArray(x,w),x[w+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function d4(n){let e=new WeakMap;function t(o,a){return a===jf?o.mapping=Wo:a===Jf&&(o.mapping=jo),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===jf||a===Jf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new _A(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Fr extends xd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hu=4,KC=[.125,.215,.35,.446,.526,.582],Oa=20,hv=new Fr,YC=new Re;let pv=null;const Ra=(1+Math.sqrt(5))/2,Jl=1/Ra,QC=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Ra,Jl),new D(0,Ra,-Jl),new D(Jl,0,Ra),new D(-Jl,0,Ra),new D(Ra,Jl,0),new D(-Ra,Jl,0)];class T_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){pv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=$C(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(pv),e.scissorTest=!1,Tp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wo||e.mapping===jo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),pv=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:nn,minFilter:nn,generateMipmaps:!1,type:Ou,format:wi,encoding:Ys,depthBuffer:!1},r=ZC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ZC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=h4(s)),this._blurMaterial=p4(s,e,t)}return r}_compileMaterial(e){const t=new zn(this._lodPlanes[0],e);this._renderer.compile(t,hv)}_sceneToCubeUV(e,t,i,r){const a=new zt(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(YC),d.toneMapping=Dr,d.autoClear=!1;const m=new Ui({name:"PMREM.Background",side:Pi,depthWrite:!1,depthTest:!1}),y=new zn(new ia,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(YC),v=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):S===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const M=this._cubeSize;Tp(r,S*M,_>2?M:0,M,M),d.setRenderTarget(r),v&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Wo||e.mapping===jo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=$C()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new zn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Tp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,hv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=QC[(r-1)%QC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new zn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Oa-1),v=s/y,x=isFinite(s)?1+Math.floor(d*v):Oa;x>Oa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Oa}`);const _=[];let S=0;for(let R=0;R<Oa;++R){const E=R/v,B=Math.exp(-E*E/2);_.push(B),R===0?S+=B:R<x&&(S+=2*B)}for(let R=0;R<_.length;R++)_[R]=_[R]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=y,p.mipInt.value=M-i;const w=this._sizeLods[r],b=3*w*(r>M-hu?r-M+hu:0),P=4*(this._cubeSize-w);Tp(t,b,P,3*w,2*w),l.setRenderTarget(t),l.render(h,hv)}}function h4(n){const e=[],t=[],i=[];let r=n;const s=n-hu+1+KC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-hu?l=KC[o-n+hu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,v=3,x=2,_=1,S=new Float32Array(v*y*m),M=new Float32Array(x*y*m),w=new Float32Array(_*y*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,E=P>2?0:-1,B=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];S.set(B,v*y*P),M.set(p,x*y*P);const L=[P,P,P,P,P,P];w.set(L,_*y*P)}const b=new lt;b.setAttribute("position",new It(S,v)),b.setAttribute("uv",new It(M,x)),b.setAttribute("faceIndex",new It(w,_)),e.push(b),r>hu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function ZC(n,e,t){const i=new kr(n,e,t);return i.texture.mapping=Zu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Tp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function p4(n,e,t){const i=new Float32Array(Oa),r=new D(0,1,0);return new ls({name:"SphericalGaussianBlur",defines:{n:Oa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:AA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gs,depthTest:!1,depthWrite:!1})}function qC(){return new ls({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:AA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gs,depthTest:!1,depthWrite:!1})}function $C(){return new ls({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:AA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gs,depthTest:!1,depthWrite:!1})}function AA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function m4(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===jf||l===Jf,d=l===Wo||l===jo;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new T_(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new T_(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function g4(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function y4(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const v=m[y];for(let x=0,_=v.length;x<_;x++)e.update(v[x],34962)}}function c(h){const p=[],m=h.index,y=h.attributes.position;let v=0;if(m!==null){const S=m.array;v=m.version;for(let M=0,w=S.length;M<w;M+=3){const b=S[M+0],P=S[M+1],R=S[M+2];p.push(b,P,P,R,R,b)}}else{const S=y.array;v=y.version;for(let M=0,w=S.length/3-1;M<w;M+=3){const b=M+0,P=M+1,R=M+2;p.push(b,P,P,R,R,b)}}const x=new(mR(p)?vA:yA)(p,1);x.version=v;const _=s.get(h);_&&e.remove(_),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function v4(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let v,x;if(r)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h}function x4(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function _4(n,e){return n[0]-e[0]}function A4(n,e){return Math.abs(e[1])-Math.abs(n[1])}function S4(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ft,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,v=y!==void 0?y.length:0;let x=s.get(d);if(x===void 0||x.count!==v){let Y=function(){J.dispose(),s.delete(d),d.removeEventListener("dispose",Y)};x!==void 0&&x.texture.dispose();const M=d.morphAttributes.position!==void 0,w=d.morphAttributes.normal!==void 0,b=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],E=d.morphAttributes.color||[];let B=0;M===!0&&(B=1),w===!0&&(B=2),b===!0&&(B=3);let L=d.attributes.position.count*B,U=1;L>e.maxTextureSize&&(U=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const Z=new Float32Array(L*U*4*v),J=new Wg(Z,L,U,v);J.type=Os,J.needsUpdate=!0;const G=B*4;for(let te=0;te<v;te++){const le=P[te],O=R[te],V=E[te],j=L*U*4*te;for(let ae=0;ae<le.count;ae++){const W=ae*G;M===!0&&(o.fromBufferAttribute(le,ae),Z[j+W+0]=o.x,Z[j+W+1]=o.y,Z[j+W+2]=o.z,Z[j+W+3]=0),w===!0&&(o.fromBufferAttribute(O,ae),Z[j+W+4]=o.x,Z[j+W+5]=o.y,Z[j+W+6]=o.z,Z[j+W+7]=0),b===!0&&(o.fromBufferAttribute(V,ae),Z[j+W+8]=o.x,Z[j+W+9]=o.y,Z[j+W+10]=o.z,Z[j+W+11]=V.itemSize===4?o.w:1)}}x={count:v,texture:J,size:new pe(L,U)},s.set(d,x),d.addEventListener("dispose",Y)}let _=0;for(let M=0;M<m.length;M++)_+=m[M];const S=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=m===void 0?0:m.length;let v=i[d.id];if(v===void 0||v.length!==y){v=[];for(let w=0;w<y;w++)v[w]=[w,0];i[d.id]=v}for(let w=0;w<y;w++){const b=v[w];b[0]=w,b[1]=m[w]}v.sort(A4);for(let w=0;w<8;w++)w<y&&v[w][1]?(a[w][0]=v[w][0],a[w][1]=v[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(_4);const x=d.morphAttributes.position,_=d.morphAttributes.normal;let S=0;for(let w=0;w<8;w++){const b=a[w],P=b[0],R=b[1];P!==Number.MAX_SAFE_INTEGER&&R?(x&&d.getAttribute("morphTarget"+w)!==x[P]&&d.setAttribute("morphTarget"+w,x[P]),_&&d.getAttribute("morphNormal"+w)!==_[P]&&d.setAttribute("morphNormal"+w,_[P]),r[w]=R,S+=R):(x&&d.hasAttribute("morphTarget"+w)===!0&&d.deleteAttribute("morphTarget"+w),_&&d.hasAttribute("morphNormal"+w)===!0&&d.deleteAttribute("morphNormal"+w),r[w]=0)}const M=d.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function M4(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const _R=new Qt,AR=new Wg,SR=new gA,MR=new _d,eE=[],tE=[],nE=new Float32Array(16),iE=new Float32Array(9),rE=new Float32Array(4);function $u(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=eE[r];if(s===void 0&&(s=new Float32Array(r),eE[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Bn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Rn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Jg(n,e){let t=tE[e];t===void 0&&(t=new Int32Array(e),tE[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function w4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function C4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2fv(this.addr,e),Rn(t,e)}}function E4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bn(t,e))return;n.uniform3fv(this.addr,e),Rn(t,e)}}function T4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4fv(this.addr,e),Rn(t,e)}}function b4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Rn(t,e)}else{if(Bn(t,i))return;rE.set(i),n.uniformMatrix2fv(this.addr,!1,rE),Rn(t,i)}}function P4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Rn(t,e)}else{if(Bn(t,i))return;iE.set(i),n.uniformMatrix3fv(this.addr,!1,iE),Rn(t,i)}}function B4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Rn(t,e)}else{if(Bn(t,i))return;nE.set(i),n.uniformMatrix4fv(this.addr,!1,nE),Rn(t,i)}}function R4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function L4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2iv(this.addr,e),Rn(t,e)}}function I4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3iv(this.addr,e),Rn(t,e)}}function D4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4iv(this.addr,e),Rn(t,e)}}function F4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function O4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2uiv(this.addr,e),Rn(t,e)}}function k4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3uiv(this.addr,e),Rn(t,e)}}function N4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4uiv(this.addr,e),Rn(t,e)}}function U4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||_R,r)}function z4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||SR,r)}function G4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||MR,r)}function H4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||AR,r)}function V4(n){switch(n){case 5126:return w4;case 35664:return C4;case 35665:return E4;case 35666:return T4;case 35674:return b4;case 35675:return P4;case 35676:return B4;case 5124:case 35670:return R4;case 35667:case 35671:return L4;case 35668:case 35672:return I4;case 35669:case 35673:return D4;case 5125:return F4;case 36294:return O4;case 36295:return k4;case 36296:return N4;case 35678:case 36198:case 36298:case 36306:case 35682:return U4;case 35679:case 36299:case 36307:return z4;case 35680:case 36300:case 36308:case 36293:return G4;case 36289:case 36303:case 36311:case 36292:return H4}}function W4(n,e){n.uniform1fv(this.addr,e)}function j4(n,e){const t=$u(e,this.size,2);n.uniform2fv(this.addr,t)}function J4(n,e){const t=$u(e,this.size,3);n.uniform3fv(this.addr,t)}function X4(n,e){const t=$u(e,this.size,4);n.uniform4fv(this.addr,t)}function K4(n,e){const t=$u(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Y4(n,e){const t=$u(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Q4(n,e){const t=$u(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Z4(n,e){n.uniform1iv(this.addr,e)}function q4(n,e){n.uniform2iv(this.addr,e)}function $4(n,e){n.uniform3iv(this.addr,e)}function eG(n,e){n.uniform4iv(this.addr,e)}function tG(n,e){n.uniform1uiv(this.addr,e)}function nG(n,e){n.uniform2uiv(this.addr,e)}function iG(n,e){n.uniform3uiv(this.addr,e)}function rG(n,e){n.uniform4uiv(this.addr,e)}function sG(n,e,t){const i=this.cache,r=e.length,s=Jg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Rn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||_R,s[o])}function oG(n,e,t){const i=this.cache,r=e.length,s=Jg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Rn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||SR,s[o])}function aG(n,e,t){const i=this.cache,r=e.length,s=Jg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Rn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||MR,s[o])}function lG(n,e,t){const i=this.cache,r=e.length,s=Jg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Rn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||AR,s[o])}function uG(n){switch(n){case 5126:return W4;case 35664:return j4;case 35665:return J4;case 35666:return X4;case 35674:return K4;case 35675:return Y4;case 35676:return Q4;case 5124:case 35670:return Z4;case 35667:case 35671:return q4;case 35668:case 35672:return $4;case 35669:case 35673:return eG;case 5125:return tG;case 36294:return nG;case 36295:return iG;case 36296:return rG;case 35678:case 36198:case 36298:case 36306:case 35682:return sG;case 35679:case 36299:case 36307:return oG;case 35680:case 36300:case 36308:case 36293:return aG;case 36289:case 36303:case 36311:case 36292:return lG}}class cG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=V4(t.type)}}class fG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=uG(t.type)}}class dG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const mv=/(\w+)(\])?(\[|\.)?/g;function sE(n,e){n.seq.push(e),n.map[e.id]=e}function hG(n,e,t){const i=n.name,r=i.length;for(mv.lastIndex=0;;){const s=mv.exec(i),o=mv.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){sE(t,c===void 0?new cG(a,n,e):new fG(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new dG(a),sE(t,h)),t=h}}}class Bm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);hG(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function oE(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let pG=0;function mG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function gG(n){switch(n){case Ys:return["Linear","( value )"];case wt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function aE(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+mG(n.getShaderSource(e),o)}else return r}function yG(n,e){const t=gG(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function vG(n,e){let t;switch(e){case zB:t="Linear";break;case GB:t="Reinhard";break;case HB:t="OptimizedCineon";break;case cA:t="ACESFilmic";break;case VB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function xG(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(of).join(`
`)}function _G(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function AG(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function of(n){return n!==""}function lE(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uE(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const SG=/^[ \t]*#include +<([\w\d./]+)>/gm;function b_(n){return n.replace(SG,MG)}function MG(n,e){const t=ht[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return b_(t)}const wG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cE(n){return n.replace(wG,CG)}function CG(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function fE(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===zg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===yf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ga&&(e="SHADOWMAP_TYPE_VSM"),e}function TG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wo:case jo:e="ENVMAP_TYPE_CUBE";break;case Zu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function bG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case jo:e="ENVMAP_MODE_REFRACTION";break}return e}function PG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case gd:e="ENVMAP_BLENDING_MULTIPLY";break;case NB:e="ENVMAP_BLENDING_MIX";break;case UB:e="ENVMAP_BLENDING_ADD";break}return e}function BG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function RG(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=EG(t),c=TG(t),d=bG(t),h=PG(t),p=BG(t),m=t.isWebGL2?"":xG(t),y=_G(s),v=r.createProgram();let x,_,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(of).join(`
`),x.length>0&&(x+=`
`),_=[m,y].filter(of).join(`
`),_.length>0&&(_+=`
`)):(x=[fE(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(of).join(`
`),_=[m,fE(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Dr?"#define TONE_MAPPING":"",t.toneMapping!==Dr?ht.tonemapping_pars_fragment:"",t.toneMapping!==Dr?vG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ht.encodings_pars_fragment,yG("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(of).join(`
`)),o=b_(o),o=lE(o,t),o=uE(o,t),a=b_(a),a=lE(a,t),a=uE(a,t),o=cE(o),a=cE(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,_=["#define varying in",t.glslVersion===C_?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===C_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const M=S+x+o,w=S+_+a,b=oE(r,35633,M),P=oE(r,35632,w);if(r.attachShader(v,b),r.attachShader(v,P),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const B=r.getProgramInfoLog(v).trim(),L=r.getShaderInfoLog(b).trim(),U=r.getShaderInfoLog(P).trim();let Z=!0,J=!0;if(r.getProgramParameter(v,35714)===!1){Z=!1;const G=aE(r,b,"vertex"),Y=aE(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+B+`
`+G+`
`+Y)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(L===""||U==="")&&(J=!1);J&&(this.diagnostics={runnable:Z,programLog:B,vertexShader:{log:L,prefix:x},fragmentShader:{log:U,prefix:_}})}r.deleteShader(b),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Bm(r,v)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=AG(r,v)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=pG++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=P,this}let LG=0;class IG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new DG(e),t.set(e,i)),i}}class DG{constructor(e){this.id=LG++,this.code=e,this.usedTimes=0}}function FG(n,e,t,i,r,s,o){const a=new el,l=new IG,c=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(E,B,L,U,Z){const J=U.fog,G=Z.geometry,Y=E.isMeshStandardMaterial?U.environment:null,te=(E.isMeshStandardMaterial?t:e).get(E.envMap||Y),le=te&&te.mapping===Zu?te.image.height:null,O=y[E.type];E.precision!==null&&(m=r.getMaxPrecision(E.precision),m!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));const V=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,j=V!==void 0?V.length:0;let ae=0;G.morphAttributes.position!==void 0&&(ae=1),G.morphAttributes.normal!==void 0&&(ae=2),G.morphAttributes.color!==void 0&&(ae=3);let W,ce,ye,xe;if(O){const Le=Br[O];W=Le.vertexShader,ce=Le.fragmentShader}else W=E.vertexShader,ce=E.fragmentShader,l.update(E),ye=l.getVertexShaderID(E),xe=l.getFragmentShaderID(E);const $=n.getRenderTarget(),Oe=E.alphaTest>0,ke=E.clearcoat>0,Ge=E.iridescence>0;return{isWebGL2:d,shaderID:O,shaderName:E.type,vertexShader:W,fragmentShader:ce,defines:E.defines,customVertexShaderID:ye,customFragmentShaderID:xe,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,instancing:Z.isInstancedMesh===!0,instancingColor:Z.isInstancedMesh===!0&&Z.instanceColor!==null,supportsVertexTextures:p,outputEncoding:$===null?n.outputEncoding:$.isXRRenderTarget===!0?$.texture.encoding:Ys,map:!!E.map,matcap:!!E.matcap,envMap:!!te,envMapMode:te&&te.mapping,envMapCubeUVHeight:le,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===fR,tangentSpaceNormalMap:E.normalMapType===qs,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===wt,clearcoat:ke,clearcoatMap:ke&&!!E.clearcoatMap,clearcoatRoughnessMap:ke&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:ke&&!!E.clearcoatNormalMap,iridescence:Ge,iridescenceMap:Ge&&!!E.iridescenceMap,iridescenceThicknessMap:Ge&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===Ya,alphaMap:!!E.alphaMap,alphaTest:Oe,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!G.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!J,useFog:E.fog===!0,fogExp2:J&&J.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Z.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:ae,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:Dr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Rr,flipSided:E.side===Pi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function x(E){const B=[];if(E.shaderID?B.push(E.shaderID):(B.push(E.customVertexShaderID),B.push(E.customFragmentShaderID)),E.defines!==void 0)for(const L in E.defines)B.push(L),B.push(E.defines[L]);return E.isRawShaderMaterial===!1&&(_(B,E),S(B,E),B.push(n.outputEncoding)),B.push(E.customProgramCacheKey),B.join()}function _(E,B){E.push(B.precision),E.push(B.outputEncoding),E.push(B.envMapMode),E.push(B.envMapCubeUVHeight),E.push(B.combine),E.push(B.vertexUvs),E.push(B.fogExp2),E.push(B.sizeAttenuation),E.push(B.morphTargetsCount),E.push(B.morphAttributeCount),E.push(B.numDirLights),E.push(B.numPointLights),E.push(B.numSpotLights),E.push(B.numSpotLightMaps),E.push(B.numHemiLights),E.push(B.numRectAreaLights),E.push(B.numDirLightShadows),E.push(B.numPointLightShadows),E.push(B.numSpotLightShadows),E.push(B.numSpotLightShadowsWithMaps),E.push(B.shadowMapType),E.push(B.toneMapping),E.push(B.numClippingPlanes),E.push(B.numClipIntersection),E.push(B.depthPacking)}function S(E,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),E.push(a.mask)}function M(E){const B=y[E.type];let L;if(B){const U=Br[B];L=vR.clone(U.uniforms)}else L=E.uniforms;return L}function w(E,B){let L;for(let U=0,Z=c.length;U<Z;U++){const J=c[U];if(J.cacheKey===B){L=J,++L.usedTimes;break}}return L===void 0&&(L=new RG(n,B,E,s),c.push(L)),L}function b(E){if(--E.usedTimes===0){const B=c.indexOf(E);c[B]=c[c.length-1],c.pop(),E.destroy()}}function P(E){l.remove(E)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:M,acquireProgram:w,releaseProgram:b,releaseShaderCache:P,programs:c,dispose:R}}function OG(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function kG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function dE(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function hE(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,v,x){let _=n[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:v,group:x},n[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=m,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=v,_.group=x),e++,_}function a(h,p,m,y,v,x){const _=o(h,p,m,y,v,x);m.transmission>0?i.push(_):m.transparent===!0?r.push(_):t.push(_)}function l(h,p,m,y,v,x){const _=o(h,p,m,y,v,x);m.transmission>0?i.unshift(_):m.transparent===!0?r.unshift(_):t.unshift(_)}function c(h,p){t.length>1&&t.sort(h||kG),i.length>1&&i.sort(p||dE),r.length>1&&r.sort(p||dE)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function NG(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new hE,n.set(i,[o])):r>=s.length?(o=new hE,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function UG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new D,color:new Re};break;case"SpotLight":t={position:new D,direction:new D,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new D,color:new Re,distance:0,decay:0};break;case"HemisphereLight":t={direction:new D,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":t={color:new Re,position:new D,halfWidth:new D,halfHeight:new D};break}return n[e.id]=t,t}}}function zG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let GG=0;function HG(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function VG(n,e){const t=new UG,i=zG(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new D);const s=new D,o=new rt,a=new rt;function l(d,h){let p=0,m=0,y=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let v=0,x=0,_=0,S=0,M=0,w=0,b=0,P=0,R=0,E=0;d.sort(HG);const B=h!==!0?Math.PI:1;for(let U=0,Z=d.length;U<Z;U++){const J=d[U],G=J.color,Y=J.intensity,te=J.distance,le=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)p+=G.r*Y*B,m+=G.g*Y*B,y+=G.b*Y*B;else if(J.isLightProbe)for(let O=0;O<9;O++)r.probe[O].addScaledVector(J.sh.coefficients[O],Y);else if(J.isDirectionalLight){const O=t.get(J);if(O.color.copy(J.color).multiplyScalar(J.intensity*B),J.castShadow){const V=J.shadow,j=i.get(J);j.shadowBias=V.bias,j.shadowNormalBias=V.normalBias,j.shadowRadius=V.radius,j.shadowMapSize=V.mapSize,r.directionalShadow[v]=j,r.directionalShadowMap[v]=le,r.directionalShadowMatrix[v]=J.shadow.matrix,w++}r.directional[v]=O,v++}else if(J.isSpotLight){const O=t.get(J);O.position.setFromMatrixPosition(J.matrixWorld),O.color.copy(G).multiplyScalar(Y*B),O.distance=te,O.coneCos=Math.cos(J.angle),O.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),O.decay=J.decay,r.spot[_]=O;const V=J.shadow;if(J.map&&(r.spotLightMap[R]=J.map,R++,V.updateMatrices(J),J.castShadow&&E++),r.spotLightMatrix[_]=V.matrix,J.castShadow){const j=i.get(J);j.shadowBias=V.bias,j.shadowNormalBias=V.normalBias,j.shadowRadius=V.radius,j.shadowMapSize=V.mapSize,r.spotShadow[_]=j,r.spotShadowMap[_]=le,P++}_++}else if(J.isRectAreaLight){const O=t.get(J);O.color.copy(G).multiplyScalar(Y),O.halfWidth.set(J.width*.5,0,0),O.halfHeight.set(0,J.height*.5,0),r.rectArea[S]=O,S++}else if(J.isPointLight){const O=t.get(J);if(O.color.copy(J.color).multiplyScalar(J.intensity*B),O.distance=J.distance,O.decay=J.decay,J.castShadow){const V=J.shadow,j=i.get(J);j.shadowBias=V.bias,j.shadowNormalBias=V.normalBias,j.shadowRadius=V.radius,j.shadowMapSize=V.mapSize,j.shadowCameraNear=V.camera.near,j.shadowCameraFar=V.camera.far,r.pointShadow[x]=j,r.pointShadowMap[x]=le,r.pointShadowMatrix[x]=J.shadow.matrix,b++}r.point[x]=O,x++}else if(J.isHemisphereLight){const O=t.get(J);O.skyColor.copy(J.color).multiplyScalar(Y*B),O.groundColor.copy(J.groundColor).multiplyScalar(Y*B),r.hemi[M]=O,M++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==v||L.pointLength!==x||L.spotLength!==_||L.rectAreaLength!==S||L.hemiLength!==M||L.numDirectionalShadows!==w||L.numPointShadows!==b||L.numSpotShadows!==P||L.numSpotMaps!==R)&&(r.directional.length=v,r.spot.length=_,r.rectArea.length=S,r.point.length=x,r.hemi.length=M,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=P+R-E,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=E,L.directionalLength=v,L.pointLength=x,L.spotLength=_,L.rectAreaLength=S,L.hemiLength=M,L.numDirectionalShadows=w,L.numPointShadows=b,L.numSpotShadows=P,L.numSpotMaps=R,r.version=GG++)}function c(d,h){let p=0,m=0,y=0,v=0,x=0;const _=h.matrixWorldInverse;for(let S=0,M=d.length;S<M;S++){const w=d[S];if(w.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(_),p++}else if(w.isSpotLight){const b=r.spot[y];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(_),b.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(_),y++}else if(w.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(_),a.identity(),o.copy(w.matrixWorld),o.premultiply(_),a.extractRotation(o),b.halfWidth.set(w.width*.5,0,0),b.halfHeight.set(0,w.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(_),m++}else if(w.isHemisphereLight){const b=r.hemi[x];b.direction.setFromMatrixPosition(w.matrixWorld),b.direction.transformDirection(_),x++}}}return{setup:l,setupView:c,state:r}}function pE(n,e){const t=new VG(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function WG(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new pE(n,e),t.set(s,[l])):o>=a.length?(l=new pE(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class SA extends Cn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MA extends Cn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const jG=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JG=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function XG(n,e,t){let i=new jg;const r=new pe,s=new pe,o=new Ft,a=new SA({depthPacking:cR}),l=new MA,c={},d=t.maxTextureSize,h={[os]:Pi,[Pi]:os,[Rr]:Rr},p=new ls({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:jG,fragmentShader:JG}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new lt;y.setAttribute("position",new It(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new zn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zg,this.render=function(w,b,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),E=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Gs),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let U=0,Z=w.length;U<Z;U++){const J=w[U],G=J.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;r.copy(G.mapSize);const Y=G.getFrameExtents();if(r.multiply(Y),s.copy(G.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/Y.x),r.x=s.x*Y.x,G.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/Y.y),r.y=s.y*Y.y,G.mapSize.y=s.y)),G.map===null){const le=this.type!==Ga?{minFilter:pn,magFilter:pn}:{};G.map=new kr(r.x,r.y,le),G.map.texture.name=J.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const te=G.getViewportCount();for(let le=0;le<te;le++){const O=G.getViewport(le);o.set(s.x*O.x,s.y*O.y,s.x*O.z,s.y*O.w),L.viewport(o),G.updateMatrices(J,le),i=G.getFrustum(),M(b,P,G.camera,J,this.type)}G.isPointLightShadow!==!0&&this.type===Ga&&_(G,P),G.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,E,B)};function _(w,b){const P=e.update(v);p.defines.VSM_SAMPLES!==w.blurSamples&&(p.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new kr(r.x,r.y)),p.uniforms.shadow_pass.value=w.map.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(b,null,P,p,v,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(b,null,P,m,v,null)}function S(w,b,P,R,E,B){let L=null;const U=P.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(U!==void 0)L=U;else if(L=P.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const Z=L.uuid,J=b.uuid;let G=c[Z];G===void 0&&(G={},c[Z]=G);let Y=G[J];Y===void 0&&(Y=L.clone(),G[J]=Y),L=Y}return L.visible=b.visible,L.wireframe=b.wireframe,B===Ga?L.side=b.shadowSide!==null?b.shadowSide:b.side:L.side=b.shadowSide!==null?b.shadowSide:h[b.side],L.alphaMap=b.alphaMap,L.alphaTest=b.alphaTest,L.map=b.map,L.clipShadows=b.clipShadows,L.clippingPlanes=b.clippingPlanes,L.clipIntersection=b.clipIntersection,L.displacementMap=b.displacementMap,L.displacementScale=b.displacementScale,L.displacementBias=b.displacementBias,L.wireframeLinewidth=b.wireframeLinewidth,L.linewidth=b.linewidth,P.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(P.matrixWorld),L.nearDistance=R,L.farDistance=E),L}function M(w,b,P,R,E){if(w.visible===!1)return;if(w.layers.test(b.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===Ga)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,w.matrixWorld);const U=e.update(w),Z=w.material;if(Array.isArray(Z)){const J=U.groups;for(let G=0,Y=J.length;G<Y;G++){const te=J[G],le=Z[te.materialIndex];if(le&&le.visible){const O=S(w,le,R,P.near,P.far,E);n.renderBufferDirect(P,null,U,O,w,te)}}}else if(Z.visible){const J=S(w,Z,R,P.near,P.far,E);n.renderBufferDirect(P,null,U,J,w,null)}}const L=w.children;for(let U=0,Z=L.length;U<Z;U++)M(L[U],b,P,R,E)}}function KG(n,e,t){const i=t.isWebGL2;function r(){let K=!1;const ue=new Ft;let ve=null;const Ne=new Ft(0,0,0,0);return{setMask:function(Ke){ve!==Ke&&!K&&(n.colorMask(Ke,Ke,Ke,Ke),ve=Ke)},setLocked:function(Ke){K=Ke},setClear:function(Ke,Tt,mn,Ln,Hr){Hr===!0&&(Ke*=Ln,Tt*=Ln,mn*=Ln),ue.set(Ke,Tt,mn,Ln),Ne.equals(ue)===!1&&(n.clearColor(Ke,Tt,mn,Ln),Ne.copy(ue))},reset:function(){K=!1,ve=null,Ne.set(-1,0,0,0)}}}function s(){let K=!1,ue=null,ve=null,Ne=null;return{setTest:function(Ke){Ke?Oe(2929):ke(2929)},setMask:function(Ke){ue!==Ke&&!K&&(n.depthMask(Ke),ue=Ke)},setFunc:function(Ke){if(ve!==Ke){switch(Ke){case RB:n.depthFunc(512);break;case LB:n.depthFunc(519);break;case IB:n.depthFunc(513);break;case lg:n.depthFunc(515);break;case DB:n.depthFunc(514);break;case FB:n.depthFunc(518);break;case OB:n.depthFunc(516);break;case kB:n.depthFunc(517);break;default:n.depthFunc(515)}ve=Ke}},setLocked:function(Ke){K=Ke},setClear:function(Ke){Ne!==Ke&&(n.clearDepth(Ke),Ne=Ke)},reset:function(){K=!1,ue=null,ve=null,Ne=null}}}function o(){let K=!1,ue=null,ve=null,Ne=null,Ke=null,Tt=null,mn=null,Ln=null,Hr=null;return{setTest:function(kt){K||(kt?Oe(2960):ke(2960))},setMask:function(kt){ue!==kt&&!K&&(n.stencilMask(kt),ue=kt)},setFunc:function(kt,Xi,vi){(ve!==kt||Ne!==Xi||Ke!==vi)&&(n.stencilFunc(kt,Xi,vi),ve=kt,Ne=Xi,Ke=vi)},setOp:function(kt,Xi,vi){(Tt!==kt||mn!==Xi||Ln!==vi)&&(n.stencilOp(kt,Xi,vi),Tt=kt,mn=Xi,Ln=vi)},setLocked:function(kt){K=kt},setClear:function(kt){Hr!==kt&&(n.clearStencil(kt),Hr=kt)},reset:function(){K=!1,ue=null,ve=null,Ne=null,Ke=null,Tt=null,mn=null,Ln=null,Hr=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,v=[],x=null,_=!1,S=null,M=null,w=null,b=null,P=null,R=null,E=null,B=!1,L=null,U=null,Z=null,J=null,G=null;const Y=n.getParameter(35661);let te=!1,le=0;const O=n.getParameter(7938);O.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(O)[1]),te=le>=1):O.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),te=le>=2);let V=null,j={};const ae=n.getParameter(3088),W=n.getParameter(2978),ce=new Ft().fromArray(ae),ye=new Ft().fromArray(W);function xe(K,ue,ve){const Ne=new Uint8Array(4),Ke=n.createTexture();n.bindTexture(K,Ke),n.texParameteri(K,10241,9728),n.texParameteri(K,10240,9728);for(let Tt=0;Tt<ve;Tt++)n.texImage2D(ue+Tt,0,6408,1,1,0,6408,5121,Ne);return Ke}const $={};$[3553]=xe(3553,3553,1),$[34067]=xe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Oe(2929),l.setFunc(lg),Pe(!1),Qe(Qx),Oe(2884),we(Gs);function Oe(K){p[K]!==!0&&(n.enable(K),p[K]=!0)}function ke(K){p[K]!==!1&&(n.disable(K),p[K]=!1)}function Ge(K,ue){return m[K]!==ue?(n.bindFramebuffer(K,ue),m[K]=ue,i&&(K===36009&&(m[36160]=ue),K===36160&&(m[36009]=ue)),!0):!1}function Ae(K,ue){let ve=v,Ne=!1;if(K)if(ve=y.get(ue),ve===void 0&&(ve=[],y.set(ue,ve)),K.isWebGLMultipleRenderTargets){const Ke=K.texture;if(ve.length!==Ke.length||ve[0]!==36064){for(let Tt=0,mn=Ke.length;Tt<mn;Tt++)ve[Tt]=36064+Tt;ve.length=Ke.length,Ne=!0}}else ve[0]!==36064&&(ve[0]=36064,Ne=!0);else ve[0]!==1029&&(ve[0]=1029,Ne=!0);Ne&&(t.isWebGL2?n.drawBuffers(ve):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ve))}function Le(K){return x!==K?(n.useProgram(K),x=K,!0):!1}const de={[Fa]:32774,[_B]:32778,[AB]:32779};if(i)de[e_]=32775,de[t_]=32776;else{const K=e.get("EXT_blend_minmax");K!==null&&(de[e_]=K.MIN_EXT,de[t_]=K.MAX_EXT)}const re={[SB]:0,[MB]:1,[wB]:768,[lA]:770,[BB]:776,[bB]:774,[EB]:772,[CB]:769,[uA]:771,[PB]:775,[TB]:773};function we(K,ue,ve,Ne,Ke,Tt,mn,Ln){if(K===Gs){_===!0&&(ke(3042),_=!1);return}if(_===!1&&(Oe(3042),_=!0),K!==xB){if(K!==S||Ln!==B){if((M!==Fa||P!==Fa)&&(n.blendEquation(32774),M=Fa,P=Fa),Ln)switch(K){case Ya:n.blendFuncSeparate(1,771,1,771);break;case Zx:n.blendFunc(1,1);break;case qx:n.blendFuncSeparate(0,769,0,1);break;case $x:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case Ya:n.blendFuncSeparate(770,771,1,771);break;case Zx:n.blendFunc(770,1);break;case qx:n.blendFuncSeparate(0,769,0,1);break;case $x:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}w=null,b=null,R=null,E=null,S=K,B=Ln}return}Ke=Ke||ue,Tt=Tt||ve,mn=mn||Ne,(ue!==M||Ke!==P)&&(n.blendEquationSeparate(de[ue],de[Ke]),M=ue,P=Ke),(ve!==w||Ne!==b||Tt!==R||mn!==E)&&(n.blendFuncSeparate(re[ve],re[Ne],re[Tt],re[mn]),w=ve,b=Ne,R=Tt,E=mn),S=K,B=!1}function Ue(K,ue){K.side===Rr?ke(2884):Oe(2884);let ve=K.side===Pi;ue&&(ve=!ve),Pe(ve),K.blending===Ya&&K.transparent===!1?we(Gs):we(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const Ne=K.stencilWrite;c.setTest(Ne),Ne&&(c.setMask(K.stencilWriteMask),c.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),c.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Ve(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?Oe(32926):ke(32926)}function Pe(K){L!==K&&(K?n.frontFace(2304):n.frontFace(2305),L=K)}function Qe(K){K!==gB?(Oe(2884),K!==U&&(K===Qx?n.cullFace(1029):K===yB?n.cullFace(1028):n.cullFace(1032))):ke(2884),U=K}function je(K){K!==Z&&(te&&n.lineWidth(K),Z=K)}function Ve(K,ue,ve){K?(Oe(32823),(J!==ue||G!==ve)&&(n.polygonOffset(ue,ve),J=ue,G=ve)):ke(32823)}function yt(K){K?Oe(3089):ke(3089)}function St(K){K===void 0&&(K=33984+Y-1),V!==K&&(n.activeTexture(K),V=K)}function N(K,ue,ve){ve===void 0&&(V===null?ve=33984+Y-1:ve=V);let Ne=j[ve];Ne===void 0&&(Ne={type:void 0,texture:void 0},j[ve]=Ne),(Ne.type!==K||Ne.texture!==ue)&&(V!==ve&&(n.activeTexture(ve),V=ve),n.bindTexture(K,ue||$[K]),Ne.type=K,Ne.texture=ue)}function I(){const K=j[V];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function ie(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function be(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function tt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ie(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function me(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Je(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function z(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function se(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function _e(K){ce.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),ce.copy(K))}function Te(K){ye.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),ye.copy(K))}function qe(K,ue){let ve=h.get(ue);ve===void 0&&(ve=new WeakMap,h.set(ue,ve));let Ne=ve.get(K);Ne===void 0&&(Ne=n.getUniformBlockIndex(ue,K.name),ve.set(K,Ne))}function gt(K,ue){const Ne=h.get(ue).get(K);d.get(ue)!==Ne&&(n.uniformBlockBinding(ue,Ne,K.__bindingPointIndex),d.set(ue,Ne))}function Ht(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},V=null,j={},m={},y=new WeakMap,v=[],x=null,_=!1,S=null,M=null,w=null,b=null,P=null,R=null,E=null,B=!1,L=null,U=null,Z=null,J=null,G=null,ce.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Oe,disable:ke,bindFramebuffer:Ge,drawBuffers:Ae,useProgram:Le,setBlending:we,setMaterial:Ue,setFlipSided:Pe,setCullFace:Qe,setLineWidth:je,setPolygonOffset:Ve,setScissorTest:yt,activeTexture:St,bindTexture:N,unbindTexture:I,compressedTexImage2D:ie,compressedTexImage3D:Se,texImage2D:z,texImage3D:se,updateUBOMapping:qe,uniformBlockBinding:gt,texStorage2D:me,texStorage3D:Je,texSubImage2D:Ce,texSubImage3D:be,compressedTexSubImage2D:tt,compressedTexSubImage3D:Ie,scissor:_e,viewport:Te,reset:Ht}}function YG(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(N,I){return _?new OffscreenCanvas(N,I):Zf("canvas")}function M(N,I,ie,Se){let Ce=1;if((N.width>Se||N.height>Se)&&(Ce=Se/Math.max(N.width,N.height)),Ce<1||I===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const be=I?cg:Math.floor,tt=be(Ce*N.width),Ie=be(Ce*N.height);v===void 0&&(v=S(tt,Ie));const me=ie?S(tt,Ie):v;return me.width=tt,me.height=Ie,me.getContext("2d").drawImage(N,0,0,tt,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+tt+"x"+Ie+")."),me}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function w(N){return E_(N.width)&&E_(N.height)}function b(N){return a?!1:N.wrapS!==Wn||N.wrapT!==Wn||N.minFilter!==pn&&N.minFilter!==nn}function P(N,I){return N.generateMipmaps&&I&&N.minFilter!==pn&&N.minFilter!==nn}function R(N){n.generateMipmap(N)}function E(N,I,ie,Se,Ce=!1){if(a===!1)return I;if(N!==null){if(n[N]!==void 0)return n[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let be=I;return I===6403&&(ie===5126&&(be=33326),ie===5131&&(be=33325),ie===5121&&(be=33321)),I===33319&&(ie===5126&&(be=33328),ie===5131&&(be=33327),ie===5121&&(be=33323)),I===6408&&(ie===5126&&(be=34836),ie===5131&&(be=34842),ie===5121&&(be=Se===wt&&Ce===!1?35907:32856),ie===32819&&(be=32854),ie===32820&&(be=32855)),(be===33325||be===33326||be===33327||be===33328||be===34842||be===34836)&&e.get("EXT_color_buffer_float"),be}function B(N,I,ie){return P(N,ie)===!0||N.isFramebufferTexture&&N.minFilter!==pn&&N.minFilter!==nn?Math.log2(Math.max(I.width,I.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?I.mipmaps.length:1}function L(N){return N===pn||N===Xf||N===Cu?9728:9729}function U(N){const I=N.target;I.removeEventListener("dispose",U),J(I),I.isVideoTexture&&y.delete(I)}function Z(N){const I=N.target;I.removeEventListener("dispose",Z),Y(I)}function J(N){const I=i.get(N);if(I.__webglInit===void 0)return;const ie=N.source,Se=x.get(ie);if(Se){const Ce=Se[I.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&G(N),Object.keys(Se).length===0&&x.delete(ie)}i.remove(N)}function G(N){const I=i.get(N);n.deleteTexture(I.__webglTexture);const ie=N.source,Se=x.get(ie);delete Se[I.__cacheKey],o.memory.textures--}function Y(N){const I=N.texture,ie=i.get(N),Se=i.get(I);if(Se.__webglTexture!==void 0&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(ie.__webglFramebuffer[Ce]),ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(ie.__webglFramebuffer),ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let Ce=0;Ce<ie.__webglColorRenderbuffer.length;Ce++)ie.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[Ce]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}if(N.isWebGLMultipleRenderTargets)for(let Ce=0,be=I.length;Ce<be;Ce++){const tt=i.get(I[Ce]);tt.__webglTexture&&(n.deleteTexture(tt.__webglTexture),o.memory.textures--),i.remove(I[Ce])}i.remove(I),i.remove(N)}let te=0;function le(){te=0}function O(){const N=te;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),te+=1,N}function V(N){const I=[];return I.push(N.wrapS),I.push(N.wrapT),I.push(N.wrapR||0),I.push(N.magFilter),I.push(N.minFilter),I.push(N.anisotropy),I.push(N.internalFormat),I.push(N.format),I.push(N.type),I.push(N.generateMipmaps),I.push(N.premultiplyAlpha),I.push(N.flipY),I.push(N.unpackAlignment),I.push(N.encoding),I.join()}function j(N,I){const ie=i.get(N);if(N.isVideoTexture&&yt(N),N.isRenderTargetTexture===!1&&N.version>0&&ie.__version!==N.version){const Se=N.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(ie,N,I);return}}t.bindTexture(3553,ie.__webglTexture,33984+I)}function ae(N,I){const ie=i.get(N);if(N.version>0&&ie.__version!==N.version){ke(ie,N,I);return}t.bindTexture(35866,ie.__webglTexture,33984+I)}function W(N,I){const ie=i.get(N);if(N.version>0&&ie.__version!==N.version){ke(ie,N,I);return}t.bindTexture(32879,ie.__webglTexture,33984+I)}function ce(N,I){const ie=i.get(N);if(N.version>0&&ie.__version!==N.version){Ge(ie,N,I);return}t.bindTexture(34067,ie.__webglTexture,33984+I)}const ye={[Jo]:10497,[Wn]:33071,[Fu]:33648},xe={[pn]:9728,[Xf]:9984,[Cu]:9986,[nn]:9729,[Hg]:9985,[as]:9987};function $(N,I,ie){if(ie?(n.texParameteri(N,10242,ye[I.wrapS]),n.texParameteri(N,10243,ye[I.wrapT]),(N===32879||N===35866)&&n.texParameteri(N,32882,ye[I.wrapR]),n.texParameteri(N,10240,xe[I.magFilter]),n.texParameteri(N,10241,xe[I.minFilter])):(n.texParameteri(N,10242,33071),n.texParameteri(N,10243,33071),(N===32879||N===35866)&&n.texParameteri(N,32882,33071),(I.wrapS!==Wn||I.wrapT!==Wn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(N,10240,L(I.magFilter)),n.texParameteri(N,10241,L(I.minFilter)),I.minFilter!==pn&&I.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===pn||I.minFilter!==Cu&&I.minFilter!==as||I.type===Os&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Ou&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(N,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function Oe(N,I){let ie=!1;N.__webglInit===void 0&&(N.__webglInit=!0,I.addEventListener("dispose",U));const Se=I.source;let Ce=x.get(Se);Ce===void 0&&(Ce={},x.set(Se,Ce));const be=V(I);if(be!==N.__cacheKey){Ce[be]===void 0&&(Ce[be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ie=!0),Ce[be].usedTimes++;const tt=Ce[N.__cacheKey];tt!==void 0&&(Ce[N.__cacheKey].usedTimes--,tt.usedTimes===0&&G(I)),N.__cacheKey=be,N.__webglTexture=Ce[be].texture}return ie}function ke(N,I,ie){let Se=3553;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(Se=35866),I.isData3DTexture&&(Se=32879);const Ce=Oe(N,I),be=I.source;t.bindTexture(Se,N.__webglTexture,33984+ie);const tt=i.get(be);if(be.version!==tt.__version||Ce===!0){t.activeTexture(33984+ie),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const Ie=b(I)&&w(I.image)===!1;let me=M(I.image,Ie,!1,d);me=St(I,me);const Je=w(me)||a,z=s.convert(I.format,I.encoding);let se=s.convert(I.type),_e=E(I.internalFormat,z,se,I.encoding,I.isVideoTexture);$(Se,I,Je);let Te;const qe=I.mipmaps,gt=a&&I.isVideoTexture!==!0,Ht=tt.__version===void 0||Ce===!0,K=B(I,me,Je);if(I.isDepthTexture)_e=6402,a?I.type===Os?_e=36012:I.type===Bo?_e=33190:I.type===Qa?_e=35056:_e=33189:I.type===Os&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===zo&&_e===6402&&I.type!==fA&&I.type!==Bo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Bo,se=s.convert(I.type)),I.format===al&&_e===6402&&(_e=34041,I.type!==Qa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Qa,se=s.convert(I.type))),Ht&&(gt?t.texStorage2D(3553,1,_e,me.width,me.height):t.texImage2D(3553,0,_e,me.width,me.height,0,z,se,null));else if(I.isDataTexture)if(qe.length>0&&Je){gt&&Ht&&t.texStorage2D(3553,K,_e,qe[0].width,qe[0].height);for(let ue=0,ve=qe.length;ue<ve;ue++)Te=qe[ue],gt?t.texSubImage2D(3553,ue,0,0,Te.width,Te.height,z,se,Te.data):t.texImage2D(3553,ue,_e,Te.width,Te.height,0,z,se,Te.data);I.generateMipmaps=!1}else gt?(Ht&&t.texStorage2D(3553,K,_e,me.width,me.height),t.texSubImage2D(3553,0,0,0,me.width,me.height,z,se,me.data)):t.texImage2D(3553,0,_e,me.width,me.height,0,z,se,me.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){gt&&Ht&&t.texStorage3D(35866,K,_e,qe[0].width,qe[0].height,me.depth);for(let ue=0,ve=qe.length;ue<ve;ue++)Te=qe[ue],I.format!==wi?z!==null?gt?t.compressedTexSubImage3D(35866,ue,0,0,0,Te.width,Te.height,me.depth,z,Te.data,0,0):t.compressedTexImage3D(35866,ue,_e,Te.width,Te.height,me.depth,0,Te.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gt?t.texSubImage3D(35866,ue,0,0,0,Te.width,Te.height,me.depth,z,se,Te.data):t.texImage3D(35866,ue,_e,Te.width,Te.height,me.depth,0,z,se,Te.data)}else{gt&&Ht&&t.texStorage2D(3553,K,_e,qe[0].width,qe[0].height);for(let ue=0,ve=qe.length;ue<ve;ue++)Te=qe[ue],I.format!==wi?z!==null?gt?t.compressedTexSubImage2D(3553,ue,0,0,Te.width,Te.height,z,Te.data):t.compressedTexImage2D(3553,ue,_e,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gt?t.texSubImage2D(3553,ue,0,0,Te.width,Te.height,z,se,Te.data):t.texImage2D(3553,ue,_e,Te.width,Te.height,0,z,se,Te.data)}else if(I.isDataArrayTexture)gt?(Ht&&t.texStorage3D(35866,K,_e,me.width,me.height,me.depth),t.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,z,se,me.data)):t.texImage3D(35866,0,_e,me.width,me.height,me.depth,0,z,se,me.data);else if(I.isData3DTexture)gt?(Ht&&t.texStorage3D(32879,K,_e,me.width,me.height,me.depth),t.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,z,se,me.data)):t.texImage3D(32879,0,_e,me.width,me.height,me.depth,0,z,se,me.data);else if(I.isFramebufferTexture){if(Ht)if(gt)t.texStorage2D(3553,K,_e,me.width,me.height);else{let ue=me.width,ve=me.height;for(let Ne=0;Ne<K;Ne++)t.texImage2D(3553,Ne,_e,ue,ve,0,z,se,null),ue>>=1,ve>>=1}}else if(qe.length>0&&Je){gt&&Ht&&t.texStorage2D(3553,K,_e,qe[0].width,qe[0].height);for(let ue=0,ve=qe.length;ue<ve;ue++)Te=qe[ue],gt?t.texSubImage2D(3553,ue,0,0,z,se,Te):t.texImage2D(3553,ue,_e,z,se,Te);I.generateMipmaps=!1}else gt?(Ht&&t.texStorage2D(3553,K,_e,me.width,me.height),t.texSubImage2D(3553,0,0,0,z,se,me)):t.texImage2D(3553,0,_e,z,se,me);P(I,Je)&&R(Se),tt.__version=be.version,I.onUpdate&&I.onUpdate(I)}N.__version=I.version}function Ge(N,I,ie){if(I.image.length!==6)return;const Se=Oe(N,I),Ce=I.source;t.bindTexture(34067,N.__webglTexture,33984+ie);const be=i.get(Ce);if(Ce.version!==be.__version||Se===!0){t.activeTexture(33984+ie),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const tt=I.isCompressedTexture||I.image[0].isCompressedTexture,Ie=I.image[0]&&I.image[0].isDataTexture,me=[];for(let ue=0;ue<6;ue++)!tt&&!Ie?me[ue]=M(I.image[ue],!1,!0,c):me[ue]=Ie?I.image[ue].image:I.image[ue],me[ue]=St(I,me[ue]);const Je=me[0],z=w(Je)||a,se=s.convert(I.format,I.encoding),_e=s.convert(I.type),Te=E(I.internalFormat,se,_e,I.encoding),qe=a&&I.isVideoTexture!==!0,gt=be.__version===void 0||Se===!0;let Ht=B(I,Je,z);$(34067,I,z);let K;if(tt){qe&&gt&&t.texStorage2D(34067,Ht,Te,Je.width,Je.height);for(let ue=0;ue<6;ue++){K=me[ue].mipmaps;for(let ve=0;ve<K.length;ve++){const Ne=K[ve];I.format!==wi?se!==null?qe?t.compressedTexSubImage2D(34069+ue,ve,0,0,Ne.width,Ne.height,se,Ne.data):t.compressedTexImage2D(34069+ue,ve,Te,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qe?t.texSubImage2D(34069+ue,ve,0,0,Ne.width,Ne.height,se,_e,Ne.data):t.texImage2D(34069+ue,ve,Te,Ne.width,Ne.height,0,se,_e,Ne.data)}}}else{K=I.mipmaps,qe&&gt&&(K.length>0&&Ht++,t.texStorage2D(34067,Ht,Te,me[0].width,me[0].height));for(let ue=0;ue<6;ue++)if(Ie){qe?t.texSubImage2D(34069+ue,0,0,0,me[ue].width,me[ue].height,se,_e,me[ue].data):t.texImage2D(34069+ue,0,Te,me[ue].width,me[ue].height,0,se,_e,me[ue].data);for(let ve=0;ve<K.length;ve++){const Ke=K[ve].image[ue].image;qe?t.texSubImage2D(34069+ue,ve+1,0,0,Ke.width,Ke.height,se,_e,Ke.data):t.texImage2D(34069+ue,ve+1,Te,Ke.width,Ke.height,0,se,_e,Ke.data)}}else{qe?t.texSubImage2D(34069+ue,0,0,0,se,_e,me[ue]):t.texImage2D(34069+ue,0,Te,se,_e,me[ue]);for(let ve=0;ve<K.length;ve++){const Ne=K[ve];qe?t.texSubImage2D(34069+ue,ve+1,0,0,se,_e,Ne.image[ue]):t.texImage2D(34069+ue,ve+1,Te,se,_e,Ne.image[ue])}}}P(I,z)&&R(34067),be.__version=Ce.version,I.onUpdate&&I.onUpdate(I)}N.__version=I.version}function Ae(N,I,ie,Se,Ce){const be=s.convert(ie.format,ie.encoding),tt=s.convert(ie.type),Ie=E(ie.internalFormat,be,tt,ie.encoding);i.get(I).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,Ie,I.width,I.height,I.depth,0,be,tt,null):t.texImage2D(Ce,0,Ie,I.width,I.height,0,be,tt,null)),t.bindFramebuffer(36160,N),Ve(I)?p.framebufferTexture2DMultisampleEXT(36160,Se,Ce,i.get(ie).__webglTexture,0,je(I)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,Se,Ce,i.get(ie).__webglTexture,0),t.bindFramebuffer(36160,null)}function Le(N,I,ie){if(n.bindRenderbuffer(36161,N),I.depthBuffer&&!I.stencilBuffer){let Se=33189;if(ie||Ve(I)){const Ce=I.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Os?Se=36012:Ce.type===Bo&&(Se=33190));const be=je(I);Ve(I)?p.renderbufferStorageMultisampleEXT(36161,be,Se,I.width,I.height):n.renderbufferStorageMultisample(36161,be,Se,I.width,I.height)}else n.renderbufferStorage(36161,Se,I.width,I.height);n.framebufferRenderbuffer(36160,36096,36161,N)}else if(I.depthBuffer&&I.stencilBuffer){const Se=je(I);ie&&Ve(I)===!1?n.renderbufferStorageMultisample(36161,Se,35056,I.width,I.height):Ve(I)?p.renderbufferStorageMultisampleEXT(36161,Se,35056,I.width,I.height):n.renderbufferStorage(36161,34041,I.width,I.height),n.framebufferRenderbuffer(36160,33306,36161,N)}else{const Se=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let Ce=0;Ce<Se.length;Ce++){const be=Se[Ce],tt=s.convert(be.format,be.encoding),Ie=s.convert(be.type),me=E(be.internalFormat,tt,Ie,be.encoding),Je=je(I);ie&&Ve(I)===!1?n.renderbufferStorageMultisample(36161,Je,me,I.width,I.height):Ve(I)?p.renderbufferStorageMultisampleEXT(36161,Je,me,I.width,I.height):n.renderbufferStorage(36161,me,I.width,I.height)}}n.bindRenderbuffer(36161,null)}function de(N,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,N),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),j(I.depthTexture,0);const Se=i.get(I.depthTexture).__webglTexture,Ce=je(I);if(I.depthTexture.format===zo)Ve(I)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Se,0,Ce):n.framebufferTexture2D(36160,36096,3553,Se,0);else if(I.depthTexture.format===al)Ve(I)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Se,0,Ce):n.framebufferTexture2D(36160,33306,3553,Se,0);else throw new Error("Unknown depthTexture format")}function re(N){const I=i.get(N),ie=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!I.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");de(I.__webglFramebuffer,N)}else if(ie){I.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)t.bindFramebuffer(36160,I.__webglFramebuffer[Se]),I.__webglDepthbuffer[Se]=n.createRenderbuffer(),Le(I.__webglDepthbuffer[Se],N,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),Le(I.__webglDepthbuffer,N,!1);t.bindFramebuffer(36160,null)}function we(N,I,ie){const Se=i.get(N);I!==void 0&&Ae(Se.__webglFramebuffer,N,N.texture,36064,3553),ie!==void 0&&re(N)}function Ue(N){const I=N.texture,ie=i.get(N),Se=i.get(I);N.addEventListener("dispose",Z),N.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture()),Se.__version=I.version,o.memory.textures++);const Ce=N.isWebGLCubeRenderTarget===!0,be=N.isWebGLMultipleRenderTargets===!0,tt=w(N)||a;if(Ce){ie.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)ie.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(ie.__webglFramebuffer=n.createFramebuffer(),be)if(r.drawBuffers){const Ie=N.texture;for(let me=0,Je=Ie.length;me<Je;me++){const z=i.get(Ie[me]);z.__webglTexture===void 0&&(z.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&N.samples>0&&Ve(N)===!1){const Ie=be?I:[I];ie.__webglMultisampledFramebuffer=n.createFramebuffer(),ie.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ie.__webglMultisampledFramebuffer);for(let me=0;me<Ie.length;me++){const Je=Ie[me];ie.__webglColorRenderbuffer[me]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ie.__webglColorRenderbuffer[me]);const z=s.convert(Je.format,Je.encoding),se=s.convert(Je.type),_e=E(Je.internalFormat,z,se,Je.encoding,N.isXRRenderTarget===!0),Te=je(N);n.renderbufferStorageMultisample(36161,Te,_e,N.width,N.height),n.framebufferRenderbuffer(36160,36064+me,36161,ie.__webglColorRenderbuffer[me])}n.bindRenderbuffer(36161,null),N.depthBuffer&&(ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Le(ie.__webglDepthRenderbuffer,N,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,Se.__webglTexture),$(34067,I,tt);for(let Ie=0;Ie<6;Ie++)Ae(ie.__webglFramebuffer[Ie],N,I,36064,34069+Ie);P(I,tt)&&R(34067),t.unbindTexture()}else if(be){const Ie=N.texture;for(let me=0,Je=Ie.length;me<Je;me++){const z=Ie[me],se=i.get(z);t.bindTexture(3553,se.__webglTexture),$(3553,z,tt),Ae(ie.__webglFramebuffer,N,z,36064+me,3553),P(z,tt)&&R(3553)}t.unbindTexture()}else{let Ie=3553;(N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?Ie=N.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,Se.__webglTexture),$(Ie,I,tt),Ae(ie.__webglFramebuffer,N,I,36064,Ie),P(I,tt)&&R(Ie),t.unbindTexture()}N.depthBuffer&&re(N)}function Pe(N){const I=w(N)||a,ie=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Se=0,Ce=ie.length;Se<Ce;Se++){const be=ie[Se];if(P(be,I)){const tt=N.isWebGLCubeRenderTarget?34067:3553,Ie=i.get(be).__webglTexture;t.bindTexture(tt,Ie),R(tt),t.unbindTexture()}}}function Qe(N){if(a&&N.samples>0&&Ve(N)===!1){const I=N.isWebGLMultipleRenderTargets?N.texture:[N.texture],ie=N.width,Se=N.height;let Ce=16384;const be=[],tt=N.stencilBuffer?33306:36096,Ie=i.get(N),me=N.isWebGLMultipleRenderTargets===!0;if(me)for(let Je=0;Je<I.length;Je++)t.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,null),t.bindFramebuffer(36160,Ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,null,0);t.bindFramebuffer(36008,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ie.__webglFramebuffer);for(let Je=0;Je<I.length;Je++){be.push(36064+Je),N.depthBuffer&&be.push(tt);const z=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(z===!1&&(N.depthBuffer&&(Ce|=256),N.stencilBuffer&&(Ce|=1024)),me&&n.framebufferRenderbuffer(36008,36064,36161,Ie.__webglColorRenderbuffer[Je]),z===!0&&(n.invalidateFramebuffer(36008,[tt]),n.invalidateFramebuffer(36009,[tt])),me){const se=i.get(I[Je]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,se,0)}n.blitFramebuffer(0,0,ie,Se,0,0,ie,Se,Ce,9728),m&&n.invalidateFramebuffer(36008,be)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),me)for(let Je=0;Je<I.length;Je++){t.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,Ie.__webglColorRenderbuffer[Je]);const z=i.get(I[Je]).__webglTexture;t.bindFramebuffer(36160,Ie.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,z,0)}t.bindFramebuffer(36009,Ie.__webglMultisampledFramebuffer)}}function je(N){return Math.min(h,N.samples)}function Ve(N){const I=i.get(N);return a&&N.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function yt(N){const I=o.render.frame;y.get(N)!==I&&(y.set(N,I),N.update())}function St(N,I){const ie=N.encoding,Se=N.format,Ce=N.type;return N.isCompressedTexture===!0||N.isVideoTexture===!0||N.format===ug||ie!==Ys&&(ie===wt?a===!1?e.has("EXT_sRGB")===!0&&Se===wi?(N.format=ug,N.minFilter=nn,N.generateMipmaps=!1):I=mA.sRGBToLinear(I):(Se!==wi||Ce!==Ks)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ie)),I}this.allocateTextureUnit=O,this.resetTextureUnits=le,this.setTexture2D=j,this.setTexture2DArray=ae,this.setTexture3D=W,this.setTextureCube=ce,this.rebindTextures=we,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=Qe,this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=Ve}function wR(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Ks)return 5121;if(s===XB)return 32819;if(s===KB)return 32820;if(s===WB)return 5120;if(s===jB)return 5122;if(s===fA)return 5123;if(s===JB)return 5124;if(s===Bo)return 5125;if(s===Os)return 5126;if(s===Ou)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===YB)return 6406;if(s===wi)return 6408;if(s===QB)return 6409;if(s===ZB)return 6410;if(s===zo)return 6402;if(s===al)return 34041;if(s===ug)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===qB)return 6403;if(s===$B)return 36244;if(s===eR)return 33319;if(s===tR)return 33320;if(s===nR)return 36249;if(s===Sm||s===Mm||s===wm||s===Cm)if(o===wt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Sm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Mm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Cm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Sm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Mm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Cm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===n_||s===i_||s===r_||s===s_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===n_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===i_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===r_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===s_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===iR)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===o_||s===a_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===o_)return o===wt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===a_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===l_||s===u_||s===c_||s===f_||s===d_||s===h_||s===p_||s===m_||s===g_||s===y_||s===v_||s===x_||s===__||s===A_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===l_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===u_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===c_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===f_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===d_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===h_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===p_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===m_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===g_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===y_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===v_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===x_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===__)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===A_)return o===wt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Em)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Em)return o===wt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===rR||s===S_||s===M_||s===w_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Em)return a.COMPRESSED_RED_RGTC1_EXT;if(s===S_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===M_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===w_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Qa?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class CR extends zt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ns extends Pt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QG={type:"move"};class gv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ns,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ns,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ns,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,i),_=this._getHandJoint(c,v);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=x.radius),_.visible=x!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(QG)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ns;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class ER extends Qt{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:zo,d!==zo&&d!==al)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===zo&&(i=Bo),i===void 0&&d===al&&(i=Qa),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:pn,this.minFilter=l!==void 0?l:pn,this.flipY=!1,this.generateMipmaps=!1}}class ZG extends cs{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,m=null,y=null;const v=t.getContextAttributes();let x=null,_=null;const S=[],M=[],w=new Set,b=new Map,P=new zt;P.layers.enable(1),P.viewport=new Ft;const R=new zt;R.layers.enable(2),R.viewport=new Ft;const E=[P,R],B=new CR;B.layers.enable(1),B.layers.enable(2);let L=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(W){let ce=S[W];return ce===void 0&&(ce=new gv,S[W]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(W){let ce=S[W];return ce===void 0&&(ce=new gv,S[W]=ce),ce.getGripSpace()},this.getHand=function(W){let ce=S[W];return ce===void 0&&(ce=new gv,S[W]=ce),ce.getHandSpace()};function Z(W){const ce=M.indexOf(W.inputSource);if(ce===-1)return;const ye=S[ce];ye!==void 0&&ye.dispatchEvent({type:W.type,data:W.inputSource})}function J(){r.removeEventListener("select",Z),r.removeEventListener("selectstart",Z),r.removeEventListener("selectend",Z),r.removeEventListener("squeeze",Z),r.removeEventListener("squeezestart",Z),r.removeEventListener("squeezeend",Z),r.removeEventListener("end",J),r.removeEventListener("inputsourceschange",G);for(let W=0;W<S.length;W++){const ce=M[W];ce!==null&&(M[W]=null,S[W].disconnect(ce))}L=null,U=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,_=null,ae.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(W){s=W,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){a=W,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(W){c=W},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(W){if(r=W,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",Z),r.addEventListener("selectstart",Z),r.addEventListener("selectend",Z),r.addEventListener("squeeze",Z),r.addEventListener("squeezestart",Z),r.addEventListener("squeezeend",Z),r.addEventListener("end",J),r.addEventListener("inputsourceschange",G),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ce={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ce),r.updateRenderState({baseLayer:m}),_=new kr(m.framebufferWidth,m.framebufferHeight,{format:wi,type:Ks,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let ce=null,ye=null,xe=null;v.depth&&(xe=v.stencil?35056:33190,ce=v.stencil?al:zo,ye=v.stencil?Qa:Bo);const $={colorFormat:32856,depthFormat:xe,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer($),r.updateRenderState({layers:[p]}),_=new kr(p.textureWidth,p.textureHeight,{format:wi,type:Ks,depthTexture:new ER(p.textureWidth,p.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Oe=e.properties.get(_);Oe.__ignoreDepthValues=p.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ae.setContext(r),ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function G(W){for(let ce=0;ce<W.removed.length;ce++){const ye=W.removed[ce],xe=M.indexOf(ye);xe>=0&&(M[xe]=null,S[xe].disconnect(ye))}for(let ce=0;ce<W.added.length;ce++){const ye=W.added[ce];let xe=M.indexOf(ye);if(xe===-1){for(let Oe=0;Oe<S.length;Oe++)if(Oe>=M.length){M.push(ye),xe=Oe;break}else if(M[Oe]===null){M[Oe]=ye,xe=Oe;break}if(xe===-1)break}const $=S[xe];$&&$.connect(ye)}}const Y=new D,te=new D;function le(W,ce,ye){Y.setFromMatrixPosition(ce.matrixWorld),te.setFromMatrixPosition(ye.matrixWorld);const xe=Y.distanceTo(te),$=ce.projectionMatrix.elements,Oe=ye.projectionMatrix.elements,ke=$[14]/($[10]-1),Ge=$[14]/($[10]+1),Ae=($[9]+1)/$[5],Le=($[9]-1)/$[5],de=($[8]-1)/$[0],re=(Oe[8]+1)/Oe[0],we=ke*de,Ue=ke*re,Pe=xe/(-de+re),Qe=Pe*-de;ce.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(Qe),W.translateZ(Pe),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const je=ke+Pe,Ve=Ge+Pe,yt=we-Qe,St=Ue+(xe-Qe),N=Ae*Ge/Ve*je,I=Le*Ge/Ve*je;W.projectionMatrix.makePerspective(yt,St,N,I,je,Ve)}function O(W,ce){ce===null?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(ce.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCamera=function(W){if(r===null)return;B.near=R.near=P.near=W.near,B.far=R.far=P.far=W.far,(L!==B.near||U!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),L=B.near,U=B.far);const ce=W.parent,ye=B.cameras;O(B,ce);for(let $=0;$<ye.length;$++)O(ye[$],ce);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),W.matrix.copy(B.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale);const xe=W.children;for(let $=0,Oe=xe.length;$<Oe;$++)xe[$].updateMatrixWorld(!0);ye.length===2?le(B,P,R):B.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return B},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(W){l=W,p!==null&&(p.fixedFoveation=W),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=W)},this.getPlanes=function(){return w};let V=null;function j(W,ce){if(d=ce.getViewerPose(c||o),y=ce,d!==null){const ye=d.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let xe=!1;ye.length!==B.cameras.length&&(B.cameras.length=0,xe=!0);for(let $=0;$<ye.length;$++){const Oe=ye[$];let ke=null;if(m!==null)ke=m.getViewport(Oe);else{const Ae=h.getViewSubImage(p,Oe);ke=Ae.viewport,$===0&&(e.setRenderTargetTextures(_,Ae.colorTexture,p.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(_))}let Ge=E[$];Ge===void 0&&(Ge=new zt,Ge.layers.enable($),Ge.viewport=new Ft,E[$]=Ge),Ge.matrix.fromArray(Oe.transform.matrix),Ge.projectionMatrix.fromArray(Oe.projectionMatrix),Ge.viewport.set(ke.x,ke.y,ke.width,ke.height),$===0&&B.matrix.copy(Ge.matrix),xe===!0&&B.cameras.push(Ge)}}for(let ye=0;ye<S.length;ye++){const xe=M[ye],$=S[ye];xe!==null&&$!==void 0&&$.update(xe,ce,c||o)}if(V&&V(W,ce),ce.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ce.detectedPlanes});let ye=null;for(const xe of w)ce.detectedPlanes.has(xe)||(ye===null&&(ye=[]),ye.push(xe));if(ye!==null)for(const xe of ye)w.delete(xe),b.delete(xe),i.dispatchEvent({type:"planeremoved",data:xe});for(const xe of ce.detectedPlanes)if(!w.has(xe))w.add(xe),b.set(xe,ce.lastChangedTime),i.dispatchEvent({type:"planeadded",data:xe});else{const $=b.get(xe);xe.lastChangedTime>$&&(b.set(xe,xe.lastChangedTime),i.dispatchEvent({type:"planechanged",data:xe}))}}y=null}const ae=new xR;ae.setAnimationLoop(j),this.setAnimationLoop=function(W){V=W},this.dispose=function(){}}}function qG(n,e){function t(v,x){x.color.getRGB(v.fogColor.value,yR(n)),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function i(v,x,_,S,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(v,x):x.isMeshToonMaterial?(r(v,x),d(v,x)):x.isMeshPhongMaterial?(r(v,x),c(v,x)):x.isMeshStandardMaterial?(r(v,x),h(v,x),x.isMeshPhysicalMaterial&&p(v,x,M)):x.isMeshMatcapMaterial?(r(v,x),m(v,x)):x.isMeshDepthMaterial?r(v,x):x.isMeshDistanceMaterial?(r(v,x),y(v,x)):x.isMeshNormalMaterial?r(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,_,S):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===Pi&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===Pi&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const _=e.get(x).envMap;if(_&&(v.envMap.value=_,v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const w=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*w}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let S;x.map?S=x.map:x.specularMap?S=x.specularMap:x.displacementMap?S=x.displacementMap:x.normalMap?S=x.normalMap:x.bumpMap?S=x.bumpMap:x.roughnessMap?S=x.roughnessMap:x.metalnessMap?S=x.metalnessMap:x.alphaMap?S=x.alphaMap:x.emissiveMap?S=x.emissiveMap:x.clearcoatMap?S=x.clearcoatMap:x.clearcoatNormalMap?S=x.clearcoatNormalMap:x.clearcoatRoughnessMap?S=x.clearcoatRoughnessMap:x.iridescenceMap?S=x.iridescenceMap:x.iridescenceThicknessMap?S=x.iridescenceThicknessMap:x.specularIntensityMap?S=x.specularIntensityMap:x.specularColorMap?S=x.specularColorMap:x.transmissionMap?S=x.transmissionMap:x.thicknessMap?S=x.thicknessMap:x.sheenColorMap?S=x.sheenColorMap:x.sheenRoughnessMap&&(S=x.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix));let M;x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uv2Transform.value.copy(M.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,_,S){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*_,v.scale.value=S*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uvTransform.value.copy(M.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let _;x.map?_=x.map:x.alphaMap&&(_=x.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix))}function c(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function d(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function h(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function p(v,x,_){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Pi&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function m(v,x){x.matcap&&(v.matcap.value=x.matcap)}function y(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function $G(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(S,M){const w=M.program;i.uniformBlockBinding(S,w)}function c(S,M){let w=r[S.id];w===void 0&&(y(S),w=d(S),r[S.id]=w,S.addEventListener("dispose",x));const b=M.program;i.updateUBOMapping(S,b);const P=e.render.frame;s[S.id]!==P&&(p(S),s[S.id]=P)}function d(S){const M=h();S.__bindingPointIndex=M;const w=n.createBuffer(),b=S.__size,P=S.usage;return n.bindBuffer(35345,w),n.bufferData(35345,b,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,M,w),w}function h(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const M=r[S.id],w=S.uniforms,b=S.__cache;n.bindBuffer(35345,M);for(let P=0,R=w.length;P<R;P++){const E=w[P];if(m(E,P,b)===!0){const B=E.__offset,L=Array.isArray(E.value)?E.value:[E.value];let U=0;for(let Z=0;Z<L.length;Z++){const J=L[Z],G=v(J);typeof J=="number"?(E.__data[0]=J,n.bufferSubData(35345,B+U,E.__data)):J.isMatrix3?(E.__data[0]=J.elements[0],E.__data[1]=J.elements[1],E.__data[2]=J.elements[2],E.__data[3]=J.elements[0],E.__data[4]=J.elements[3],E.__data[5]=J.elements[4],E.__data[6]=J.elements[5],E.__data[7]=J.elements[0],E.__data[8]=J.elements[6],E.__data[9]=J.elements[7],E.__data[10]=J.elements[8],E.__data[11]=J.elements[0]):(J.toArray(E.__data,U),U+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,B,E.__data)}}n.bindBuffer(35345,null)}function m(S,M,w){const b=S.value;if(w[M]===void 0){if(typeof b=="number")w[M]=b;else{const P=Array.isArray(b)?b:[b],R=[];for(let E=0;E<P.length;E++)R.push(P[E].clone());w[M]=R}return!0}else if(typeof b=="number"){if(w[M]!==b)return w[M]=b,!0}else{const P=Array.isArray(w[M])?w[M]:[w[M]],R=Array.isArray(b)?b:[b];for(let E=0;E<P.length;E++){const B=P[E];if(B.equals(R[E])===!1)return B.copy(R[E]),!0}}return!1}function y(S){const M=S.uniforms;let w=0;const b=16;let P=0;for(let R=0,E=M.length;R<E;R++){const B=M[R],L={boundary:0,storage:0},U=Array.isArray(B.value)?B.value:[B.value];for(let Z=0,J=U.length;Z<J;Z++){const G=U[Z],Y=v(G);L.boundary+=Y.boundary,L.storage+=Y.storage}if(B.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=w,R>0){P=w%b;const Z=b-P;P!==0&&Z-L.boundary<0&&(w+=b-P,B.__offset=w)}w+=L.storage}return P=w%b,P>0&&(w+=b-P),S.__size=w,S.__cache={},this}function v(S){const M={boundary:0,storage:0};return typeof S=="number"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function x(S){const M=S.target;M.removeEventListener("dispose",x);const w=o.indexOf(M.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function _(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:c,dispose:_}}function eH(){const n=Zf("canvas");return n.style.display="block",n}function wA(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:eH(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ys,this.physicallyCorrectLights=!1,this.toneMapping=Dr,this.toneMappingExposure=1;const v=this;let x=!1,_=0,S=0,M=null,w=-1,b=null;const P=new Ft,R=new Ft;let E=null,B=e.width,L=e.height,U=1,Z=null,J=null;const G=new Ft(0,0,B,L),Y=new Ft(0,0,B,L);let te=!1;const le=new jg;let O=!1,V=!1,j=null;const ae=new rt,W=new pe,ce=new D,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return M===null?U:1}let $=t;function Oe(F,ee){for(let he=0;he<F.length;he++){const q=F[he],ge=e.getContext(q,ee);if(ge!==null)return ge}return null}try{const F={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ug}`),e.addEventListener("webglcontextlost",_e,!1),e.addEventListener("webglcontextrestored",Te,!1),e.addEventListener("webglcontextcreationerror",qe,!1),$===null){const ee=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ee.shift(),$=Oe(ee,F),$===null)throw Oe(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let ke,Ge,Ae,Le,de,re,we,Ue,Pe,Qe,je,Ve,yt,St,N,I,ie,Se,Ce,be,tt,Ie,me,Je;function z(){ke=new g4($),Ge=new c4($,ke,n),ke.init(Ge),Ie=new wR($,ke,Ge),Ae=new KG($,ke,Ge),Le=new x4,de=new OG,re=new YG($,ke,Ae,de,Ge,Ie,Le),we=new d4(v),Ue=new m4(v),Pe=new bN($,Ge),me=new l4($,ke,Pe,Ge),Qe=new y4($,Pe,Le,me),je=new M4($,Qe,Pe,Le),Ce=new S4($,Ge,re),I=new f4(de),Ve=new FG(v,we,Ue,ke,Ge,me,I),yt=new qG(v,de),St=new NG,N=new WG(ke,Ge),Se=new a4(v,we,Ue,Ae,je,d,o),ie=new XG(v,je,Ge),Je=new $G($,Le,Ge,Ae),be=new u4($,ke,Le,Ge),tt=new v4($,ke,Le,Ge),Le.programs=Ve.programs,v.capabilities=Ge,v.extensions=ke,v.properties=de,v.renderLists=St,v.shadowMap=ie,v.state=Ae,v.info=Le}z();const se=new ZG(v,$);this.xr=se,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const F=ke.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=ke.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(F){F!==void 0&&(U=F,this.setSize(B,L,!1))},this.getSize=function(F){return F.set(B,L)},this.setSize=function(F,ee,he){if(se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=F,L=ee,e.width=Math.floor(F*U),e.height=Math.floor(ee*U),he!==!1&&(e.style.width=F+"px",e.style.height=ee+"px"),this.setViewport(0,0,F,ee)},this.getDrawingBufferSize=function(F){return F.set(B*U,L*U).floor()},this.setDrawingBufferSize=function(F,ee,he){B=F,L=ee,U=he,e.width=Math.floor(F*he),e.height=Math.floor(ee*he),this.setViewport(0,0,F,ee)},this.getCurrentViewport=function(F){return F.copy(P)},this.getViewport=function(F){return F.copy(G)},this.setViewport=function(F,ee,he,q){F.isVector4?G.set(F.x,F.y,F.z,F.w):G.set(F,ee,he,q),Ae.viewport(P.copy(G).multiplyScalar(U).floor())},this.getScissor=function(F){return F.copy(Y)},this.setScissor=function(F,ee,he,q){F.isVector4?Y.set(F.x,F.y,F.z,F.w):Y.set(F,ee,he,q),Ae.scissor(R.copy(Y).multiplyScalar(U).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(F){Ae.setScissorTest(te=F)},this.setOpaqueSort=function(F){Z=F},this.setTransparentSort=function(F){J=F},this.getClearColor=function(F){return F.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function(F=!0,ee=!0,he=!0){let q=0;F&&(q|=16384),ee&&(q|=256),he&&(q|=1024),$.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",_e,!1),e.removeEventListener("webglcontextrestored",Te,!1),e.removeEventListener("webglcontextcreationerror",qe,!1),St.dispose(),N.dispose(),de.dispose(),we.dispose(),Ue.dispose(),je.dispose(),me.dispose(),Je.dispose(),Ve.dispose(),se.dispose(),se.removeEventListener("sessionstart",Ne),se.removeEventListener("sessionend",Ke),j&&(j.dispose(),j=null),Tt.stop()};function _e(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const F=Le.autoReset,ee=ie.enabled,he=ie.autoUpdate,q=ie.needsUpdate,ge=ie.type;z(),Le.autoReset=F,ie.enabled=ee,ie.autoUpdate=he,ie.needsUpdate=q,ie.type=ge}function qe(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function gt(F){const ee=F.target;ee.removeEventListener("dispose",gt),Ht(ee)}function Ht(F){K(F),de.remove(F)}function K(F){const ee=de.get(F).programs;ee!==void 0&&(ee.forEach(function(he){Ve.releaseProgram(he)}),F.isShaderMaterial&&Ve.releaseShaderCache(F))}this.renderBufferDirect=function(F,ee,he,q,ge,Ze){ee===null&&(ee=ye);const it=ge.isMesh&&ge.matrixWorld.determinant()<0,ct=m0(F,ee,he,q,ge);Ae.setMaterial(q,it);let pt=he.index,Mt=1;q.wireframe===!0&&(pt=Qe.getWireframeAttribute(he),Mt=2);const xt=he.drawRange,_t=he.attributes.position;let ln=xt.start*Mt,si=(xt.start+xt.count)*Mt;Ze!==null&&(ln=Math.max(ln,Ze.start*Mt),si=Math.min(si,(Ze.start+Ze.count)*Mt)),pt!==null?(ln=Math.max(ln,0),si=Math.min(si,pt.count)):_t!=null&&(ln=Math.max(ln,0),si=Math.min(si,_t.count));const vr=si-ln;if(vr<0||vr===1/0)return;me.setup(ge,q,ct,he,pt);let ds,jt=be;if(pt!==null&&(ds=Pe.get(pt),jt=tt,jt.setIndex(ds)),ge.isMesh)q.wireframe===!0?(Ae.setLineWidth(q.wireframeLinewidth*xe()),jt.setMode(1)):jt.setMode(4);else if(ge.isLine){let ft=q.linewidth;ft===void 0&&(ft=1),Ae.setLineWidth(ft*xe()),ge.isLineSegments?jt.setMode(1):ge.isLineLoop?jt.setMode(2):jt.setMode(3)}else ge.isPoints?jt.setMode(0):ge.isSprite&&jt.setMode(4);if(ge.isInstancedMesh)jt.renderInstances(ln,vr,ge.count);else if(he.isInstancedBufferGeometry){const ft=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,oa=Math.min(he.instanceCount,ft);jt.renderInstances(ln,vr,oa)}else jt.render(ln,vr)},this.compile=function(F,ee){function he(q,ge,Ze){q.transparent===!0&&q.side===Rr&&q.forceSinglePass===!1?(q.side=Pi,q.needsUpdate=!0,vi(q,ge,Ze),q.side=os,q.needsUpdate=!0,vi(q,ge,Ze),q.side=Rr):vi(q,ge,Ze)}p=N.get(F),p.init(),y.push(p),F.traverseVisible(function(q){q.isLight&&q.layers.test(ee.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),p.setupLights(v.physicallyCorrectLights),F.traverse(function(q){const ge=q.material;if(ge)if(Array.isArray(ge))for(let Ze=0;Ze<ge.length;Ze++){const it=ge[Ze];he(it,F,q)}else he(ge,F,q)}),y.pop(),p=null};let ue=null;function ve(F){ue&&ue(F)}function Ne(){Tt.stop()}function Ke(){Tt.start()}const Tt=new xR;Tt.setAnimationLoop(ve),typeof self<"u"&&Tt.setContext(self),this.setAnimationLoop=function(F){ue=F,se.setAnimationLoop(F),F===null?Tt.stop():Tt.start()},se.addEventListener("sessionstart",Ne),se.addEventListener("sessionend",Ke),this.render=function(F,ee){if(ee!==void 0&&ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),se.enabled===!0&&se.isPresenting===!0&&(se.cameraAutoUpdate===!0&&se.updateCamera(ee),ee=se.getCamera()),F.isScene===!0&&F.onBeforeRender(v,F,ee,M),p=N.get(F,y.length),p.init(),y.push(p),ae.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),le.setFromProjectionMatrix(ae),V=this.localClippingEnabled,O=I.init(this.clippingPlanes,V),h=St.get(F,m.length),h.init(),m.push(h),mn(F,ee,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(Z,J),O===!0&&I.beginShadows();const he=p.state.shadowsArray;if(ie.render(he,F,ee),O===!0&&I.endShadows(),this.info.autoReset===!0&&this.info.reset(),Se.render(h,F),p.setupLights(v.physicallyCorrectLights),ee.isArrayCamera){const q=ee.cameras;for(let ge=0,Ze=q.length;ge<Ze;ge++){const it=q[ge];Ln(h,F,it,it.viewport)}}else Ln(h,F,ee);M!==null&&(re.updateMultisampleRenderTarget(M),re.updateRenderTargetMipmap(M)),F.isScene===!0&&F.onAfterRender(v,F,ee),me.resetDefaultState(),w=-1,b=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function mn(F,ee,he,q){if(F.visible===!1)return;if(F.layers.test(ee.layers)){if(F.isGroup)he=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ee);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||le.intersectsSprite(F)){q&&ce.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ae);const it=je.update(F),ct=F.material;ct.visible&&h.push(F,it,ct,he,ce.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Le.render.frame&&(F.skeleton.update(),F.skeleton.frame=Le.render.frame),!F.frustumCulled||le.intersectsObject(F))){q&&ce.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ae);const it=je.update(F),ct=F.material;if(Array.isArray(ct)){const pt=it.groups;for(let Mt=0,xt=pt.length;Mt<xt;Mt++){const _t=pt[Mt],ln=ct[_t.materialIndex];ln&&ln.visible&&h.push(F,it,ln,he,ce.z,_t)}}else ct.visible&&h.push(F,it,ct,he,ce.z,null)}}const Ze=F.children;for(let it=0,ct=Ze.length;it<ct;it++)mn(Ze[it],ee,he,q)}function Ln(F,ee,he,q){const ge=F.opaque,Ze=F.transmissive,it=F.transparent;p.setupLightsView(he),O===!0&&I.setGlobalState(v.clippingPlanes,he),Ze.length>0&&Hr(ge,ee,he),q&&Ae.viewport(P.copy(q)),ge.length>0&&kt(ge,ee,he),Ze.length>0&&kt(Ze,ee,he),it.length>0&&kt(it,ee,he),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Hr(F,ee,he){const q=Ge.isWebGL2;j===null&&(j=new kr(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?Ou:Ks,minFilter:as,samples:q&&s===!0?4:0})),v.getDrawingBufferSize(W),q?j.setSize(W.x,W.y):j.setSize(cg(W.x),cg(W.y));const ge=v.getRenderTarget();v.setRenderTarget(j),v.clear();const Ze=v.toneMapping;v.toneMapping=Dr,kt(F,ee,he),v.toneMapping=Ze,re.updateMultisampleRenderTarget(j),re.updateRenderTargetMipmap(j),v.setRenderTarget(ge)}function kt(F,ee,he){const q=ee.isScene===!0?ee.overrideMaterial:null;for(let ge=0,Ze=F.length;ge<Ze;ge++){const it=F[ge],ct=it.object,pt=it.geometry,Mt=q===null?it.material:q,xt=it.group;ct.layers.test(he.layers)&&Xi(ct,ee,he,pt,Mt,xt)}}function Xi(F,ee,he,q,ge,Ze){F.onBeforeRender(v,ee,he,q,ge,Ze),F.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),ge.onBeforeRender(v,ee,he,q,F,Ze),ge.transparent===!0&&ge.side===Rr&&ge.forceSinglePass===!1?(ge.side=Pi,ge.needsUpdate=!0,v.renderBufferDirect(he,ee,q,ge,F,Ze),ge.side=os,ge.needsUpdate=!0,v.renderBufferDirect(he,ee,q,ge,F,Ze),ge.side=Rr):v.renderBufferDirect(he,ee,q,ge,F,Ze),F.onAfterRender(v,ee,he,q,ge,Ze)}function vi(F,ee,he){ee.isScene!==!0&&(ee=ye);const q=de.get(F),ge=p.state.lights,Ze=p.state.shadowsArray,it=ge.state.version,ct=Ve.getParameters(F,ge.state,Ze,ee,he),pt=Ve.getProgramCacheKey(ct);let Mt=q.programs;q.environment=F.isMeshStandardMaterial?ee.environment:null,q.fog=ee.fog,q.envMap=(F.isMeshStandardMaterial?Ue:we).get(F.envMap||q.environment),Mt===void 0&&(F.addEventListener("dispose",gt),Mt=new Map,q.programs=Mt);let xt=Mt.get(pt);if(xt!==void 0){if(q.currentProgram===xt&&q.lightsStateVersion===it)return Qd(F,ct),xt}else ct.uniforms=Ve.getUniforms(F),F.onBuild(he,ct,v),F.onBeforeCompile(ct,v),xt=Ve.acquireProgram(ct,pt),Mt.set(pt,xt),q.uniforms=ct.uniforms;const _t=q.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(_t.clippingPlanes=I.uniform),Qd(F,ct),q.needsLights=oc(F),q.lightsStateVersion=it,q.needsLights&&(_t.ambientLightColor.value=ge.state.ambient,_t.lightProbe.value=ge.state.probe,_t.directionalLights.value=ge.state.directional,_t.directionalLightShadows.value=ge.state.directionalShadow,_t.spotLights.value=ge.state.spot,_t.spotLightShadows.value=ge.state.spotShadow,_t.rectAreaLights.value=ge.state.rectArea,_t.ltc_1.value=ge.state.rectAreaLTC1,_t.ltc_2.value=ge.state.rectAreaLTC2,_t.pointLights.value=ge.state.point,_t.pointLightShadows.value=ge.state.pointShadow,_t.hemisphereLights.value=ge.state.hemi,_t.directionalShadowMap.value=ge.state.directionalShadowMap,_t.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,_t.spotShadowMap.value=ge.state.spotShadowMap,_t.spotLightMatrix.value=ge.state.spotLightMatrix,_t.spotLightMap.value=ge.state.spotLightMap,_t.pointShadowMap.value=ge.state.pointShadowMap,_t.pointShadowMatrix.value=ge.state.pointShadowMatrix);const ln=xt.getUniforms(),si=Bm.seqWithValue(ln.seq,_t);return q.currentProgram=xt,q.uniformsList=si,xt}function Qd(F,ee){const he=de.get(F);he.outputEncoding=ee.outputEncoding,he.instancing=ee.instancing,he.skinning=ee.skinning,he.morphTargets=ee.morphTargets,he.morphNormals=ee.morphNormals,he.morphColors=ee.morphColors,he.morphTargetsCount=ee.morphTargetsCount,he.numClippingPlanes=ee.numClippingPlanes,he.numIntersection=ee.numClipIntersection,he.vertexAlphas=ee.vertexAlphas,he.vertexTangents=ee.vertexTangents,he.toneMapping=ee.toneMapping}function m0(F,ee,he,q,ge){ee.isScene!==!0&&(ee=ye),re.resetTextureUnits();const Ze=ee.fog,it=q.isMeshStandardMaterial?ee.environment:null,ct=M===null?v.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:Ys,pt=(q.isMeshStandardMaterial?Ue:we).get(q.envMap||it),Mt=q.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,xt=!!q.normalMap&&!!he.attributes.tangent,_t=!!he.morphAttributes.position,ln=!!he.morphAttributes.normal,si=!!he.morphAttributes.color,vr=q.toneMapped?v.toneMapping:Dr,ds=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,jt=ds!==void 0?ds.length:0,ft=de.get(q),oa=p.state.lights;if(O===!0&&(V===!0||F!==b)){const Dt=F===b&&q.id===w;I.setState(q,F,Dt)}let un=!1;q.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==oa.state.version||ft.outputEncoding!==ct||ge.isInstancedMesh&&ft.instancing===!1||!ge.isInstancedMesh&&ft.instancing===!0||ge.isSkinnedMesh&&ft.skinning===!1||!ge.isSkinnedMesh&&ft.skinning===!0||ft.envMap!==pt||q.fog===!0&&ft.fog!==Ze||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==I.numPlanes||ft.numIntersection!==I.numIntersection)||ft.vertexAlphas!==Mt||ft.vertexTangents!==xt||ft.morphTargets!==_t||ft.morphNormals!==ln||ft.morphColors!==si||ft.toneMapping!==vr||Ge.isWebGL2===!0&&ft.morphTargetsCount!==jt)&&(un=!0):(un=!0,ft.__version=q.version);let hs=ft.currentProgram;un===!0&&(hs=vi(q,ee,ge));let xl=!1,Ki=!1,Yi=!1;const ut=hs.getUniforms(),Ct=ft.uniforms;if(Ae.useProgram(hs.program)&&(xl=!0,Ki=!0,Yi=!0),q.id!==w&&(w=q.id,Ki=!0),xl||b!==F){if(ut.setValue($,"projectionMatrix",F.projectionMatrix),Ge.logarithmicDepthBuffer&&ut.setValue($,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),b!==F&&(b=F,Ki=!0,Yi=!0),q.isShaderMaterial||q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshStandardMaterial||q.envMap){const Dt=ut.map.cameraPosition;Dt!==void 0&&Dt.setValue($,ce.setFromMatrixPosition(F.matrixWorld))}(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&ut.setValue($,"isOrthographic",F.isOrthographicCamera===!0),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial||q.isShadowMaterial||ge.isSkinnedMesh)&&ut.setValue($,"viewMatrix",F.matrixWorldInverse)}if(ge.isSkinnedMesh){ut.setOptional($,ge,"bindMatrix"),ut.setOptional($,ge,"bindMatrixInverse");const Dt=ge.skeleton;Dt&&(Ge.floatVertexTextures?(Dt.boneTexture===null&&Dt.computeBoneTexture(),ut.setValue($,"boneTexture",Dt.boneTexture,re),ut.setValue($,"boneTextureSize",Dt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Qi=he.morphAttributes;if((Qi.position!==void 0||Qi.normal!==void 0||Qi.color!==void 0&&Ge.isWebGL2===!0)&&Ce.update(ge,he,q,hs),(Ki||ft.receiveShadow!==ge.receiveShadow)&&(ft.receiveShadow=ge.receiveShadow,ut.setValue($,"receiveShadow",ge.receiveShadow)),q.isMeshGouraudMaterial&&q.envMap!==null&&(Ct.envMap.value=pt,Ct.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),Ki&&(ut.setValue($,"toneMappingExposure",v.toneMappingExposure),ft.needsLights&&Zd(Ct,Yi),Ze&&q.fog===!0&&yt.refreshFogUniforms(Ct,Ze),yt.refreshMaterialUniforms(Ct,q,U,L,j),Bm.upload($,ft.uniformsList,Ct,re)),q.isShaderMaterial&&q.uniformsNeedUpdate===!0&&(Bm.upload($,ft.uniformsList,Ct,re),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&ut.setValue($,"center",ge.center),ut.setValue($,"modelViewMatrix",ge.modelViewMatrix),ut.setValue($,"normalMatrix",ge.normalMatrix),ut.setValue($,"modelMatrix",ge.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const Dt=q.uniformsGroups;for(let In=0,ps=Dt.length;In<ps;In++)if(Ge.isWebGL2){const ms=Dt[In];Je.update(ms,hs),Je.bind(ms,hs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return hs}function Zd(F,ee){F.ambientLightColor.needsUpdate=ee,F.lightProbe.needsUpdate=ee,F.directionalLights.needsUpdate=ee,F.directionalLightShadows.needsUpdate=ee,F.pointLights.needsUpdate=ee,F.pointLightShadows.needsUpdate=ee,F.spotLights.needsUpdate=ee,F.spotLightShadows.needsUpdate=ee,F.rectAreaLights.needsUpdate=ee,F.hemisphereLights.needsUpdate=ee}function oc(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(F,ee,he){de.get(F.texture).__webglTexture=ee,de.get(F.depthTexture).__webglTexture=he;const q=de.get(F);q.__hasExternalTextures=!0,q.__hasExternalTextures&&(q.__autoAllocateDepthBuffer=he===void 0,q.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,ee){const he=de.get(F);he.__webglFramebuffer=ee,he.__useDefaultFramebuffer=ee===void 0},this.setRenderTarget=function(F,ee=0,he=0){M=F,_=ee,S=he;let q=!0,ge=null,Ze=!1,it=!1;if(F){const pt=de.get(F);pt.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer(36160,null),q=!1):pt.__webglFramebuffer===void 0?re.setupRenderTarget(F):pt.__hasExternalTextures&&re.rebindTextures(F,de.get(F.texture).__webglTexture,de.get(F.depthTexture).__webglTexture);const Mt=F.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(it=!0);const xt=de.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(ge=xt[ee],Ze=!0):Ge.isWebGL2&&F.samples>0&&re.useMultisampledRTT(F)===!1?ge=de.get(F).__webglMultisampledFramebuffer:ge=xt,P.copy(F.viewport),R.copy(F.scissor),E=F.scissorTest}else P.copy(G).multiplyScalar(U).floor(),R.copy(Y).multiplyScalar(U).floor(),E=te;if(Ae.bindFramebuffer(36160,ge)&&Ge.drawBuffers&&q&&Ae.drawBuffers(F,ge),Ae.viewport(P),Ae.scissor(R),Ae.setScissorTest(E),Ze){const pt=de.get(F.texture);$.framebufferTexture2D(36160,36064,34069+ee,pt.__webglTexture,he)}else if(it){const pt=de.get(F.texture),Mt=ee||0;$.framebufferTextureLayer(36160,36064,pt.__webglTexture,he||0,Mt)}w=-1},this.readRenderTargetPixels=function(F,ee,he,q,ge,Ze,it){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=de.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&it!==void 0&&(ct=ct[it]),ct){Ae.bindFramebuffer(36160,ct);try{const pt=F.texture,Mt=pt.format,xt=pt.type;if(Mt!==wi&&Ie.convert(Mt)!==$.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const _t=xt===Ou&&(ke.has("EXT_color_buffer_half_float")||Ge.isWebGL2&&ke.has("EXT_color_buffer_float"));if(xt!==Ks&&Ie.convert(xt)!==$.getParameter(35738)&&!(xt===Os&&(Ge.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!_t){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=F.width-q&&he>=0&&he<=F.height-ge&&$.readPixels(ee,he,q,ge,Ie.convert(Mt),Ie.convert(xt),Ze)}finally{const pt=M!==null?de.get(M).__webglFramebuffer:null;Ae.bindFramebuffer(36160,pt)}}},this.copyFramebufferToTexture=function(F,ee,he=0){const q=Math.pow(2,-he),ge=Math.floor(ee.image.width*q),Ze=Math.floor(ee.image.height*q);re.setTexture2D(ee,0),$.copyTexSubImage2D(3553,he,0,0,F.x,F.y,ge,Ze),Ae.unbindTexture()},this.copyTextureToTexture=function(F,ee,he,q=0){const ge=ee.image.width,Ze=ee.image.height,it=Ie.convert(he.format),ct=Ie.convert(he.type);re.setTexture2D(he,0),$.pixelStorei(37440,he.flipY),$.pixelStorei(37441,he.premultiplyAlpha),$.pixelStorei(3317,he.unpackAlignment),ee.isDataTexture?$.texSubImage2D(3553,q,F.x,F.y,ge,Ze,it,ct,ee.image.data):ee.isCompressedTexture?$.compressedTexSubImage2D(3553,q,F.x,F.y,ee.mipmaps[0].width,ee.mipmaps[0].height,it,ee.mipmaps[0].data):$.texSubImage2D(3553,q,F.x,F.y,it,ct,ee.image),q===0&&he.generateMipmaps&&$.generateMipmap(3553),Ae.unbindTexture()},this.copyTextureToTexture3D=function(F,ee,he,q,ge=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ze=F.max.x-F.min.x+1,it=F.max.y-F.min.y+1,ct=F.max.z-F.min.z+1,pt=Ie.convert(q.format),Mt=Ie.convert(q.type);let xt;if(q.isData3DTexture)re.setTexture3D(q,0),xt=32879;else if(q.isDataArrayTexture)re.setTexture2DArray(q,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei(37440,q.flipY),$.pixelStorei(37441,q.premultiplyAlpha),$.pixelStorei(3317,q.unpackAlignment);const _t=$.getParameter(3314),ln=$.getParameter(32878),si=$.getParameter(3316),vr=$.getParameter(3315),ds=$.getParameter(32877),jt=he.isCompressedTexture?he.mipmaps[0]:he.image;$.pixelStorei(3314,jt.width),$.pixelStorei(32878,jt.height),$.pixelStorei(3316,F.min.x),$.pixelStorei(3315,F.min.y),$.pixelStorei(32877,F.min.z),he.isDataTexture||he.isData3DTexture?$.texSubImage3D(xt,ge,ee.x,ee.y,ee.z,Ze,it,ct,pt,Mt,jt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(xt,ge,ee.x,ee.y,ee.z,Ze,it,ct,pt,jt.data)):$.texSubImage3D(xt,ge,ee.x,ee.y,ee.z,Ze,it,ct,pt,Mt,jt),$.pixelStorei(3314,_t),$.pixelStorei(32878,ln),$.pixelStorei(3316,si),$.pixelStorei(3315,vr),$.pixelStorei(32877,ds),ge===0&&q.generateMipmaps&&$.generateMipmap(xt),Ae.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?re.setTextureCube(F,0):F.isData3DTexture?re.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?re.setTexture2DArray(F,0):re.setTexture2D(F,0),Ae.unbindTexture()},this.resetState=function(){_=0,S=0,M=null,Ae.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class TR extends wA{}TR.prototype.isWebGL1Renderer=!0;class Xg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Re(e),this.density=t}clone(){return new Xg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Kg{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Re(e),this.near=t,this.far=i}clone(){return new Kg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class CA extends Pt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ad{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Gi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const li=new D;class Xo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)li.fromBufferAttribute(this,t),li.applyMatrix4(e),this.setXYZ(t,li.x,li.y,li.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)li.fromBufferAttribute(this,t),li.applyNormalMatrix(e),this.setXYZ(t,li.x,li.y,li.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)li.fromBufferAttribute(this,t),li.transformDirection(e),this.setXYZ(t,li.x,li.y,li.z);return this}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ks(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ks(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ks(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ks(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new It(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class EA extends Cn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xl;const Gc=new D,Kl=new D,Yl=new D,Ql=new pe,Hc=new pe,bR=new rt,bp=new D,Vc=new D,Pp=new D,mE=new pe,yv=new pe,gE=new pe;class PR extends Pt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Xl===void 0){Xl=new lt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Ad(t,5);Xl.setIndex([0,1,2,0,2,3]),Xl.setAttribute("position",new Xo(i,3,0,!1)),Xl.setAttribute("uv",new Xo(i,2,3,!1))}this.geometry=Xl,this.material=e!==void 0?e:new EA,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kl.setFromMatrixScale(this.matrixWorld),bR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kl.multiplyScalar(-Yl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Bp(bp.set(-.5,-.5,0),Yl,o,Kl,r,s),Bp(Vc.set(.5,-.5,0),Yl,o,Kl,r,s),Bp(Pp.set(.5,.5,0),Yl,o,Kl,r,s),mE.set(0,0),yv.set(1,0),gE.set(1,1);let a=e.ray.intersectTriangle(bp,Vc,Pp,!1,Gc);if(a===null&&(Bp(Vc.set(-.5,.5,0),Yl,o,Kl,r,s),yv.set(0,1),a=e.ray.intersectTriangle(bp,Pp,Vc,!1,Gc),a===null))return;const l=e.ray.origin.distanceTo(Gc);l<e.near||l>e.far||t.push({distance:l,point:Gc.clone(),uv:dr.getUV(Gc,bp,Vc,Pp,mE,yv,gE,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Bp(n,e,t,i,r,s){Ql.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Hc.x=s*Ql.x-r*Ql.y,Hc.y=r*Ql.x+s*Ql.y):Hc.copy(Ql),n.copy(e),n.x+=Hc.x,n.y+=Hc.y,n.applyMatrix4(bR)}const Rp=new D,yE=new D;class BR extends Pt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Rp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Rp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Rp.setFromMatrixPosition(e.matrixWorld),yE.setFromMatrixPosition(this.matrixWorld);const i=Rp.distanceTo(yE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const vE=new D,xE=new Ft,_E=new Ft,tH=new D,AE=new rt;class TA extends zn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new rt,this.bindMatrixInverse=new rt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ft,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;xE.fromBufferAttribute(r.attributes.skinIndex,e),_E.fromBufferAttribute(r.attributes.skinWeight,e),vE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=_E.getComponent(s);if(o!==0){const a=xE.getComponent(s);AE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(tH.copy(vE).applyMatrix4(AE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Yg extends Pt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Eu extends Qt{constructor(e=null,t=1,i=1,r,s,o,a,l,c=pn,d=pn,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const SE=new rt,nH=new rt;class Sd{constructor(e=[],t=[]){this.uuid=Gi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new rt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:nH;SE.multiplyMatrices(a,t[s]),SE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Sd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=hR(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Eu(t,e,e,wi,Os);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Yg),this.bones.push(o),this.boneInverses.push(new rt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class zu extends It{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ME=new rt,wE=new rt,Lp=[],iH=new rt,Wc=new zn;class RR extends zn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new zu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,iH)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Wc.geometry=this.geometry,Wc.material=this.material,Wc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,ME),wE.multiplyMatrices(i,ME),Wc.matrixWorld=wE,Wc.raycast(e,Lp);for(let o=0,a=Lp.length;o<a;o++){const l=Lp[o];l.instanceId=s,l.object=this,t.push(l)}Lp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new zu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ri extends Cn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const CE=new D,EE=new D,TE=new rt,vv=new yd,Ip=new na;class Qs extends Pt{constructor(e=new lt,t=new ri){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)CE.fromBufferAttribute(t,r-1),EE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=CE.distanceTo(EE);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ip.copy(i.boundingSphere),Ip.applyMatrix4(r),Ip.radius+=s,e.ray.intersectsSphere(Ip)===!1)return;TE.copy(r).invert(),vv.copy(e.ray).applyMatrix4(TE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,d=new D,h=new D,p=new D,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const _=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let M=_,w=S-1;M<w;M+=m){const b=y.getX(M),P=y.getX(M+1);if(c.fromBufferAttribute(x,b),d.fromBufferAttribute(x,P),vv.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let M=_,w=S-1;M<w;M+=m){if(c.fromBufferAttribute(x,M),d.fromBufferAttribute(x,M+1),vv.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const bE=new D,PE=new D;class Ur extends Qs{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)bE.fromBufferAttribute(t,r),PE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+bE.distanceTo(PE);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bA extends Qs{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Md extends Cn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BE=new rt,P_=new yd,Dp=new na,Fp=new D;let PA=class extends Pt{constructor(e=new lt,t=new Md){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Dp.copy(i.boundingSphere),Dp.applyMatrix4(r),Dp.radius+=s,e.ray.intersectsSphere(Dp)===!1)return;BE.copy(r).invert(),P_.copy(e.ray).applyMatrix4(BE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,v=m;y<v;y++){const x=c.getX(y);Fp.fromBufferAttribute(h,x),RE(Fp,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,v=m;y<v;y++)Fp.fromBufferAttribute(h,y),RE(Fp,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function RE(n,e,t,i,r,s,o){const a=P_.distanceSqToPoint(n);if(a<t){const l=new D;P_.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class rH extends Qt{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:nn,this.magFilter=s!==void 0?s:nn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class sH extends Qt{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=pn,this.minFilter=pn,this.generateMipmaps=!1,this.needsUpdate=!0}}class BA extends Qt{constructor(e,t,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oH extends BA{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Wn}}class aH extends Qt{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new D,r=[],s=[],o=[],a=new D,l=new rt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new D)}s[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(xn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Qg extends zr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*h+this.aX,c=p*h+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LR extends Qg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function RA(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Op=new D,xv=new RA,_v=new RA,Av=new RA;class IR extends zr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new D){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(Op.subVectors(r[0],r[1]).add(r[0]),c=Op);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Op.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Op),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);v<1e-4&&(v=1),y<1e-4&&(y=v),x<1e-4&&(x=v),xv.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,y,v,x),_v.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,y,v,x),Av.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,y,v,x)}else this.curveType==="catmullrom"&&(xv.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),_v.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),Av.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(xv.calc(l),_v.calc(l),Av.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function LE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function lH(n,e){const t=1-n;return t*t*e}function uH(n,e){return 2*(1-n)*n*e}function cH(n,e){return n*n*e}function xf(n,e,t,i){return lH(n,e)+uH(n,t)+cH(n,i)}function fH(n,e){const t=1-n;return t*t*t*e}function dH(n,e){const t=1-n;return 3*t*t*n*e}function hH(n,e){return 3*(1-n)*n*n*e}function pH(n,e){return n*n*n*e}function _f(n,e,t,i,r){return fH(n,e)+dH(n,t)+hH(n,i)+pH(n,r)}class LA extends zr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_f(e,r.x,s.x,o.x,a.x),_f(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DR extends zr{constructor(e=new D,t=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(_f(e,r.x,s.x,o.x,a.x),_f(e,r.y,s.y,o.y,a.y),_f(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Zg extends zr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new pe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FR extends zr{constructor(e=new D,t=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new D){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IA extends zr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(xf(e,r.x,s.x,o.x),xf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DA extends zr{constructor(e=new D,t=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(xf(e,r.x,s.x,o.x),xf(e,r.y,s.y,o.y),xf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FA extends zr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(LE(a,l.x,c.x,d.x,h.x),LE(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var OA=Object.freeze({__proto__:null,ArcCurve:LR,CatmullRomCurve3:IR,CubicBezierCurve:LA,CubicBezierCurve3:DR,EllipseCurve:Qg,LineCurve:Zg,LineCurve3:FR,QuadraticBezierCurve:IA,QuadraticBezierCurve3:DA,SplineCurve:FA});class OR extends zr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zg(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new OA[r.type]().fromJSON(r))}return this}}class qf extends OR{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Zg(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new IA(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new LA(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new FA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Qg(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ec extends lt{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,h=new D,p=new pe,m=new D,y=new D,v=new D;let x=0,_=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,m.x=_*1,m.y=-x,m.z=_*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,m.x=_*1,m.y=-x,m.z=_*0,y.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(y)}for(let S=0;S<=t;S++){const M=i+S*d*r,w=Math.sin(M),b=Math.cos(M);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*w,h.y=e[P].y,h.z=e[P].x*b,o.push(h.x,h.y,h.z),p.x=S/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*w,E=l[3*P+1],B=l[3*P+0]*b;c.push(R,E,B)}}for(let S=0;S<t;S++)for(let M=0;M<e.length-1;M++){const w=M+S*e.length,b=w,P=w+e.length,R=w+e.length+1,E=w+1;s.push(b,P,E),s.push(R,E,P)}this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("uv",new We(a,2)),this.setAttribute("normal",new We(c,3))}static fromJSON(e){return new ec(e.points,e.segments,e.phiStart,e.phiLength)}}class wd extends ec{constructor(e=1,t=1,i=4,r=8){const s=new qf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new wd(e.radius,e.length,e.capSegments,e.radialSegments)}}class Cd extends lt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new D,d=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("normal",new We(a,3)),this.setAttribute("uv",new We(l,2))}static fromJSON(e){return new Cd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hl extends lt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const v=[],x=i/2;let _=0;S(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function S(){const w=new D,b=new D;let P=0;const R=(t-e)/i;for(let E=0;E<=s;E++){const B=[],L=E/s,U=L*(t-e)+e;for(let Z=0;Z<=r;Z++){const J=Z/r,G=J*l+a,Y=Math.sin(G),te=Math.cos(G);b.x=U*Y,b.y=-L*i+x,b.z=U*te,h.push(b.x,b.y,b.z),w.set(Y,R,te).normalize(),p.push(w.x,w.y,w.z),m.push(J,1-L),B.push(y++)}v.push(B)}for(let E=0;E<r;E++)for(let B=0;B<s;B++){const L=v[B][E],U=v[B+1][E],Z=v[B+1][E+1],J=v[B][E+1];d.push(L,U,J),d.push(U,Z,J),P+=6}c.addGroup(_,P,0),_+=P}function M(w){const b=y,P=new pe,R=new D;let E=0;const B=w===!0?e:t,L=w===!0?1:-1;for(let Z=1;Z<=r;Z++)h.push(0,x*L,0),p.push(0,L,0),m.push(.5,.5),y++;const U=y;for(let Z=0;Z<=r;Z++){const G=Z/r*l+a,Y=Math.cos(G),te=Math.sin(G);R.x=B*te,R.y=x*L,R.z=B*Y,h.push(R.x,R.y,R.z),p.push(0,L,0),P.x=Y*.5+.5,P.y=te*.5*L+.5,m.push(P.x,P.y),y++}for(let Z=0;Z<r;Z++){const J=b+Z,G=U+Z;w===!0?d.push(G,G+1,J):d.push(G+1,G,J),E+=3}c.addGroup(_,E,w===!0?1:2),_+=E}}static fromJSON(e){return new hl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ed extends hl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Ed(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $s extends lt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(s.slice(),3)),this.setAttribute("uv",new We(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const M=new D,w=new D,b=new D;for(let P=0;P<t.length;P+=3)m(t[P+0],M),m(t[P+1],w),m(t[P+2],b),l(M,w,b,S)}function l(S,M,w,b){const P=b+1,R=[];for(let E=0;E<=P;E++){R[E]=[];const B=S.clone().lerp(w,E/P),L=M.clone().lerp(w,E/P),U=P-E;for(let Z=0;Z<=U;Z++)Z===0&&E===P?R[E][Z]=B:R[E][Z]=B.clone().lerp(L,Z/U)}for(let E=0;E<P;E++)for(let B=0;B<2*(P-E)-1;B++){const L=Math.floor(B/2);B%2===0?(p(R[E][L+1]),p(R[E+1][L]),p(R[E][L])):(p(R[E][L+1]),p(R[E+1][L+1]),p(R[E+1][L]))}}function c(S){const M=new D;for(let w=0;w<s.length;w+=3)M.x=s[w+0],M.y=s[w+1],M.z=s[w+2],M.normalize().multiplyScalar(S),s[w+0]=M.x,s[w+1]=M.y,s[w+2]=M.z}function d(){const S=new D;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const w=x(S)/2/Math.PI+.5,b=_(S)/Math.PI+.5;o.push(w,1-b)}y(),h()}function h(){for(let S=0;S<o.length;S+=6){const M=o[S+0],w=o[S+2],b=o[S+4],P=Math.max(M,w,b),R=Math.min(M,w,b);P>.9&&R<.1&&(M<.2&&(o[S+0]+=1),w<.2&&(o[S+2]+=1),b<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,M){const w=S*3;M.x=e[w+0],M.y=e[w+1],M.z=e[w+2]}function y(){const S=new D,M=new D,w=new D,b=new D,P=new pe,R=new pe,E=new pe;for(let B=0,L=0;B<s.length;B+=9,L+=6){S.set(s[B+0],s[B+1],s[B+2]),M.set(s[B+3],s[B+4],s[B+5]),w.set(s[B+6],s[B+7],s[B+8]),P.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),E.set(o[L+4],o[L+5]),b.copy(S).add(M).add(w).divideScalar(3);const U=x(b);v(P,L+0,S,U),v(R,L+2,M,U),v(E,L+4,w,U)}}function v(S,M,w,b){b<0&&S.x===1&&(o[M]=S.x-1),w.x===0&&w.z===0&&(o[M]=b/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function _(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(e){return new $s(e.vertices,e.indices,e.radius,e.details)}}class Td extends $s{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Td(e.radius,e.detail)}}const kp=new D,Np=new D,Sv=new D,Up=new dr;class kR extends lt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(qa*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:v,b:x,c:_}=Up;if(v.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),Up.getNormal(Sv),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let S=0;S<3;S++){const M=(S+1)%3,w=h[S],b=h[M],P=Up[d[S]],R=Up[d[M]],E=`${w}_${b}`,B=`${b}_${w}`;B in p&&p[B]?(Sv.dot(p[B].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[B]=null):E in p||(p[E]={index0:c[S],index1:c[M],normal:Sv.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:x}=p[y];kp.fromBufferAttribute(a,v),Np.fromBufferAttribute(a,x),m.push(kp.x,kp.y,kp.z),m.push(Np.x,Np.y,Np.z)}this.setAttribute("position",new We(m,3))}}}class tl extends qf{constructor(e){super(e),this.uuid=Gi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new qf().fromJSON(r))}return this}}const mH={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=NR(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,m;if(i&&(s=_H(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);m=Math.max(c-a,d-l),m=m!==0?32767/m:0}return $f(s,o,t,a,l,m,0),o}};function NR(n,e,t,i,r){let s,o;if(r===RH(n,e,t,i)>0)for(s=e;s<t;s+=i)o=IE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=IE(s,n[s],n[s+1],o);return o&&qg(o,o.next)&&(td(o),o=o.next),o}function ul(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qg(t,t.next)||rn(t.prev,t,t.next)===0)){if(td(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function $f(n,e,t,i,r,s,o){if(!n)return;!o&&s&&CH(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?yH(n,i,r,s):gH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),td(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=vH(ul(n),e,t),$f(n,e,t,i,r,s,2)):o===2&&xH(n,e,t,i,r,s):$f(ul(n),e,t,i,r,s,1);break}}}function gH(n){const e=n.prev,t=n,i=n.next;if(rn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&pu(r,a,s,l,o,c,y.x,y.y)&&rn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function yH(n,e,t,i){const r=n.prev,s=n,o=n.next;if(rn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=d<h?d<p?d:p:h<p?h:p,v=a>l?a>c?a:c:l>c?l:c,x=d>h?d>p?d:p:h>p?h:p,_=B_(m,y,e,t,i),S=B_(v,x,e,t,i);let M=n.prevZ,w=n.nextZ;for(;M&&M.z>=_&&w&&w.z<=S;){if(M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&pu(a,d,l,h,c,p,M.x,M.y)&&rn(M.prev,M,M.next)>=0||(M=M.prevZ,w.x>=m&&w.x<=v&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&pu(a,d,l,h,c,p,w.x,w.y)&&rn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;M&&M.z>=_;){if(M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&pu(a,d,l,h,c,p,M.x,M.y)&&rn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;w&&w.z<=S;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&pu(a,d,l,h,c,p,w.x,w.y)&&rn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function vH(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!qg(r,s)&&UR(r,i,i.next,s)&&ed(r,s)&&ed(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),td(i),td(i.next),i=n=s),i=i.next}while(i!==n);return ul(i)}function xH(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&bH(o,a)){let l=zR(o,a);o=ul(o,o.next),l=ul(l,l.next),$f(o,e,t,i,r,s,0),$f(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function _H(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=NR(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(TH(c));for(r.sort(AH),s=0;s<r.length;s++)t=SH(r[s],t);return t}function AH(n,e){return n.x-e.x}function SH(n,e){const t=MH(n,e);if(!t)return e;const i=zR(t,n);return ul(i,i.next),ul(t,t.next)}function MH(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&pu(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),ed(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&wH(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function wH(n,e){return rn(n.prev,n,e.prev)<0&&rn(e.next,n,n.next)<0}function CH(n,e,t,i){let r=n;do r.z===0&&(r.z=B_(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,EH(r)}function EH(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function B_(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function TH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function bH(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!PH(n,e)&&(ed(n,e)&&ed(e,n)&&BH(n,e)&&(rn(n.prev,n,e.prev)||rn(n,e.prev,e))||qg(n,e)&&rn(n.prev,n,n.next)>0&&rn(e.prev,e,e.next)>0)}function rn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qg(n,e){return n.x===e.x&&n.y===e.y}function UR(n,e,t,i){const r=Gp(rn(n,e,t)),s=Gp(rn(n,e,i)),o=Gp(rn(t,i,n)),a=Gp(rn(t,i,e));return!!(r!==s&&o!==a||r===0&&zp(n,t,e)||s===0&&zp(n,i,e)||o===0&&zp(t,n,i)||a===0&&zp(t,e,i))}function zp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gp(n){return n>0?1:n<0?-1:0}function PH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&UR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ed(n,e){return rn(n.prev,n,n.next)<0?rn(n,e,n.next)>=0&&rn(n,n.prev,e)>=0:rn(n,e,n.prev)<0||rn(n,n.next,e)<0}function BH(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function zR(n,e){const t=new R_(n.i,n.x,n.y),i=new R_(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function IE(n,e,t,i){const r=new R_(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function td(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function R_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RH(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class is{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return is.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];DE(e),FE(i,e);let o=e.length;t.forEach(DE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,FE(i,t[l]);const a=mH.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function DE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function FE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class bd extends lt{constructor(e=new tl([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new We(r,3)),this.setAttribute("uv",new We(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:LH;let M,w=!1,b,P,R,E;_&&(M=_.getSpacedPoints(d),w=!0,p=!1,b=_.computeFrenetFrames(d,!1),P=new D,R=new D,E=new D),p||(x=0,m=0,y=0,v=0);const B=a.extractPoints(c);let L=B.shape;const U=B.holes;if(!is.isClockWise(L)){L=L.reverse();for(let de=0,re=U.length;de<re;de++){const we=U[de];is.isClockWise(we)&&(U[de]=we.reverse())}}const J=is.triangulateShape(L,U),G=L;for(let de=0,re=U.length;de<re;de++){const we=U[de];L=L.concat(we)}function Y(de,re,we){return re||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().multiplyScalar(we).add(de)}const te=L.length,le=J.length;function O(de,re,we){let Ue,Pe,Qe;const je=de.x-re.x,Ve=de.y-re.y,yt=we.x-de.x,St=we.y-de.y,N=je*je+Ve*Ve,I=je*St-Ve*yt;if(Math.abs(I)>Number.EPSILON){const ie=Math.sqrt(N),Se=Math.sqrt(yt*yt+St*St),Ce=re.x-Ve/ie,be=re.y+je/ie,tt=we.x-St/Se,Ie=we.y+yt/Se,me=((tt-Ce)*St-(Ie-be)*yt)/(je*St-Ve*yt);Ue=Ce+je*me-de.x,Pe=be+Ve*me-de.y;const Je=Ue*Ue+Pe*Pe;if(Je<=2)return new pe(Ue,Pe);Qe=Math.sqrt(Je/2)}else{let ie=!1;je>Number.EPSILON?yt>Number.EPSILON&&(ie=!0):je<-Number.EPSILON?yt<-Number.EPSILON&&(ie=!0):Math.sign(Ve)===Math.sign(St)&&(ie=!0),ie?(Ue=-Ve,Pe=je,Qe=Math.sqrt(N)):(Ue=je,Pe=Ve,Qe=Math.sqrt(N/2))}return new pe(Ue/Qe,Pe/Qe)}const V=[];for(let de=0,re=G.length,we=re-1,Ue=de+1;de<re;de++,we++,Ue++)we===re&&(we=0),Ue===re&&(Ue=0),V[de]=O(G[de],G[we],G[Ue]);const j=[];let ae,W=V.concat();for(let de=0,re=U.length;de<re;de++){const we=U[de];ae=[];for(let Ue=0,Pe=we.length,Qe=Pe-1,je=Ue+1;Ue<Pe;Ue++,Qe++,je++)Qe===Pe&&(Qe=0),je===Pe&&(je=0),ae[Ue]=O(we[Ue],we[Qe],we[je]);j.push(ae),W=W.concat(ae)}for(let de=0;de<x;de++){const re=de/x,we=m*Math.cos(re*Math.PI/2),Ue=y*Math.sin(re*Math.PI/2)+v;for(let Pe=0,Qe=G.length;Pe<Qe;Pe++){const je=Y(G[Pe],V[Pe],Ue);Oe(je.x,je.y,-we)}for(let Pe=0,Qe=U.length;Pe<Qe;Pe++){const je=U[Pe];ae=j[Pe];for(let Ve=0,yt=je.length;Ve<yt;Ve++){const St=Y(je[Ve],ae[Ve],Ue);Oe(St.x,St.y,-we)}}}const ce=y+v;for(let de=0;de<te;de++){const re=p?Y(L[de],W[de],ce):L[de];w?(R.copy(b.normals[0]).multiplyScalar(re.x),P.copy(b.binormals[0]).multiplyScalar(re.y),E.copy(M[0]).add(R).add(P),Oe(E.x,E.y,E.z)):Oe(re.x,re.y,0)}for(let de=1;de<=d;de++)for(let re=0;re<te;re++){const we=p?Y(L[re],W[re],ce):L[re];w?(R.copy(b.normals[de]).multiplyScalar(we.x),P.copy(b.binormals[de]).multiplyScalar(we.y),E.copy(M[de]).add(R).add(P),Oe(E.x,E.y,E.z)):Oe(we.x,we.y,h/d*de)}for(let de=x-1;de>=0;de--){const re=de/x,we=m*Math.cos(re*Math.PI/2),Ue=y*Math.sin(re*Math.PI/2)+v;for(let Pe=0,Qe=G.length;Pe<Qe;Pe++){const je=Y(G[Pe],V[Pe],Ue);Oe(je.x,je.y,h+we)}for(let Pe=0,Qe=U.length;Pe<Qe;Pe++){const je=U[Pe];ae=j[Pe];for(let Ve=0,yt=je.length;Ve<yt;Ve++){const St=Y(je[Ve],ae[Ve],Ue);w?Oe(St.x,St.y+M[d-1].y,M[d-1].x+we):Oe(St.x,St.y,h+we)}}}ye(),xe();function ye(){const de=r.length/3;if(p){let re=0,we=te*re;for(let Ue=0;Ue<le;Ue++){const Pe=J[Ue];ke(Pe[2]+we,Pe[1]+we,Pe[0]+we)}re=d+x*2,we=te*re;for(let Ue=0;Ue<le;Ue++){const Pe=J[Ue];ke(Pe[0]+we,Pe[1]+we,Pe[2]+we)}}else{for(let re=0;re<le;re++){const we=J[re];ke(we[2],we[1],we[0])}for(let re=0;re<le;re++){const we=J[re];ke(we[0]+te*d,we[1]+te*d,we[2]+te*d)}}i.addGroup(de,r.length/3-de,0)}function xe(){const de=r.length/3;let re=0;$(G,re),re+=G.length;for(let we=0,Ue=U.length;we<Ue;we++){const Pe=U[we];$(Pe,re),re+=Pe.length}i.addGroup(de,r.length/3-de,1)}function $(de,re){let we=de.length;for(;--we>=0;){const Ue=we;let Pe=we-1;Pe<0&&(Pe=de.length-1);for(let Qe=0,je=d+x*2;Qe<je;Qe++){const Ve=te*Qe,yt=te*(Qe+1),St=re+Ue+Ve,N=re+Pe+Ve,I=re+Pe+yt,ie=re+Ue+yt;Ge(St,N,I,ie)}}}function Oe(de,re,we){l.push(de),l.push(re),l.push(we)}function ke(de,re,we){Ae(de),Ae(re),Ae(we);const Ue=r.length/3,Pe=S.generateTopUV(i,r,Ue-3,Ue-2,Ue-1);Le(Pe[0]),Le(Pe[1]),Le(Pe[2])}function Ge(de,re,we,Ue){Ae(de),Ae(re),Ae(Ue),Ae(re),Ae(we),Ae(Ue);const Pe=r.length/3,Qe=S.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);Le(Qe[0]),Le(Qe[1]),Le(Qe[3]),Le(Qe[1]),Le(Qe[2]),Le(Qe[3])}function Ae(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function Le(de){s.push(de.x),s.push(de.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return IH(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new OA[r.type]().fromJSON(r)),new bd(i,e.options)}}const LH={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],v=e[s*3],x=e[s*3+1],_=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new pe(o,1-l),new pe(c,1-h),new pe(p,1-y),new pe(v,1-_)]:[new pe(a,1-l),new pe(d,1-h),new pe(m,1-y),new pe(x,1-_)]}};function IH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Pd extends $s{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class tc extends $s{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tc(e.radius,e.detail)}}class Bd extends lt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(t-e)/r,m=new D,y=new pe;for(let v=0;v<=r;v++){for(let x=0;x<=i;x++){const _=s+x/i*o;m.x=h*Math.cos(_),m.y=h*Math.sin(_),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let v=0;v<r;v++){const x=v*(i+1);for(let _=0;_<i;_++){const S=_+x,M=S,w=S+i+1,b=S+i+2,P=S+1;a.push(M,w,P),a.push(w,b,P)}}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(c,3)),this.setAttribute("uv",new We(d,2))}static fromJSON(e){return new Bd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Rd extends lt{constructor(e=new tl([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new We(r,3)),this.setAttribute("normal",new We(s,3)),this.setAttribute("uv",new We(o,2));function c(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;is.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,_=y.length;x<_;x++){const S=y[x];is.isClockWise(S)===!0&&(y[x]=S.reverse())}const v=is.triangulateShape(m,y);for(let x=0,_=y.length;x<_;x++){const S=y[x];m=m.concat(S)}for(let x=0,_=m.length;x<_;x++){const S=m[x];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,_=v.length;x<_;x++){const S=v[x],M=S[0]+h,w=S[1]+h,b=S[2]+h;i.push(M,w,b),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return DH(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Rd(i,e.curveSegments)}}function DH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class nc extends lt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new D,p=new D,m=[],y=[],v=[],x=[];for(let _=0;_<=i;_++){const S=[],M=_/i;let w=0;_==0&&o==0?w=.5/t:_==i&&l==Math.PI&&(w=-.5/t);for(let b=0;b<=t;b++){const P=b/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),h.y=e*Math.cos(o+M*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),x.push(P+w,1-M),S.push(c++)}d.push(S)}for(let _=0;_<i;_++)for(let S=0;S<t;S++){const M=d[_][S+1],w=d[_][S],b=d[_+1][S],P=d[_+1][S+1];(_!==0||o>0)&&m.push(M,w,P),(_!==i-1||l<Math.PI)&&m.push(w,b,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(v,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new nc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ld extends $s{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ld(e.radius,e.detail)}}class Id extends lt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new D,h=new D,p=new D;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const v=y/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(v),h.y=(e+t*Math.cos(x))*Math.sin(v),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const v=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,_=(r+1)*(m-1)+y,S=(r+1)*m+y;o.push(v,x,S),o.push(x,_,S)}this.setIndex(o),this.setAttribute("position",new We(a,3)),this.setAttribute("normal",new We(l,3)),this.setAttribute("uv",new We(c,2))}static fromJSON(e){return new Id(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Dd extends lt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new D,p=new D,m=new D,y=new D,v=new D,x=new D,_=new D;for(let M=0;M<=i;++M){const w=M/i*s*Math.PI*2;S(w,s,o,e,m),S(w+.01,s,o,e,y),x.subVectors(y,m),_.addVectors(y,m),v.crossVectors(x,_),_.crossVectors(v,x),v.normalize(),_.normalize();for(let b=0;b<=r;++b){const P=b/r*Math.PI*2,R=-t*Math.cos(P),E=t*Math.sin(P);h.x=m.x+(R*_.x+E*v.x),h.y=m.y+(R*_.y+E*v.y),h.z=m.z+(R*_.z+E*v.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(M/i),d.push(b/r)}}for(let M=1;M<=i;M++)for(let w=1;w<=r;w++){const b=(r+1)*(M-1)+(w-1),P=(r+1)*M+(w-1),R=(r+1)*M+w,E=(r+1)*(M-1)+w;a.push(b,P,E),a.push(P,R,E)}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(c,3)),this.setAttribute("uv",new We(d,2));function S(M,w,b,P,R){const E=Math.cos(M),B=Math.sin(M),L=b/w*M,U=Math.cos(L);R.x=P*(2+U)*.5*E,R.y=P*(2+U)*B*.5,R.z=P*Math.sin(L)*.5}}static fromJSON(e){return new Dd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Fd extends lt{constructor(e=new DA(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,c=new pe;let d=new D;const h=[],p=[],m=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function v(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),S(),_()}function x(M){d=e.getPointAt(M/t,d);const w=o.normals[M],b=o.binormals[M];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,E=Math.sin(R),B=-Math.cos(R);l.x=B*w.x+E*b.x,l.y=B*w.y+E*b.y,l.z=B*w.z+E*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let M=1;M<=t;M++)for(let w=1;w<=r;w++){const b=(r+1)*(M-1)+(w-1),P=(r+1)*M+(w-1),R=(r+1)*M+w,E=(r+1)*(M-1)+w;y.push(b,P,E),y.push(P,R,E)}}function S(){for(let M=0;M<=t;M++)for(let w=0;w<=r;w++)c.x=M/t,c.y=w/r,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Fd(new OA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class GR extends lt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,m=h.count;for(let y=p,v=p+m;y<v;y+=3)for(let x=0;x<3;x++){const _=a.getX(y+x),S=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,S),OE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),OE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new We(t,3))}}}function OE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var kE=Object.freeze({__proto__:null,BoxGeometry:ia,CapsuleGeometry:wd,CircleGeometry:Cd,ConeGeometry:Ed,CylinderGeometry:hl,DodecahedronGeometry:Td,EdgesGeometry:kR,ExtrudeGeometry:bd,IcosahedronGeometry:Pd,LatheGeometry:ec,OctahedronGeometry:tc,PlaneGeometry:qu,PolyhedronGeometry:$s,RingGeometry:Bd,ShapeGeometry:Rd,SphereGeometry:nc,TetrahedronGeometry:Ld,TorusGeometry:Id,TorusKnotGeometry:Dd,TubeGeometry:Fd,WireframeGeometry:GR});class HR extends Cn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Re(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class VR extends ls{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ic extends Cn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eo extends ic{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Re(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Re(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Re(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class WR extends Cn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Re(16777215),this.specular=new Re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jR extends Cn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class JR extends Cn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class XR extends Cn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KR extends Cn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YR extends ri{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function lr(n,e,t){return kA(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ja(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function kA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function QR(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function L_(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function NA(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function FH(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){h.push(c.times[m]);for(let v=0;v<d;++v)p.push(c.values[m*d+v])}}h.length!==0&&(c.times=ja(h,c.times.constructor),c.values=ja(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function OH(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const _=d,S=h-d;v=lr(a.values,_,S)}else if(s>=a.times[y]){const _=y*h+d,S=_+h-d;v=lr(a.values,_,S)}else{const _=a.createInterpolant(),S=d,M=h-d;_.evaluate(s),v=lr(_.resultBuffer,S,M)}l==="quaternion"&&new Jn().fromArray(v).normalize().conjugate().toArray(v);const x=c.times.length;for(let _=0;_<x;++_){const S=_*m+p;if(l==="quaternion")Jn.multiplyQuaternionsFlat(c.values,S,v,0,c.values,S);else{const M=m-p*2;for(let w=0;w<M;++w)c.values[S+w]-=v[w]}}}return n.blendMode=dA,n}var kH=Object.freeze({__proto__:null,arraySlice:lr,convertArray:ja,flattenJSON:NA,getKeyframeOrder:QR,isTypedArray:kA,makeClipAdditive:OH,sortedArray:L_,subclip:FH});class rc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZR extends rc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ha,endingEnd:Ha}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Va:s=e,a=2*t-i;break;case Kf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Va:o=e,l=2*i-t;break;case Kf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),v=y*y,x=v*y,_=-p*x+2*p*v-p*y,S=(1+p)*x+(-1.5-2*p)*v+(-.5+p)*y+1,M=(-1-m)*x+(1.5+m)*v+.5*y,w=m*x-m*v;for(let b=0;b!==a;++b)s[b]=_*o[d+b]+S*o[c+b]+M*o[l+b]+w*o[h+b];return s}}class UA extends rc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class qR extends rc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ja(t,this.TimeBufferType),this.values=ja(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ja(e.times,Array),values:ja(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new qR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ku:t=this.InterpolantFactoryMethodDiscrete;break;case ll:t=this.InterpolantFactoryMethodLinear;break;case Tm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ku;case this.InterpolantFactoryMethodLinear:return ll;case this.InterpolantFactoryMethodSmooth:return Tm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=lr(i,s,o),this.values=lr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&kA(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=lr(this.times),t=lr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Tm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const v=t[h+y];if(v!==t[p+y]||v!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=lr(e,0,o),this.values=lr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=lr(this.times,0),t=lr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Gr.prototype.TimeBufferType=Float32Array;Gr.prototype.ValueBufferType=Float32Array;Gr.prototype.DefaultInterpolation=ll;class pl extends Gr{}pl.prototype.ValueTypeName="bool";pl.prototype.ValueBufferType=Array;pl.prototype.DefaultInterpolation=ku;pl.prototype.InterpolantFactoryMethodLinear=void 0;pl.prototype.InterpolantFactoryMethodSmooth=void 0;class zA extends Gr{}zA.prototype.ValueTypeName="color";class Gu extends Gr{}Gu.prototype.ValueTypeName="number";class $R extends rc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)Jn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ko extends Gr{InterpolantFactoryMethodLinear(e){return new $R(this.times,this.values,this.getValueSize(),e)}}Ko.prototype.ValueTypeName="quaternion";Ko.prototype.DefaultInterpolation=ll;Ko.prototype.InterpolantFactoryMethodSmooth=void 0;class ml extends Gr{}ml.prototype.ValueTypeName="string";ml.prototype.ValueBufferType=Array;ml.prototype.DefaultInterpolation=ku;ml.prototype.InterpolantFactoryMethodLinear=void 0;ml.prototype.InterpolantFactoryMethodSmooth=void 0;class Hu extends Gr{}Hu.prototype.ValueTypeName="vector";class Vu{constructor(e,t=-1,i,r=Vg){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Gi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(UH(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Gr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=QR(l);l=L_(l,1,d),c=L_(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Gu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,v){if(m.length!==0){const x=[],_=[];NA(m,x,_,y),x.length!==0&&v.push(new h(p,x,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)m[p[y].morphTargets[v]]=-1;for(const v in m){const x=[],_=[];for(let S=0;S!==p[y].morphTargets.length;++S){const M=p[y];x.push(M.time),_.push(M.morphTarget===v?1:0)}r.push(new Gu(".morphTargetInfluence["+v+"]",x,_))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(Hu,m+".position",p,"pos",r),i(Ko,m+".quaternion",p,"rot",r),i(Hu,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function NH(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gu;case"vector":case"vector2":case"vector3":case"vector4":return Hu;case"color":return zA;case"quaternion":return Ko;case"bool":case"boolean":return pl;case"string":return ml}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function UH(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=NH(n.type);if(n.times===void 0){const t=[],i=[];NA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const cl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class GA{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],y=c[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const mu=new GA;class yi{constructor(e){this.manager=e!==void 0?e:mu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ts={};class zH extends Error{constructor(e,t){super(e),this.response=t}}class Vi extends yi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=cl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ts[e]!==void 0){Ts[e].push({onLoad:t,onProgress:i,onError:r});return}Ts[e]=[],Ts[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Ts[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let v=0;const x=new ReadableStream({start(_){S();function S(){h.read().then(({done:M,value:w})=>{if(M)_.close();else{v+=w.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:m});for(let P=0,R=d.length;P<R;P++){const E=d[P];E.onProgress&&E.onProgress(b)}_.enqueue(w),S()}})}}});return new Response(x)}else throw new zH(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{cl.add(e,c);const d=Ts[e];delete Ts[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=Ts[e];if(d===void 0)throw this.manager.itemError(e),c;delete Ts[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class GH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Vu.parse(e[i]);t.push(r)}return t}}class HH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new BA,l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=nn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=nn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class nd extends yi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Zf("img");function l(){d(),cl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class VH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=new _d,o=new nd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class WH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Eu,a=new Vi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Wn,o.wrapT=c.wrapT!==void 0?c.wrapT:Wn,o.magFilter=c.magFilter!==void 0?c.magFilter:nn,o.minFilter=c.minFilter!==void 0?c.minFilter:nn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=as),c.mipmapCount===1&&(o.minFilter=nn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class e3 extends yi{constructor(e){super(e)}load(e,t,i,r){const s=new Qt,o=new nd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ra extends Pt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Re(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class t3 extends ra{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Re(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Mv=new rt,NE=new D,UE=new D;class HA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new jg,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Ft(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;NE.setFromMatrixPosition(e.matrixWorld),t.position.copy(NE),UE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(UE),t.updateMatrixWorld(),Mv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Mv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Mv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class jH extends HA{constructor(){super(new zt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Qf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class VA extends ra{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new jH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zE=new rt,jc=new D,wv=new D;class JH extends HA{constructor(){super(new zt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Ft(2,1,1,1),new Ft(0,1,1,1),new Ft(3,1,1,1),new Ft(1,1,1,1),new Ft(3,0,1,1),new Ft(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),jc.setFromMatrixPosition(e.matrixWorld),i.position.copy(jc),wv.copy(i.position),wv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(wv),i.updateMatrixWorld(),r.makeTranslation(-jc.x,-jc.y,-jc.z),zE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zE)}}class WA extends ra{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new JH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class XH extends HA{constructor(){super(new Fr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jA extends ra{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.shadow=new XH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class n3 extends ra{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class i3 extends ra{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class r3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class $g extends ra{constructor(e=new r3,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class e0 extends yi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=e0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Re().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Re().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ft().fromArray(o.value);break;case"m3":r.uniforms[s].value=new di().fromArray(o.value);break;case"m4":r.uniforms[s].value=new rt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:HR,SpriteMaterial:EA,RawShaderMaterial:VR,ShaderMaterial:ls,PointsMaterial:Md,MeshPhysicalMaterial:eo,MeshStandardMaterial:ic,MeshPhongMaterial:WR,MeshToonMaterial:jR,MeshNormalMaterial:JR,MeshLambertMaterial:XR,MeshDepthMaterial:SA,MeshDistanceMaterial:MA,MeshBasicMaterial:Ui,MeshMatcapMaterial:KR,LineDashedMaterial:YR,LineBasicMaterial:ri,Material:Cn};return new t[e]}}class rs{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class s3 extends lt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class o3 extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],_=s(m,x.buffer),S=du(x.type,_),M=new Ad(S,x.stride);return M.uuid=x.uuid,t[y]=M,M}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],_=new Uint32Array(x).buffer;return i[y]=_,_}const o=e.isInstancedBufferGeometry?new s3:new lt,a=e.data.index;if(a!==void 0){const m=du(a.type,a.array);o.setIndex(new It(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let v;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);v=new Xo(x,y.itemSize,y.offset,y.normalized)}else{const x=du(y.type,y.array),_=y.isInstancedBufferAttribute?zu:It;v=new _(x,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],v=[];for(let x=0,_=y.length;x<_;x++){const S=y[x];let M;if(S.isInterleavedBufferAttribute){const w=r(e.data,S.data);M=new Xo(w,S.itemSize,S.offset,S.normalized)}else{const w=du(S.type,S.array);M=new It(w,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),v.push(M)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const v=h[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new D;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new na(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class KH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?rs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Vi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?rs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Vi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new tl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Sd().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new o3;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in kE?a=kE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new e0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Vu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:du(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new GA(t);s=new nd(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y],_=a(x);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Eu(_.data,_.width,_.height)))}r[h.uuid]=new Wa(m)}else{const m=a(h.url);r[h.uuid]=new Wa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:du(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new nd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Eu(y.data,y.width,y.height)))}i[l.uuid]=new Wa(d)}else{const d=await s(l.url);i[l.uuid]=new Wa(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new _d,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Eu:d=new Qt,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,YH)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],GE),d.wrapT=i(a.wrap[1],GE)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,HE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,HE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new CA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Re(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Kg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Xg(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new zt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Fr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new n3(e.color,e.intensity);break;case"DirectionalLight":o=new jA(e.color,e.intensity);break;case"PointLight":o=new WA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new i3(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new VA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new t3(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new $g().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new TA(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new zn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new RR(d,h,p),o.instanceMatrix=new zu(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new zu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new BR;break;case"Line":o=new Qs(a(e.geometry),l(e.material));break;case"LineLoop":o=new bA(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ur(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new PA(a(e.geometry),l(e.material));break;case"Sprite":o=new PR(l(e.material));break;case"Group":o=new Ns;break;case"Bone":o=new Yg;break;default:o=new Pt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const YH={UVMapping:Gg,CubeReflectionMapping:Wo,CubeRefractionMapping:jo,EquirectangularReflectionMapping:jf,EquirectangularRefractionMapping:Jf,CubeUVReflectionMapping:Zu},GE={RepeatWrapping:Jo,ClampToEdgeWrapping:Wn,MirroredRepeatWrapping:Fu},HE={NearestFilter:pn,NearestMipmapNearestFilter:Xf,NearestMipmapLinearFilter:Cu,LinearFilter:nn,LinearMipmapNearestFilter:Hg,LinearMipmapLinearFilter:as};class a3 extends yi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){cl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Hp;class JA{static getContext(){return Hp===void 0&&(Hp=new(window.AudioContext||window.webkitAudioContext)),Hp}static setContext(e){Hp=e}}class QH extends yi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);JA.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class ZH extends $g{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Re().set(e),s=new Re().set(t),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class qH extends $g{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Re().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const VE=new rt,WE=new rt,xa=new rt;class $H{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,xa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(qa*t.fov*.5)/t.zoom;let a,l;WE.elements[12]=-r,VE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,xa.elements[0]=2*t.near/(l-a),xa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(xa),a=-o*t.aspect-s,l=o*t.aspect-s,xa.elements[0]=2*t.near/(l-a),xa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(xa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(WE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(VE)}}class XA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jE(){return(typeof performance>"u"?Date:performance).now()}const _a=new D,JE=new Jn,e5=new D,Aa=new D;class t5 extends Pt{constructor(){super(),this.type="AudioListener",this.context=JA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_a,JE,e5),Aa.set(0,0,-1).applyQuaternion(JE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(_a.x,r),t.positionY.linearRampToValueAtTime(_a.y,r),t.positionZ.linearRampToValueAtTime(_a.z,r),t.forwardX.linearRampToValueAtTime(Aa.x,r),t.forwardY.linearRampToValueAtTime(Aa.y,r),t.forwardZ.linearRampToValueAtTime(Aa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(_a.x,_a.y,_a.z),t.setOrientation(Aa.x,Aa.y,Aa.z,i.x,i.y,i.z)}}class l3 extends Pt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Sa=new D,XE=new Jn,n5=new D,Ma=new D;class i5 extends l3{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Sa,XE,n5),Ma.set(0,0,1).applyQuaternion(XE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Sa.x,i),t.positionY.linearRampToValueAtTime(Sa.y,i),t.positionZ.linearRampToValueAtTime(Sa.z,i),t.orientationX.linearRampToValueAtTime(Ma.x,i),t.orientationY.linearRampToValueAtTime(Ma.y,i),t.orientationZ.linearRampToValueAtTime(Ma.z,i)}else t.setPosition(Sa.x,Sa.y,Sa.z),t.setOrientation(Ma.x,Ma.y,Ma.z)}}class r5{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class u3{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Jn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Jn.multiplyQuaternionsFlat(e,o,e,t,e,i),Jn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const KA="\\[\\]\\.:\\/",s5=new RegExp("["+KA+"]","g"),YA="[^"+KA+"]",o5="[^"+KA.replace("\\.","")+"]",a5=/((?:WC+[\/:])*)/.source.replace("WC",YA),l5=/(WCOD+)?/.source.replace("WCOD",o5),u5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",YA),c5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",YA),f5=new RegExp("^"+a5+l5+u5+c5+"$"),d5=["material","materials","bones","map"];class h5{constructor(e,t,i){const r=i||Et.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Et{constructor(e,t,i){this.path=t,this.parsedPath=i||Et.parseTrackName(t),this.node=Et.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Et.Composite(e,t,i):new Et(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(s5,"")}static parseTrackName(e){const t=f5.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);d5.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Et.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Et.Composite=h5;Et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Et.prototype.GetterByBindingType=[Et.prototype._getValue_direct,Et.prototype._getValue_array,Et.prototype._getValue_arrayElement,Et.prototype._getValue_toArray];Et.prototype.SetterByBindingTypeAndVersioning=[[Et.prototype._setValue_direct,Et.prototype._setValue_direct_setNeedsUpdate,Et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_array,Et.prototype._setValue_array_setNeedsUpdate,Et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_arrayElement,Et.prototype._setValue_arrayElement_setNeedsUpdate,Et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_fromArray,Et.prototype._setValue_fromArray_setNeedsUpdate,Et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class p5{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let v=0,x=o;v!==x;++v)s[v].push(new Et(p,i[v],r[v]))}else if(y<c){a=e[y];const v=--c,x=e[v];t[x.uuid]=y,e[y]=x,t[m]=v,e[v]=p;for(let _=0,S=o;_!==S;++_){const M=s[_],w=M[v];let b=M[y];M[y]=w,b===void 0&&(b=new Et(p,i[_],r[_])),M[v]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[c]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const v=i[m],x=v[h],_=v[d];v[d]=x,v[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,v=e[y];t[m.uuid]=h,e[h]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let x=0,_=r;x!==_;++x){const S=i[x],M=S[p],w=S[y];S[h]=M,S[p]=w,S.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,v=r;y!==v;++y){const x=i[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Et(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class m5{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ha,endingEnd:Ha};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=oR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case dA:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Vg:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===aR;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===sR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Va,r.endingEnd=Va):(e?r.endingStart=this.zeroSlopeAtStart?Va:Ha:r.endingStart=Kf,t?r.endingEnd=this.zeroSlopeAtEnd?Va:Ha:r.endingEnd=Kf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const g5=new Float32Array(1);class y5 extends cs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;y=new u3(Et.create(i,m,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new UA(new Float32Array(2),new Float32Array(2),1,g5),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Vu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Vg),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new m5(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Vu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QA{constructor(e){this.value=e}clone(){return new QA(this.value.clone===void 0?this.value:this.value.clone())}}let v5=0;class x5 extends cs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:v5++}),this.name="",this.usage=Yf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class _5 extends Ad{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class A5{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class c3{constructor(e,t,i=0,r=1/0){this.ray=new yd(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new el,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return I_(e,this,i,t),i.sort(KE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)I_(e[r],this,i,t);return i.sort(KE),i}}function KE(n,e){return n.distance-e.distance}function I_(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)I_(r[s],e,t,!0)}}class D_{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class S5{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const YE=new pe;class M5{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=YE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return YE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const QE=new D,Vp=new D;class w5{constructor(e=new D,t=new D){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){QE.subVectors(e,this.start),Vp.subVectors(this.end,this.start);const i=Vp.dot(Vp);let s=Vp.dot(QE)/i;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ZE=new D;class C5 extends Pt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new lt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new We(r,3));const s=new ri({fog:!1,toneMapped:!1});this.cone=new Ur(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ZE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ZE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mo=new D,Wp=new rt,Cv=new rt;class E5 extends Ur{constructor(e){const t=f3(e),i=new lt,r=[],s=[],o=new Re(0,0,1),a=new Re(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new We(r,3)),i.setAttribute("color",new We(s,3));const l=new ri({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Cv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Wp.multiplyMatrices(Cv,a.matrixWorld),mo.setFromMatrixPosition(Wp),r.setXYZ(o,mo.x,mo.y,mo.z),Wp.multiplyMatrices(Cv,a.parent.matrixWorld),mo.setFromMatrixPosition(Wp),r.setXYZ(o+1,mo.x,mo.y,mo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function f3(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,f3(n.children[t]));return e}class T5 extends zn{constructor(e,t,i){const r=new nc(t,4,2),s=new Ui({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const b5=new D,qE=new Re,$E=new Re;class P5 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new tc(t);r.rotateY(Math.PI*.5),this.material=new Ui({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new It(o,3)),this.add(new zn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");qE.copy(this.light.color),$E.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?qE:$E;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(b5.setFromMatrixPosition(this.light.matrixWorld).negate())}}class B5 extends Ur{constructor(e=10,t=10,i=4473924,r=8947848){i=new Re(i),r=new Re(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const v=p===s?i:r;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const d=new lt;d.setAttribute("position",new We(l,3)),d.setAttribute("color",new We(c,3));const h=new ri({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class R5 extends Ur{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Re(s),o=new Re(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const v=h&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let v=y/r*(Math.PI*2),x=Math.sin(v)*m,_=Math.cos(v)*m;a.push(x,0,_),l.push(p.r,p.g,p.b),v=(y+1)/r*(Math.PI*2),x=Math.sin(v)*m,_=Math.cos(v)*m,a.push(x,0,_),l.push(p.r,p.g,p.b)}}const c=new lt;c.setAttribute("position",new We(a,3)),c.setAttribute("color",new We(l,3));const d=new ri({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const eT=new D,jp=new D,tT=new D;class L5 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new lt;r.setAttribute("position",new We([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ri({fog:!1,toneMapped:!1});this.lightPlane=new Qs(r,s),this.add(this.lightPlane),r=new lt,r.setAttribute("position",new We([0,0,0,0,0,1],3)),this.targetLine=new Qs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),eT.setFromMatrixPosition(this.light.matrixWorld),jp.setFromMatrixPosition(this.light.target.matrixWorld),tT.subVectors(jp,eT),this.lightPlane.lookAt(jp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jp),this.targetLine.scale.z=tT.length()}}const Jp=new D,fn=new xd;class I5 extends Ur{constructor(e){const t=new lt,i=new ri({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){l(y),l(v)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new We(r,3)),t.setAttribute("color",new We(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Re(16755200),d=new Re(16711680),h=new Re(43775),p=new Re(16777215),m=new Re(3355443);this.setColors(c,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;fn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yn("c",t,e,fn,0,0,-1),yn("t",t,e,fn,0,0,1),yn("n1",t,e,fn,-i,-r,-1),yn("n2",t,e,fn,i,-r,-1),yn("n3",t,e,fn,-i,r,-1),yn("n4",t,e,fn,i,r,-1),yn("f1",t,e,fn,-i,-r,1),yn("f2",t,e,fn,i,-r,1),yn("f3",t,e,fn,-i,r,1),yn("f4",t,e,fn,i,r,1),yn("u1",t,e,fn,i*.7,r*1.1,-1),yn("u2",t,e,fn,-i*.7,r*1.1,-1),yn("u3",t,e,fn,0,r*2,-1),yn("cf1",t,e,fn,-i,0,1),yn("cf2",t,e,fn,i,0,1),yn("cf3",t,e,fn,0,-r,1),yn("cf4",t,e,fn,0,r,1),yn("cn1",t,e,fn,-i,0,-1),yn("cn2",t,e,fn,i,0,-1),yn("cn3",t,e,fn,0,-r,-1),yn("cn4",t,e,fn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yn(n,e,t,i,r,s,o){Jp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],Jp.x,Jp.y,Jp.z)}}const Xp=new ta;class D5 extends Ur{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new lt;s.setIndex(new It(i,1)),s.setAttribute("position",new It(r,3)),super(s,new ri({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Xp.setFromObject(this.object),Xp.isEmpty())return;const t=Xp.min,i=Xp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class F5 extends Ur{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new lt;s.setIndex(new It(i,1)),s.setAttribute("position",new We(r,3)),super(s,new ri({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class O5 extends Qs{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new lt;o.setAttribute("position",new We(s,3)),o.computeBoundingSphere(),super(o,new ri({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new lt;l.setAttribute("position",new We(a,3)),l.computeBoundingSphere(),this.add(new zn(l,new Ui({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const nT=new D;let Kp,Ev;class k5 extends Pt{constructor(e=new D(0,0,1),t=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Kp===void 0&&(Kp=new lt,Kp.setAttribute("position",new We([0,0,0,0,1,0],3)),Ev=new hl(0,.5,1,5,1),Ev.translate(0,-.5,0)),this.position.copy(t),this.line=new Qs(Kp,new ri({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new zn(Ev,new Ui({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{nT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(nT,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class N5 extends Ur{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new lt;r.setAttribute("position",new We(t,3)),r.setAttribute("color",new We(i,3));const s=new ri({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Re,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class U5{constructor(){this.type="ShapePath",this.color=new Re,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new qf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const S=[];for(let M=0,w=_.length;M<w;M++){const b=_[M],P=new tl;P.curves=b.curves,S.push(P)}return S}function i(_,S){const M=S.length;let w=!1;for(let b=M-1,P=0;P<M;b=P++){let R=S[b],E=S[P],B=E.x-R.x,L=E.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=S[P],B=-B,E=S[b],L=-L),_.y<R.y||_.y>E.y)continue;if(_.y===R.y){if(_.x===R.x)return!0}else{const U=L*(_.x-R.x)-B*(_.y-R.y);if(U===0)return!0;if(U<0)continue;w=!w}}else{if(_.y!==R.y)continue;if(E.x<=_.x&&_.x<=R.x||R.x<=_.x&&_.x<=E.x)return!0}}return w}const r=is.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new tl,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,v;p[y]=void 0,m[y]=[];for(let _=0,S=s.length;_<S;_++)a=s[_],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new tl,p:v},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,S=0;for(let M=0,w=p.length;M<w;M++)h[M]=[];for(let M=0,w=p.length;M<w;M++){const b=m[M];for(let P=0;P<b.length;P++){const R=b[P];let E=!0;for(let B=0;B<p.length;B++)i(R.p,p[B].p)&&(M!==B&&S++,E?(E=!1,h[B].push(R)):_=!0);E&&h[M].push(R)}}S>0&&_===!1&&(m=h)}let x;for(let _=0,S=p.length;_<S;_++){l=p[_].s,c.push(l),x=m[_];for(let M=0,w=x.length;M<w;M++)l.holes.push(x[M].h)}return c}}const Ls=z5();function z5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function G5(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),Ls.floatView[0]=n;const e=Ls.uint32View[0],t=e>>23&511;return Ls.baseTable[t]+((e&8388607)>>Ls.shiftTable[t])}function H5(n){const e=n>>10;return Ls.uint32View[0]=Ls.mantissaTable[Ls.offsetTable[e]+(n&1023)]+Ls.exponentTable[e],Ls.floatView[0]}var V5=Object.freeze({__proto__:null,fromHalfFloat:H5,toHalfFloat:G5});class W5 extends ia{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class j5 extends wd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class J5 extends Cd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class X5 extends Ed{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class K5 extends hl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class Y5 extends Td{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Q5 extends bd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Z5 extends Pd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class q5 extends ec{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class $5 extends tc{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class eV extends qu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class tV extends $s{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class nV extends Bd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class iV extends Rd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class rV extends nc{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class sV extends Ld{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class oV extends Id{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class aV extends Dd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class lV extends Fd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ug}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ug);const F_=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cA,AddEquation:Fa,AddOperation:UB,AdditiveAnimationBlendMode:dA,AdditiveBlending:Zx,AlphaFormat:YB,AlwaysDepth:LB,AlwaysStencilFunc:dR,AmbientLight:n3,AmbientLightProbe:qH,AnimationClip:Vu,AnimationLoader:GH,AnimationMixer:y5,AnimationObjectGroup:p5,AnimationUtils:kH,ArcCurve:LR,ArrayCamera:CR,ArrowHelper:k5,Audio:l3,AudioAnalyser:r5,AudioContext:JA,AudioListener:t5,AudioLoader:QH,AxesHelper:N5,BackSide:Pi,BasicDepthPacking:uR,BasicShadowMap:vB,Bone:Yg,BooleanKeyframeTrack:pl,Box2:M5,Box3:ta,Box3Helper:F5,BoxBufferGeometry:W5,BoxGeometry:ia,BoxHelper:D5,BufferAttribute:It,BufferGeometry:lt,BufferGeometryLoader:o3,ByteType:WB,Cache:cl,Camera:xd,CameraHelper:I5,CanvasTexture:aH,CapsuleBufferGeometry:j5,CapsuleGeometry:wd,CatmullRomCurve3:IR,CineonToneMapping:HB,CircleBufferGeometry:J5,CircleGeometry:Cd,ClampToEdgeWrapping:Wn,Clock:XA,Color:Re,ColorKeyframeTrack:zA,ColorManagement:ti,CompressedArrayTexture:oH,CompressedTexture:BA,CompressedTextureLoader:HH,ConeBufferGeometry:X5,ConeGeometry:Ed,CubeCamera:xA,CubeReflectionMapping:Wo,CubeRefractionMapping:jo,CubeTexture:_d,CubeTextureLoader:VH,CubeUVReflectionMapping:Zu,CubicBezierCurve:LA,CubicBezierCurve3:DR,CubicInterpolant:ZR,CullFaceBack:Qx,CullFaceFront:yB,CullFaceFrontBack:dk,CullFaceNone:gB,Curve:zr,CurvePath:OR,CustomBlending:xB,CustomToneMapping:VB,CylinderBufferGeometry:K5,CylinderGeometry:hl,Cylindrical:S5,Data3DTexture:gA,DataArrayTexture:Wg,DataTexture:Eu,DataTextureLoader:WH,DataUtils:V5,DecrementStencilOp:Mk,DecrementWrapStencilOp:Ck,DefaultLoadingManager:mu,DepthFormat:zo,DepthStencilFormat:al,DepthTexture:ER,DirectionalLight:jA,DirectionalLightHelper:L5,DiscreteInterpolant:qR,DodecahedronBufferGeometry:Y5,DodecahedronGeometry:Td,DoubleSide:Rr,DstAlphaFactor:EB,DstColorFactor:bB,DynamicCopyUsage:Uk,DynamicDrawUsage:Za,DynamicReadUsage:Ok,EdgesGeometry:kR,EllipseCurve:Qg,EqualDepth:DB,EqualStencilFunc:Pk,EquirectangularReflectionMapping:jf,EquirectangularRefractionMapping:Jf,Euler:vd,EventDispatcher:cs,ExtrudeBufferGeometry:Q5,ExtrudeGeometry:bd,FileLoader:Vi,Float16BufferAttribute:xN,Float32BufferAttribute:We,Float64BufferAttribute:_N,FloatType:Os,Fog:Kg,FogExp2:Xg,FramebufferTexture:sH,FrontSide:os,Frustum:jg,GLBufferAttribute:A5,GLSL1:Gk,GLSL3:C_,GreaterDepth:OB,GreaterEqualDepth:FB,GreaterEqualStencilFunc:Ik,GreaterStencilFunc:Rk,GridHelper:B5,Group:Ns,HalfFloatType:Ou,HemisphereLight:t3,HemisphereLightHelper:P5,HemisphereLightProbe:ZH,IcosahedronBufferGeometry:Z5,IcosahedronGeometry:Pd,ImageBitmapLoader:a3,ImageLoader:nd,ImageUtils:mA,IncrementStencilOp:Sk,IncrementWrapStencilOp:wk,InstancedBufferAttribute:zu,InstancedBufferGeometry:s3,InstancedInterleavedBuffer:_5,InstancedMesh:RR,Int16BufferAttribute:yN,Int32BufferAttribute:vN,Int8BufferAttribute:pN,IntType:JB,InterleavedBuffer:Ad,InterleavedBufferAttribute:Xo,Interpolant:rc,InterpolateDiscrete:ku,InterpolateLinear:ll,InterpolateSmooth:Tm,InvertStencilOp:Ek,KeepStencilOp:bm,KeyframeTrack:Gr,LOD:BR,LatheBufferGeometry:q5,LatheGeometry:ec,Layers:el,LessDepth:IB,LessEqualDepth:lg,LessEqualStencilFunc:Bk,LessStencilFunc:bk,Light:ra,LightProbe:$g,Line:Qs,Line3:w5,LineBasicMaterial:ri,LineCurve:Zg,LineCurve3:FR,LineDashedMaterial:YR,LineLoop:bA,LineSegments:Ur,LinearEncoding:Ys,LinearFilter:nn,LinearInterpolant:UA,LinearMipMapLinearFilter:yk,LinearMipMapNearestFilter:gk,LinearMipmapLinearFilter:as,LinearMipmapNearestFilter:Hg,LinearSRGBColorSpace:Nu,LinearToneMapping:zB,Loader:yi,LoaderUtils:rs,LoadingManager:GA,LoopOnce:sR,LoopPingPong:aR,LoopRepeat:oR,LuminanceAlphaFormat:ZB,LuminanceFormat:QB,MOUSE:Pa,Material:Cn,MaterialLoader:e0,MathUtils:pR,Matrix3:di,Matrix4:rt,MaxEquation:t_,Mesh:zn,MeshBasicMaterial:Ui,MeshDepthMaterial:SA,MeshDistanceMaterial:MA,MeshLambertMaterial:XR,MeshMatcapMaterial:KR,MeshNormalMaterial:JR,MeshPhongMaterial:WR,MeshPhysicalMaterial:eo,MeshStandardMaterial:ic,MeshToonMaterial:jR,MinEquation:e_,MirroredRepeatWrapping:Fu,MixOperation:NB,MultiplyBlending:$x,MultiplyOperation:gd,NearestFilter:pn,NearestMipMapLinearFilter:mk,NearestMipMapNearestFilter:pk,NearestMipmapLinearFilter:Cu,NearestMipmapNearestFilter:Xf,NeverDepth:RB,NeverStencilFunc:Tk,NoBlending:Gs,NoColorSpace:xk,NoToneMapping:Dr,NormalAnimationBlendMode:Vg,NormalBlending:Ya,NotEqualDepth:kB,NotEqualStencilFunc:Lk,NumberKeyframeTrack:Gu,Object3D:Pt,ObjectLoader:KH,ObjectSpaceNormalMap:fR,OctahedronBufferGeometry:$5,OctahedronGeometry:tc,OneFactor:MB,OneMinusDstAlphaFactor:TB,OneMinusDstColorFactor:PB,OneMinusSrcAlphaFactor:uA,OneMinusSrcColorFactor:CB,OrthographicCamera:Fr,PCFShadowMap:zg,PCFSoftShadowMap:yf,PMREMGenerator:T_,Path:qf,PerspectiveCamera:zt,Plane:wo,PlaneBufferGeometry:eV,PlaneGeometry:qu,PlaneHelper:O5,PointLight:WA,PointLightHelper:T5,Points:PA,PointsMaterial:Md,PolarGridHelper:R5,PolyhedronBufferGeometry:tV,PolyhedronGeometry:$s,PositionalAudio:i5,PropertyBinding:Et,PropertyMixer:u3,QuadraticBezierCurve:IA,QuadraticBezierCurve3:DA,Quaternion:Jn,QuaternionKeyframeTrack:Ko,QuaternionLinearInterpolant:$R,RED_GREEN_RGTC2_Format:M_,RED_RGTC1_Format:rR,REVISION:Ug,RGBADepthPacking:cR,RGBAFormat:wi,RGBAIntegerFormat:nR,RGBA_ASTC_10x10_Format:x_,RGBA_ASTC_10x5_Format:g_,RGBA_ASTC_10x6_Format:y_,RGBA_ASTC_10x8_Format:v_,RGBA_ASTC_12x10_Format:__,RGBA_ASTC_12x12_Format:A_,RGBA_ASTC_4x4_Format:l_,RGBA_ASTC_5x4_Format:u_,RGBA_ASTC_5x5_Format:c_,RGBA_ASTC_6x5_Format:f_,RGBA_ASTC_6x6_Format:d_,RGBA_ASTC_8x5_Format:h_,RGBA_ASTC_8x6_Format:p_,RGBA_ASTC_8x8_Format:m_,RGBA_BPTC_Format:Em,RGBA_ETC2_EAC_Format:a_,RGBA_PVRTC_2BPPV1_Format:s_,RGBA_PVRTC_4BPPV1_Format:r_,RGBA_S3TC_DXT1_Format:Mm,RGBA_S3TC_DXT3_Format:wm,RGBA_S3TC_DXT5_Format:Cm,RGB_ETC1_Format:iR,RGB_ETC2_Format:o_,RGB_PVRTC_2BPPV1_Format:i_,RGB_PVRTC_4BPPV1_Format:n_,RGB_S3TC_DXT1_Format:Sm,RGFormat:eR,RGIntegerFormat:tR,RawShaderMaterial:VR,Ray:yd,Raycaster:c3,RectAreaLight:i3,RedFormat:qB,RedIntegerFormat:$B,ReinhardToneMapping:GB,RepeatWrapping:Jo,ReplaceStencilOp:Ak,ReverseSubtractEquation:AB,RingBufferGeometry:nV,RingGeometry:Bd,SIGNED_RED_GREEN_RGTC2_Format:w_,SIGNED_RED_RGTC1_Format:S_,SRGBColorSpace:br,Scene:CA,ShaderChunk:ht,ShaderLib:Br,ShaderMaterial:ls,ShadowMaterial:HR,Shape:tl,ShapeBufferGeometry:iV,ShapeGeometry:Rd,ShapePath:U5,ShapeUtils:is,ShortType:jB,Skeleton:Sd,SkeletonHelper:E5,SkinnedMesh:TA,Source:Wa,Sphere:na,SphereBufferGeometry:rV,SphereGeometry:nc,Spherical:D_,SphericalHarmonics3:r3,SplineCurve:FA,SpotLight:VA,SpotLightHelper:C5,Sprite:PR,SpriteMaterial:EA,SrcAlphaFactor:lA,SrcAlphaSaturateFactor:BB,SrcColorFactor:wB,StaticCopyUsage:Nk,StaticDrawUsage:Yf,StaticReadUsage:Fk,StereoCamera:$H,StreamCopyUsage:zk,StreamDrawUsage:Dk,StreamReadUsage:kk,StringKeyframeTrack:ml,SubtractEquation:_B,SubtractiveBlending:qx,TOUCH:Ba,TangentSpaceNormalMap:qs,TetrahedronBufferGeometry:sV,TetrahedronGeometry:Ld,Texture:Qt,TextureLoader:e3,TorusBufferGeometry:oV,TorusGeometry:Id,TorusKnotBufferGeometry:aV,TorusKnotGeometry:Dd,Triangle:dr,TriangleFanDrawMode:hA,TriangleStripDrawMode:lR,TrianglesDrawMode:vk,TubeBufferGeometry:lV,TubeGeometry:Fd,TwoPassDoubleSide:hk,UVMapping:Gg,Uint16BufferAttribute:yA,Uint32BufferAttribute:vA,Uint8BufferAttribute:mN,Uint8ClampedBufferAttribute:gN,Uniform:QA,UniformsGroup:x5,UniformsLib:Be,UniformsUtils:vR,UnsignedByteType:Ks,UnsignedInt248Type:Qa,UnsignedIntType:Bo,UnsignedShort4444Type:XB,UnsignedShort5551Type:KB,UnsignedShortType:fA,VSMShadowMap:Ga,Vector2:pe,Vector3:D,Vector4:Ft,VectorKeyframeTrack:Hu,VideoTexture:rH,WebGL1Renderer:TR,WebGL3DRenderTarget:rN,WebGLArrayRenderTarget:iN,WebGLCubeRenderTarget:_A,WebGLMultipleRenderTargets:sN,WebGLRenderTarget:kr,WebGLRenderer:wA,WebGLUtils:wR,WireframeGeometry:GR,WrapAroundEnding:Kf,ZeroCurvatureEnding:Ha,ZeroFactor:SB,ZeroSlopeEnding:Va,ZeroStencilOp:_k,_SRGBAFormat:ug,sRGBEncoding:wt},Symbol.toStringTag,{value:"Module"}));var Ro={},uV={get exports(){return Ro},set exports(n){Ro=n}},gl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gl.ConcurrentRoot=1;gl.ContinuousEventPriority=4;gl.DefaultEventPriority=16;gl.DiscreteEventPriority=1;gl.IdleEventPriority=536870912;gl.LegacyRoot=0;(function(n){n.exports=gl})(uV);function cV(n){let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const v=p;c(p=y,v)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const fV=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),iT=fV?H.useEffect:H.useLayoutEffect;function d3(n){const e=typeof n=="function"?cV(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=H.useReducer(x=>x+1,0),o=e.getState(),a=H.useRef(o),l=H.useRef(i),c=H.useRef(r),d=H.useRef(!1),h=H.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),iT(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const y=H.useRef(o);iT(()=>{const x=()=>{try{const S=e.getState(),M=l.current(S);c.current(h.current,M)||(a.current=S,h.current=M,s())}catch{d.current=!0,s()}},_=e.subscribe(x);return e.getState()!==y.current&&x(),_},[]);const v=m?p:h.current;return H.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var O_={},dV={get exports(){return O_},set exports(n){O_=n}},id={},hV={get exports(){return id},set exports(n){id=n}},h3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var j=O.length;O.push(V);e:for(;0<j;){var ae=j-1>>>1,W=O[ae];if(0<r(W,V))O[ae]=V,O[j]=W,j=ae;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],j=O.pop();if(j!==V){O[0]=j;e:for(var ae=0,W=O.length,ce=W>>>1;ae<ce;){var ye=2*(ae+1)-1,xe=O[ye],$=ye+1,Oe=O[$];if(0>r(xe,j))$<W&&0>r(Oe,xe)?(O[ae]=Oe,O[$]=j,ae=$):(O[ae]=xe,O[ye]=j,ae=ye);else if($<W&&0>r(Oe,j))O[ae]=Oe,O[$]=j,ae=$;else break e}}return V}function r(O,V){var j=O.sortIndex-V.sortIndex;return j!==0?j:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(O){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=O)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function w(O){if(v=!1,M(O),!y)if(t(l)!==null)y=!0,te(b);else{var V=t(c);V!==null&&le(w,V.startTime-O)}}function b(O,V){y=!1,v&&(v=!1,_(E),E=-1),m=!0;var j=p;try{for(M(V),h=t(l);h!==null&&(!(h.expirationTime>V)||O&&!U());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var W=ae(h.expirationTime<=V);V=n.unstable_now(),typeof W=="function"?h.callback=W:h===t(l)&&i(l),M(V)}else i(l);h=t(l)}if(h!==null)var ce=!0;else{var ye=t(c);ye!==null&&le(w,ye.startTime-V),ce=!1}return ce}finally{h=null,p=j,m=!1}}var P=!1,R=null,E=-1,B=5,L=-1;function U(){return!(n.unstable_now()-L<B)}function Z(){if(R!==null){var O=n.unstable_now();L=O;var V=!0;try{V=R(!0,O)}finally{V?J():(P=!1,R=null)}}else P=!1}var J;if(typeof S=="function")J=function(){S(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=Z,J=function(){Y.postMessage(null)}}else J=function(){x(Z,0)};function te(O){R=O,P||(P=!0,J())}function le(O,V){E=x(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(b))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var j=p;p=V;try{return O()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=p;p=O;try{return V()}finally{p=j}},n.unstable_scheduleCallback=function(O,V,j){var ae=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ae+j:ae):j=ae,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,O={id:d++,callback:V,priorityLevel:O,startTime:j,expirationTime:W,sortIndex:-1},j>ae?(O.sortIndex=j,e(c,O),t(l)===null&&O===t(c)&&(v?(_(E),E=-1):v=!0,le(w,j-ae))):(O.sortIndex=W,e(l,O),y||m||(y=!0,te(b))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var V=p;return function(){var j=p;p=V;try{return O.apply(this,arguments)}finally{p=j}}}})(h3);(function(n){n.exports=h3})(hV);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV=function(e){var t={},i=H,r=id,s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=b&&u[b]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return f=u.displayName||null,f!==null?f:R(u.type)||"Memo";case M:f=u._payload,u=u._init;try{return R(u(f))}catch{}}return null}function E(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function B(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function L(u){if(B(u)!==u)throw Error(o(188))}function U(u){var f=u.alternate;if(!f){if(f=B(u),f===null)throw Error(o(188));return f!==u?null:u}for(var g=u,A=f;;){var C=g.return;if(C===null)break;var T=C.alternate;if(T===null){if(A=C.return,A!==null){g=A;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===g)return L(C),u;if(T===A)return L(C),f;T=T.sibling}throw Error(o(188))}if(g.return!==A.return)g=C,A=T;else{for(var k=!1,X=C.child;X;){if(X===g){k=!0,g=C,A=T;break}if(X===A){k=!0,A=C,g=T;break}X=X.sibling}if(!k){for(X=T.child;X;){if(X===g){k=!0,g=T,A=C;break}if(X===A){k=!0,A=T,g=C;break}X=X.sibling}if(!k)throw Error(o(189))}}if(g.alternate!==A)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?u:f}function Z(u){return u=U(u),u!==null?J(u):null}function J(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=J(u);if(f!==null)return f;u=u.sibling}return null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=G(u);if(f!==null)return f}u=u.sibling}return null}var Y=Array.isArray,te=e.getPublicInstance,le=e.getRootHostContext,O=e.getChildHostContext,V=e.prepareForCommit,j=e.resetAfterCommit,ae=e.createInstance,W=e.appendInitialChild,ce=e.finalizeInitialChildren,ye=e.prepareUpdate,xe=e.shouldSetTextContent,$=e.createTextInstance,Oe=e.scheduleTimeout,ke=e.cancelTimeout,Ge=e.noTimeout,Ae=e.isPrimaryRenderer,Le=e.supportsMutation,de=e.supportsPersistence,re=e.supportsHydration,we=e.getInstanceFromNode,Ue=e.preparePortalMount,Pe=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,je=e.supportsMicrotasks,Ve=e.scheduleMicrotask,yt=e.supportsTestSelectors,St=e.findFiberRoot,N=e.getBoundingRect,I=e.getTextContent,ie=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,be=e.setupIntersectionObserver,tt=e.appendChild,Ie=e.appendChildToContainer,me=e.commitTextUpdate,Je=e.commitMount,z=e.commitUpdate,se=e.insertBefore,_e=e.insertInContainerBefore,Te=e.removeChild,qe=e.removeChildFromContainer,gt=e.resetTextContent,Ht=e.hideInstance,K=e.hideTextInstance,ue=e.unhideInstance,ve=e.unhideTextInstance,Ne=e.clearContainer,Ke=e.cloneInstance,Tt=e.createContainerChildSet,mn=e.appendChildToContainerChildSet,Ln=e.finalizeContainerChildren,Hr=e.replaceContainerChildren,kt=e.cloneHiddenInstance,Xi=e.cloneHiddenTextInstance,vi=e.canHydrateInstance,Qd=e.canHydrateTextInstance,m0=e.canHydrateSuspenseInstance,Zd=e.isSuspenseInstancePending,oc=e.isSuspenseInstanceFallback,F=e.registerSuspenseInstanceRetry,ee=e.getNextHydratableSibling,he=e.getFirstHydratableChild,q=e.getFirstHydratableChildWithinContainer,ge=e.getFirstHydratableChildWithinSuspenseInstance,Ze=e.hydrateInstance,it=e.hydrateTextInstance,ct=e.hydrateSuspenseInstance,pt=e.getNextHydratableInstanceAfterSuspenseInstance,Mt=e.commitHydratedContainer,xt=e.commitHydratedSuspenseInstance,_t=e.clearSuspenseBoundary,ln=e.clearSuspenseBoundaryFromContainer,si=e.shouldDeleteUnhydratedTailInstances,vr=e.didNotMatchHydratedContainerTextInstance,ds=e.didNotMatchHydratedTextInstance,jt;function ft(u){if(jt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);jt=f&&f[1]||""}return`
`+jt+u}var oa=!1;function un(u,f){if(!u||oa)return"";oa=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var A=Ee}Reflect.construct(u,[],f)}else{try{f.call()}catch(Ee){A=Ee}u.call(f.prototype)}else{try{throw Error()}catch(Ee){A=Ee}u()}}catch(Ee){if(Ee&&A&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),T=A.stack.split(`
`),k=C.length-1,X=T.length-1;1<=k&&0<=X&&C[k]!==T[X];)X--;for(;1<=k&&0<=X;k--,X--)if(C[k]!==T[X]){if(k!==1||X!==1)do if(k--,X--,0>X||C[k]!==T[X]){var fe=`
`+C[k].replace(" at new "," at ");return u.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",u.displayName)),fe}while(1<=k&&0<=X);break}}}finally{oa=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?ft(u):""}var hs=Object.prototype.hasOwnProperty,xl=[],Ki=-1;function Yi(u){return{current:u}}function ut(u){0>Ki||(u.current=xl[Ki],xl[Ki]=null,Ki--)}function Ct(u,f){Ki++,xl[Ki]=u.current,u.current=f}var Qi={},Dt=Yi(Qi),In=Yi(!1),ps=Qi;function ms(u,f){var g=u.type.contextTypes;if(!g)return Qi;var A=u.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===f)return A.__reactInternalMemoizedMaskedChildContext;var C={},T;for(T in g)C[T]=f[T];return A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=C),C}function xi(u){return u=u.childContextTypes,u!=null}function qd(){ut(In),ut(Dt)}function US(u,f,g){if(Dt.current!==Qi)throw Error(o(168));Ct(Dt,f),Ct(In,g)}function zS(u,f,g){var A=u.stateNode;if(f=f.childContextTypes,typeof A.getChildContext!="function")return g;A=A.getChildContext();for(var C in A)if(!(C in f))throw Error(o(108,E(u)||"Unknown",C));return s({},g,A)}function $d(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Qi,ps=Dt.current,Ct(Dt,u),Ct(In,In.current),!0}function GS(u,f,g){var A=u.stateNode;if(!A)throw Error(o(169));g?(u=zS(u,f,ps),A.__reactInternalMemoizedMergedChildContext=u,ut(In),ut(Dt),Ct(Dt,u)):ut(In),Ct(In,g)}var xr=Math.clz32?Math.clz32:EI,wI=Math.log,CI=Math.LN2;function EI(u){return u>>>=0,u===0?32:31-(wI(u)/CI|0)|0}var eh=64,th=4194304;function ac(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function nh(u,f){var g=u.pendingLanes;if(g===0)return 0;var A=0,C=u.suspendedLanes,T=u.pingedLanes,k=g&268435455;if(k!==0){var X=k&~C;X!==0?A=ac(X):(T&=k,T!==0&&(A=ac(T)))}else k=g&~C,k!==0?A=ac(k):T!==0&&(A=ac(T));if(A===0)return 0;if(f!==0&&f!==A&&!(f&C)&&(C=A&-A,T=f&-f,C>=T||C===16&&(T&4194240)!==0))return f;if(A&4&&(A|=g&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=A;0<f;)g=31-xr(f),C=1<<g,A|=u[g],f&=~C;return A}function TI(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bI(u,f){for(var g=u.suspendedLanes,A=u.pingedLanes,C=u.expirationTimes,T=u.pendingLanes;0<T;){var k=31-xr(T),X=1<<k,fe=C[k];fe===-1?(!(X&g)||X&A)&&(C[k]=TI(X,f)):fe<=f&&(u.expiredLanes|=X),T&=~X}}function g0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function y0(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function lc(u,f,g){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-xr(f),u[f]=g}function PI(u,f){var g=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var A=u.eventTimes;for(u=u.expirationTimes;0<g;){var C=31-xr(g),T=1<<C;f[C]=0,A[C]=-1,u[C]=-1,g&=~T}}function v0(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var A=31-xr(g),C=1<<A;C&f|u[A]&f&&(u[A]|=f),g&=~C}}var Bt=0;function HS(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var x0=r.unstable_scheduleCallback,VS=r.unstable_cancelCallback,BI=r.unstable_shouldYield,RI=r.unstable_requestPaint,Dn=r.unstable_now,_0=r.unstable_ImmediatePriority,LI=r.unstable_UserBlockingPriority,A0=r.unstable_NormalPriority,II=r.unstable_IdlePriority,ih=null,Vr=null;function DI(u){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(ih,u,void 0,(u.current.flags&128)===128)}catch{}}function FI(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Wr=typeof Object.is=="function"?Object.is:FI,gs=null,rh=!1,S0=!1;function WS(u){gs===null?gs=[u]:gs.push(u)}function OI(u){rh=!0,WS(u)}function jr(){if(!S0&&gs!==null){S0=!0;var u=0,f=Bt;try{var g=gs;for(Bt=1;u<g.length;u++){var A=g[u];do A=A(!0);while(A!==null)}gs=null,rh=!1}catch(C){throw gs!==null&&(gs=gs.slice(u+1)),x0(_0,jr),C}finally{Bt=f,S0=!1}}return null}var kI=a.ReactCurrentBatchConfig;function sh(u,f){if(Wr(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),A=Object.keys(f);if(g.length!==A.length)return!1;for(A=0;A<g.length;A++){var C=g[A];if(!hs.call(f,C)||!Wr(u[C],f[C]))return!1}return!0}function NI(u){switch(u.tag){case 5:return ft(u.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return u=un(u.type,!1),u;case 11:return u=un(u.type.render,!1),u;case 1:return u=un(u.type,!0),u;default:return""}}function _r(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var g in u)f[g]===void 0&&(f[g]=u[g]);return f}return f}var oh=Yi(null),ah=null,_l=null,M0=null;function w0(){M0=_l=ah=null}function jS(u,f,g){Ae?(Ct(oh,f._currentValue),f._currentValue=g):(Ct(oh,f._currentValue2),f._currentValue2=g)}function C0(u){var f=oh.current;ut(oh),Ae?u._currentValue=f:u._currentValue2=f}function E0(u,f,g){for(;u!==null;){var A=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,A!==null&&(A.childLanes|=f)):A!==null&&(A.childLanes&f)!==f&&(A.childLanes|=f),u===g)break;u=u.return}}function Al(u,f){ah=u,M0=_l=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Ii=!0),u.firstContext=null)}function Zi(u){var f=Ae?u._currentValue:u._currentValue2;if(M0!==u)if(u={context:u,memoizedValue:f,next:null},_l===null){if(ah===null)throw Error(o(308));_l=u,ah.dependencies={lanes:0,firstContext:u}}else _l=_l.next=u;return f}var Jr=null,to=!1;function T0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JS(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ys(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function no(u,f){var g=u.updateQueue;g!==null&&(g=g.shared,_n!==null&&u.mode&1&&!(mt&2)?(u=g.interleaved,u===null?(f.next=f,Jr===null?Jr=[g]:Jr.push(g)):(f.next=u.next,u.next=f),g.interleaved=f):(u=g.pending,u===null?f.next=f:(f.next=u.next,u.next=f),g.pending=f))}function lh(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var A=f.lanes;A&=u.pendingLanes,g|=A,f.lanes=g,v0(u,g)}}function XS(u,f){var g=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,g===A)){var C=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var k={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?C=T=k:T=T.next=k,g=g.next}while(g!==null);T===null?C=T=f:T=T.next=f}else C=T=f;g={baseState:A.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:A.shared,effects:A.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}function uh(u,f,g,A){var C=u.updateQueue;to=!1;var T=C.firstBaseUpdate,k=C.lastBaseUpdate,X=C.shared.pending;if(X!==null){C.shared.pending=null;var fe=X,Ee=fe.next;fe.next=null,k===null?T=Ee:k.next=Ee,k=fe;var He=u.alternate;He!==null&&(He=He.updateQueue,X=He.lastBaseUpdate,X!==k&&(X===null?He.firstBaseUpdate=Ee:X.next=Ee,He.lastBaseUpdate=fe))}if(T!==null){var st=C.baseState;k=0,He=Ee=fe=null,X=T;do{var $e=X.lane,Nt=X.eventTime;if((A&$e)===$e){He!==null&&(He=He.next={eventTime:Nt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ye=u,Zn=X;switch($e=f,Nt=g,Zn.tag){case 1:if(Ye=Zn.payload,typeof Ye=="function"){st=Ye.call(Nt,st,$e);break e}st=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Zn.payload,$e=typeof Ye=="function"?Ye.call(Nt,st,$e):Ye,$e==null)break e;st=s({},st,$e);break e;case 2:to=!0}}X.callback!==null&&X.lane!==0&&(u.flags|=64,$e=C.effects,$e===null?C.effects=[X]:$e.push(X))}else Nt={eventTime:Nt,lane:$e,tag:X.tag,payload:X.payload,callback:X.callback,next:null},He===null?(Ee=He=Nt,fe=st):He=He.next=Nt,k|=$e;if(X=X.next,X===null){if(X=C.shared.pending,X===null)break;$e=X,X=$e.next,$e.next=null,C.lastBaseUpdate=$e,C.shared.pending=null}}while(1);if(He===null&&(fe=st),C.baseState=fe,C.firstBaseUpdate=Ee,C.lastBaseUpdate=He,f=C.shared.interleaved,f!==null){C=f;do k|=C.lane,C=C.next;while(C!==f)}else T===null&&(C.shared.lanes=0);Bl|=k,u.lanes=k,u.memoizedState=st}}function KS(u,f,g){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var A=u[f],C=A.callback;if(C!==null){if(A.callback=null,A=g,typeof C!="function")throw Error(o(191,C));C.call(A)}}}var YS=new i.Component().refs;function b0(u,f,g,A){f=u.memoizedState,g=g(A,f),g=g==null?f:s({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var ch={isMounted:function(u){return(u=u._reactInternals)?B(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var A=ai(),C=so(u),T=ys(A,C);T.payload=f,g!=null&&(T.callback=g),no(u,T),f=nr(u,C,A),f!==null&&lh(f,u,C)},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var A=ai(),C=so(u),T=ys(A,C);T.tag=1,T.payload=f,g!=null&&(T.callback=g),no(u,T),f=nr(u,C,A),f!==null&&lh(f,u,C)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=ai(),A=so(u),C=ys(g,A);C.tag=2,f!=null&&(C.callback=f),no(u,C),f=nr(u,A,g),f!==null&&lh(f,u,A)}};function QS(u,f,g,A,C,T,k){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,T,k):f.prototype&&f.prototype.isPureReactComponent?!sh(g,A)||!sh(C,T):!0}function ZS(u,f,g){var A=!1,C=Qi,T=f.contextType;return typeof T=="object"&&T!==null?T=Zi(T):(C=xi(f)?ps:Dt.current,A=f.contextTypes,T=(A=A!=null)?ms(u,C):Qi),f=new f(g,T),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ch,u.stateNode=f,f._reactInternals=u,A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=C,u.__reactInternalMemoizedMaskedChildContext=T),f}function qS(u,f,g,A){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,A),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,A),f.state!==u&&ch.enqueueReplaceState(f,f.state,null)}function P0(u,f,g,A){var C=u.stateNode;C.props=g,C.state=u.memoizedState,C.refs=YS,T0(u);var T=f.contextType;typeof T=="object"&&T!==null?C.context=Zi(T):(T=xi(f)?ps:Dt.current,C.context=ms(u,T)),C.state=u.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(b0(u,f,T,g),C.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(f=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),f!==C.state&&ch.enqueueReplaceState(C,C.state,null),uh(u,g,C,A),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308)}var Sl=[],Ml=0,fh=null,dh=0,qi=[],$i=0,aa=null,vs=1,xs="";function la(u,f){Sl[Ml++]=dh,Sl[Ml++]=fh,fh=u,dh=f}function $S(u,f,g){qi[$i++]=vs,qi[$i++]=xs,qi[$i++]=aa,aa=u;var A=vs;u=xs;var C=32-xr(A)-1;A&=~(1<<C),g+=1;var T=32-xr(f)+C;if(30<T){var k=C-C%5;T=(A&(1<<k)-1).toString(32),A>>=k,C-=k,vs=1<<32-xr(f)+C|g<<C|A,xs=T+u}else vs=1<<T|g<<C|A,xs=u}function B0(u){u.return!==null&&(la(u,1),$S(u,1,0))}function R0(u){for(;u===fh;)fh=Sl[--Ml],Sl[Ml]=null,dh=Sl[--Ml],Sl[Ml]=null;for(;u===aa;)aa=qi[--$i],qi[$i]=null,xs=qi[--$i],qi[$i]=null,vs=qi[--$i],qi[$i]=null}var Ri=null,Li=null,Jt=!1,uc=!1,Ar=null;function eM(u,f){var g=ir(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=u,f=u.deletions,f===null?(u.deletions=[g],u.flags|=16):f.push(g)}function tM(u,f){switch(u.tag){case 5:return f=vi(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Ri=u,Li=he(f),!0):!1;case 6:return f=Qd(f,u.pendingProps),f!==null?(u.stateNode=f,Ri=u,Li=null,!0):!1;case 13:if(f=m0(f),f!==null){var g=aa!==null?{id:vs,overflow:xs}:null;return u.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=ir(18,null,null,0),g.stateNode=f,g.return=u,u.child=g,Ri=u,Li=null,!0}return!1;default:return!1}}function L0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function I0(u){if(Jt){var f=Li;if(f){var g=f;if(!tM(u,f)){if(L0(u))throw Error(o(418));f=ee(g);var A=Ri;f&&tM(u,f)?eM(A,g):(u.flags=u.flags&-4097|2,Jt=!1,Ri=u)}}else{if(L0(u))throw Error(o(418));u.flags=u.flags&-4097|2,Jt=!1,Ri=u}}}function nM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ri=u}function cc(u){if(!re||u!==Ri)return!1;if(!Jt)return nM(u),Jt=!0,!1;if(u.tag!==3&&(u.tag!==5||si(u.type)&&!xe(u.type,u.memoizedProps))){var f=Li;if(f){if(L0(u)){for(u=Li;u;)u=ee(u);throw Error(o(418))}for(;f;)eM(u,f),f=ee(f)}}if(nM(u),u.tag===13){if(!re)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Li=pt(u)}else Li=Ri?ee(u.stateNode):null;return!0}function wl(){re&&(Li=Ri=null,uc=Jt=!1)}function D0(u){Ar===null?Ar=[u]:Ar.push(u)}function fc(u,f,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var A=g.stateNode}if(!A)throw Error(o(147,u));var C=A,T=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(k){var X=C.refs;X===YS&&(X=C.refs={}),k===null?delete X[T]:X[T]=k},f._stringRef=T,f)}if(typeof u!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,u))}return u}function hh(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function iM(u){var f=u._init;return f(u._payload)}function rM(u){function f(ne,Q){if(u){var oe=ne.deletions;oe===null?(ne.deletions=[Q],ne.flags|=16):oe.push(Q)}}function g(ne,Q){if(!u)return null;for(;Q!==null;)f(ne,Q),Q=Q.sibling;return null}function A(ne,Q){for(ne=new Map;Q!==null;)Q.key!==null?ne.set(Q.key,Q):ne.set(Q.index,Q),Q=Q.sibling;return ne}function C(ne,Q){return ne=ao(ne,Q),ne.index=0,ne.sibling=null,ne}function T(ne,Q,oe){return ne.index=oe,u?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<Q?(ne.flags|=2,Q):oe):(ne.flags|=2,Q)):(ne.flags|=1048576,Q)}function k(ne){return u&&ne.alternate===null&&(ne.flags|=2),ne}function X(ne,Q,oe,Fe){return Q===null||Q.tag!==6?(Q=yy(oe,ne.mode,Fe),Q.return=ne,Q):(Q=C(Q,oe),Q.return=ne,Q)}function fe(ne,Q,oe,Fe){var Xe=oe.type;return Xe===d?He(ne,Q,oe.props.children,Fe,oe.key):Q!==null&&(Q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&iM(Xe)===Q.type)?(Fe=C(Q,oe.props),Fe.ref=fc(ne,Q,oe),Fe.return=ne,Fe):(Fe=Wh(oe.type,oe.key,oe.props,null,ne.mode,Fe),Fe.ref=fc(ne,Q,oe),Fe.return=ne,Fe)}function Ee(ne,Q,oe,Fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=vy(oe,ne.mode,Fe),Q.return=ne,Q):(Q=C(Q,oe.children||[]),Q.return=ne,Q)}function He(ne,Q,oe,Fe,Xe){return Q===null||Q.tag!==7?(Q=ma(oe,ne.mode,Fe,Xe),Q.return=ne,Q):(Q=C(Q,oe),Q.return=ne,Q)}function st(ne,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=yy(""+Q,ne.mode,oe),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return oe=Wh(Q.type,Q.key,Q.props,null,ne.mode,oe),oe.ref=fc(ne,null,Q),oe.return=ne,oe;case c:return Q=vy(Q,ne.mode,oe),Q.return=ne,Q;case M:var Fe=Q._init;return st(ne,Fe(Q._payload),oe)}if(Y(Q)||P(Q))return Q=ma(Q,ne.mode,oe,null),Q.return=ne,Q;hh(ne,Q)}return null}function $e(ne,Q,oe,Fe){var Xe=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Xe!==null?null:X(ne,Q,""+oe,Fe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case l:return oe.key===Xe?fe(ne,Q,oe,Fe):null;case c:return oe.key===Xe?Ee(ne,Q,oe,Fe):null;case M:return Xe=oe._init,$e(ne,Q,Xe(oe._payload),Fe)}if(Y(oe)||P(oe))return Xe!==null?null:He(ne,Q,oe,Fe,null);hh(ne,oe)}return null}function Nt(ne,Q,oe,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ne=ne.get(oe)||null,X(Q,ne,""+Fe,Xe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return ne=ne.get(Fe.key===null?oe:Fe.key)||null,fe(Q,ne,Fe,Xe);case c:return ne=ne.get(Fe.key===null?oe:Fe.key)||null,Ee(Q,ne,Fe,Xe);case M:var dt=Fe._init;return Nt(ne,Q,oe,dt(Fe._payload),Xe)}if(Y(Fe)||P(Fe))return ne=ne.get(oe)||null,He(Q,ne,Fe,Xe,null);hh(Q,Fe)}return null}function Ye(ne,Q,oe,Fe){for(var Xe=null,dt=null,ot=Q,Rt=Q=0,On=null;ot!==null&&Rt<oe.length;Rt++){ot.index>Rt?(On=ot,ot=null):On=ot.sibling;var Lt=$e(ne,ot,oe[Rt],Fe);if(Lt===null){ot===null&&(ot=On);break}u&&ot&&Lt.alternate===null&&f(ne,ot),Q=T(Lt,Q,Rt),dt===null?Xe=Lt:dt.sibling=Lt,dt=Lt,ot=On}if(Rt===oe.length)return g(ne,ot),Jt&&la(ne,Rt),Xe;if(ot===null){for(;Rt<oe.length;Rt++)ot=st(ne,oe[Rt],Fe),ot!==null&&(Q=T(ot,Q,Rt),dt===null?Xe=ot:dt.sibling=ot,dt=ot);return Jt&&la(ne,Rt),Xe}for(ot=A(ne,ot);Rt<oe.length;Rt++)On=Nt(ot,ne,Rt,oe[Rt],Fe),On!==null&&(u&&On.alternate!==null&&ot.delete(On.key===null?Rt:On.key),Q=T(On,Q,Rt),dt===null?Xe=On:dt.sibling=On,dt=On);return u&&ot.forEach(function(lo){return f(ne,lo)}),Jt&&la(ne,Rt),Xe}function Zn(ne,Q,oe,Fe){var Xe=P(oe);if(typeof Xe!="function")throw Error(o(150));if(oe=Xe.call(oe),oe==null)throw Error(o(151));for(var dt=Xe=null,ot=Q,Rt=Q=0,On=null,Lt=oe.next();ot!==null&&!Lt.done;Rt++,Lt=oe.next()){ot.index>Rt?(On=ot,ot=null):On=ot.sibling;var lo=$e(ne,ot,Lt.value,Fe);if(lo===null){ot===null&&(ot=On);break}u&&ot&&lo.alternate===null&&f(ne,ot),Q=T(lo,Q,Rt),dt===null?Xe=lo:dt.sibling=lo,dt=lo,ot=On}if(Lt.done)return g(ne,ot),Jt&&la(ne,Rt),Xe;if(ot===null){for(;!Lt.done;Rt++,Lt=oe.next())Lt=st(ne,Lt.value,Fe),Lt!==null&&(Q=T(Lt,Q,Rt),dt===null?Xe=Lt:dt.sibling=Lt,dt=Lt);return Jt&&la(ne,Rt),Xe}for(ot=A(ne,ot);!Lt.done;Rt++,Lt=oe.next())Lt=Nt(ot,ne,Rt,Lt.value,Fe),Lt!==null&&(u&&Lt.alternate!==null&&ot.delete(Lt.key===null?Rt:Lt.key),Q=T(Lt,Q,Rt),dt===null?Xe=Lt:dt.sibling=Lt,dt=Lt);return u&&ot.forEach(function(pD){return f(ne,pD)}),Jt&&la(ne,Rt),Xe}function rr(ne,Q,oe,Fe){if(typeof oe=="object"&&oe!==null&&oe.type===d&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case l:e:{for(var Xe=oe.key,dt=Q;dt!==null;){if(dt.key===Xe){if(Xe=oe.type,Xe===d){if(dt.tag===7){g(ne,dt.sibling),Q=C(dt,oe.props.children),Q.return=ne,ne=Q;break e}}else if(dt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&iM(Xe)===dt.type){g(ne,dt.sibling),Q=C(dt,oe.props),Q.ref=fc(ne,dt,oe),Q.return=ne,ne=Q;break e}g(ne,dt);break}else f(ne,dt);dt=dt.sibling}oe.type===d?(Q=ma(oe.props.children,ne.mode,Fe,oe.key),Q.return=ne,ne=Q):(Fe=Wh(oe.type,oe.key,oe.props,null,ne.mode,Fe),Fe.ref=fc(ne,Q,oe),Fe.return=ne,ne=Fe)}return k(ne);case c:e:{for(dt=oe.key;Q!==null;){if(Q.key===dt)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){g(ne,Q.sibling),Q=C(Q,oe.children||[]),Q.return=ne,ne=Q;break e}else{g(ne,Q);break}else f(ne,Q);Q=Q.sibling}Q=vy(oe,ne.mode,Fe),Q.return=ne,ne=Q}return k(ne);case M:return dt=oe._init,rr(ne,Q,dt(oe._payload),Fe)}if(Y(oe))return Ye(ne,Q,oe,Fe);if(P(oe))return Zn(ne,Q,oe,Fe);hh(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Q!==null&&Q.tag===6?(g(ne,Q.sibling),Q=C(Q,oe),Q.return=ne,ne=Q):(g(ne,Q),Q=yy(oe,ne.mode,Fe),Q.return=ne,ne=Q),k(ne)):g(ne,Q)}return rr}var Cl=rM(!0),sM=rM(!1),dc={},er=Yi(dc),hc=Yi(dc),El=Yi(dc);function Xr(u){if(u===dc)throw Error(o(174));return u}function F0(u,f){Ct(El,f),Ct(hc,u),Ct(er,dc),u=le(f),ut(er),Ct(er,u)}function Tl(){ut(er),ut(hc),ut(El)}function oM(u){var f=Xr(El.current),g=Xr(er.current);f=O(g,u.type,f),g!==f&&(Ct(hc,u),Ct(er,f))}function O0(u){hc.current===u&&(ut(er),ut(hc))}var Zt=Yi(0);function ph(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Zd(g)||oc(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var k0=[];function N0(){for(var u=0;u<k0.length;u++){var f=k0[u];Ae?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}k0.length=0}var mh=a.ReactCurrentDispatcher,tr=a.ReactCurrentBatchConfig,bl=0,cn=null,Kn=null,Fn=null,gh=!1,pc=!1,mc=0,UI=0;function Yn(){throw Error(o(321))}function U0(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Wr(u[g],f[g]))return!1;return!0}function z0(u,f,g,A,C,T){if(bl=T,cn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,mh.current=u===null||u.memoizedState===null?VI:WI,u=g(A,C),pc){T=0;do{if(pc=!1,mc=0,25<=T)throw Error(o(301));T+=1,Fn=Kn=null,f.updateQueue=null,mh.current=jI,u=g(A,C)}while(pc)}if(mh.current=Ah,f=Kn!==null&&Kn.next!==null,bl=0,Fn=Kn=cn=null,gh=!1,f)throw Error(o(300));return u}function G0(){var u=mc!==0;return mc=0,u}function _s(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?cn.memoizedState=Fn=u:Fn=Fn.next=u,Fn}function Kr(){if(Kn===null){var u=cn.alternate;u=u!==null?u.memoizedState:null}else u=Kn.next;var f=Fn===null?cn.memoizedState:Fn.next;if(f!==null)Fn=f,Kn=u;else{if(u===null)throw Error(o(310));Kn=u,u={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},Fn===null?cn.memoizedState=Fn=u:Fn=Fn.next=u}return Fn}function ua(u,f){return typeof f=="function"?f(u):f}function yh(u){var f=Kr(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var A=Kn,C=A.baseQueue,T=g.pending;if(T!==null){if(C!==null){var k=C.next;C.next=T.next,T.next=k}A.baseQueue=C=T,g.pending=null}if(C!==null){T=C.next,A=A.baseState;var X=k=null,fe=null,Ee=T;do{var He=Ee.lane;if((bl&He)===He)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),A=Ee.hasEagerState?Ee.eagerState:u(A,Ee.action);else{var st={lane:He,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(X=fe=st,k=A):fe=fe.next=st,cn.lanes|=He,Bl|=He}Ee=Ee.next}while(Ee!==null&&Ee!==T);fe===null?k=A:fe.next=X,Wr(A,f.memoizedState)||(Ii=!0),f.memoizedState=A,f.baseState=k,f.baseQueue=fe,g.lastRenderedState=A}if(u=g.interleaved,u!==null){C=u;do T=C.lane,cn.lanes|=T,Bl|=T,C=C.next;while(C!==u)}else C===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function vh(u){var f=Kr(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var A=g.dispatch,C=g.pending,T=f.memoizedState;if(C!==null){g.pending=null;var k=C=C.next;do T=u(T,k.action),k=k.next;while(k!==C);Wr(T,f.memoizedState)||(Ii=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),g.lastRenderedState=T}return[T,A]}function aM(){}function lM(u,f){var g=cn,A=Kr(),C=f(),T=!Wr(A.memoizedState,C);if(T&&(A.memoizedState=C,Ii=!0),A=A.queue,yc(fM.bind(null,g,A,u),[u]),A.getSnapshot!==f||T||Fn!==null&&Fn.memoizedState.tag&1){if(g.flags|=2048,gc(9,cM.bind(null,g,A,C,f),void 0,null),_n===null)throw Error(o(349));bl&30||uM(g,f,C)}return C}function uM(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=cn.updateQueue,f===null?(f={lastEffect:null,stores:null},cn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function cM(u,f,g,A){f.value=g,f.getSnapshot=A,dM(f)&&nr(u,1,-1)}function fM(u,f,g){return g(function(){dM(f)&&nr(u,1,-1)})}function dM(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Wr(u,g)}catch{return!0}}function H0(u){var f=_s();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:u},f.queue=u,u=u.dispatch=HI.bind(null,cn,u),[f.memoizedState,u]}function gc(u,f,g,A){return u={tag:u,create:f,destroy:g,deps:A,next:null},f=cn.updateQueue,f===null?(f={lastEffect:null,stores:null},cn.updateQueue=f,f.lastEffect=u.next=u):(g=f.lastEffect,g===null?f.lastEffect=u.next=u:(A=g.next,g.next=u,u.next=A,f.lastEffect=u)),u}function hM(){return Kr().memoizedState}function xh(u,f,g,A){var C=_s();cn.flags|=u,C.memoizedState=gc(1|f,g,void 0,A===void 0?null:A)}function _h(u,f,g,A){var C=Kr();A=A===void 0?null:A;var T=void 0;if(Kn!==null){var k=Kn.memoizedState;if(T=k.destroy,A!==null&&U0(A,k.deps)){C.memoizedState=gc(f,g,T,A);return}}cn.flags|=u,C.memoizedState=gc(1|f,g,T,A)}function V0(u,f){return xh(8390656,8,u,f)}function yc(u,f){return _h(2048,8,u,f)}function pM(u,f){return _h(4,2,u,f)}function mM(u,f){return _h(4,4,u,f)}function gM(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function yM(u,f,g){return g=g!=null?g.concat([u]):null,_h(4,4,gM.bind(null,f,u),g)}function W0(){}function vM(u,f){var g=Kr();f=f===void 0?null:f;var A=g.memoizedState;return A!==null&&f!==null&&U0(f,A[1])?A[0]:(g.memoizedState=[u,f],u)}function xM(u,f){var g=Kr();f=f===void 0?null:f;var A=g.memoizedState;return A!==null&&f!==null&&U0(f,A[1])?A[0]:(u=u(),g.memoizedState=[u,f],u)}function zI(u,f){var g=Bt;Bt=g!==0&&4>g?g:4,u(!0);var A=tr.transition;tr.transition={};try{u(!1),f()}finally{Bt=g,tr.transition=A}}function _M(){return Kr().memoizedState}function GI(u,f,g){var A=so(u);g={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null},AM(u)?SM(f,g):(MM(u,f,g),g=ai(),u=nr(u,A,g),u!==null&&wM(u,f,A))}function HI(u,f,g){var A=so(u),C={lane:A,action:g,hasEagerState:!1,eagerState:null,next:null};if(AM(u))SM(f,C);else{MM(u,f,C);var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var k=f.lastRenderedState,X=T(k,g);if(C.hasEagerState=!0,C.eagerState=X,Wr(X,k))return}catch{}finally{}g=ai(),u=nr(u,A,g),u!==null&&wM(u,f,A)}}function AM(u){var f=u.alternate;return u===cn||f!==null&&f===cn}function SM(u,f){pc=gh=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function MM(u,f,g){_n!==null&&u.mode&1&&!(mt&2)?(u=f.interleaved,u===null?(g.next=g,Jr===null?Jr=[f]:Jr.push(f)):(g.next=u.next,u.next=g),f.interleaved=g):(u=f.pending,u===null?g.next=g:(g.next=u.next,u.next=g),f.pending=g)}function wM(u,f,g){if(g&4194240){var A=f.lanes;A&=u.pendingLanes,g|=A,f.lanes=g,v0(u,g)}}var Ah={readContext:Zi,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},VI={readContext:Zi,useCallback:function(u,f){return _s().memoizedState=[u,f===void 0?null:f],u},useContext:Zi,useEffect:V0,useImperativeHandle:function(u,f,g){return g=g!=null?g.concat([u]):null,xh(4194308,4,gM.bind(null,f,u),g)},useLayoutEffect:function(u,f){return xh(4194308,4,u,f)},useInsertionEffect:function(u,f){return xh(4,2,u,f)},useMemo:function(u,f){var g=_s();return f=f===void 0?null:f,u=u(),g.memoizedState=[u,f],u},useReducer:function(u,f,g){var A=_s();return f=g!==void 0?g(f):f,A.memoizedState=A.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},A.queue=u,u=u.dispatch=GI.bind(null,cn,u),[A.memoizedState,u]},useRef:function(u){var f=_s();return u={current:u},f.memoizedState=u},useState:H0,useDebugValue:W0,useDeferredValue:function(u){var f=H0(u),g=f[0],A=f[1];return V0(function(){var C=tr.transition;tr.transition={};try{A(u)}finally{tr.transition=C}},[u]),g},useTransition:function(){var u=H0(!1),f=u[0];return u=zI.bind(null,u[1]),_s().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,g){var A=cn,C=_s();if(Jt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),_n===null)throw Error(o(349));bl&30||uM(A,f,g)}C.memoizedState=g;var T={value:g,getSnapshot:f};return C.queue=T,V0(fM.bind(null,A,T,u),[u]),A.flags|=2048,gc(9,cM.bind(null,A,T,g,f),void 0,null),g},useId:function(){var u=_s(),f=_n.identifierPrefix;if(Jt){var g=xs,A=vs;g=(A&~(1<<32-xr(A)-1)).toString(32)+g,f=":"+f+"R"+g,g=mc++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=UI++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},WI={readContext:Zi,useCallback:vM,useContext:Zi,useEffect:yc,useImperativeHandle:yM,useInsertionEffect:pM,useLayoutEffect:mM,useMemo:xM,useReducer:yh,useRef:hM,useState:function(){return yh(ua)},useDebugValue:W0,useDeferredValue:function(u){var f=yh(ua),g=f[0],A=f[1];return yc(function(){var C=tr.transition;tr.transition={};try{A(u)}finally{tr.transition=C}},[u]),g},useTransition:function(){var u=yh(ua)[0],f=Kr().memoizedState;return[u,f]},useMutableSource:aM,useSyncExternalStore:lM,useId:_M,unstable_isNewReconciler:!1},jI={readContext:Zi,useCallback:vM,useContext:Zi,useEffect:yc,useImperativeHandle:yM,useInsertionEffect:pM,useLayoutEffect:mM,useMemo:xM,useReducer:vh,useRef:hM,useState:function(){return vh(ua)},useDebugValue:W0,useDeferredValue:function(u){var f=vh(ua),g=f[0],A=f[1];return yc(function(){var C=tr.transition;tr.transition={};try{A(u)}finally{tr.transition=C}},[u]),g},useTransition:function(){var u=vh(ua)[0],f=Kr().memoizedState;return[u,f]},useMutableSource:aM,useSyncExternalStore:lM,useId:_M,unstable_isNewReconciler:!1};function j0(u,f){try{var g="",A=f;do g+=NI(A),A=A.return;while(A);var C=g}catch(T){C=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:f,stack:C}}function J0(u,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var JI=typeof WeakMap=="function"?WeakMap:Map;function CM(u,f,g){g=ys(-1,g),g.tag=3,g.payload={element:null};var A=f.value;return g.callback=function(){kh||(kh=!0,cy=A),J0(u,f)},g}function EM(u,f,g){g=ys(-1,g),g.tag=3;var A=u.type.getDerivedStateFromError;if(typeof A=="function"){var C=f.value;g.payload=function(){return A(C)},g.callback=function(){J0(u,f)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){J0(u,f),typeof A!="function"&&(io===null?io=new Set([this]):io.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})}),g}function TM(u,f,g){var A=u.pingCache;if(A===null){A=u.pingCache=new JI;var C=new Set;A.set(f,C)}else C=A.get(f),C===void 0&&(C=new Set,A.set(f,C));C.has(g)||(C.add(g),u=oD.bind(null,u,f,g),f.then(u,u))}function bM(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function PM(u,f,g,A,C){return u.mode&1?(u.flags|=65536,u.lanes=C,u):(u===f?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=ys(-1,1),f.tag=2,no(g,f))),g.lanes|=1),u)}function Yr(u){u.flags|=4}function BM(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var vc,xc,Sh,Mh;if(Le)vc=function(u,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)W(u,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},xc=function(){},Sh=function(u,f,g,A,C){if(u=u.memoizedProps,u!==A){var T=f.stateNode,k=Xr(er.current);g=ye(T,g,u,A,C,k),(f.updateQueue=g)&&Yr(f)}},Mh=function(u,f,g,A){g!==A&&Yr(f)};else if(de){vc=function(u,f,g,A){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&A&&(T=kt(T,C.type,C.memoizedProps,C)),W(u,T)}else if(C.tag===6)T=C.stateNode,g&&A&&(T=Xi(T,C.memoizedProps,C)),W(u,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),vc(u,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var RM=function(u,f,g,A){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&A&&(T=kt(T,C.type,C.memoizedProps,C)),mn(u,T)}else if(C.tag===6)T=C.stateNode,g&&A&&(T=Xi(T,C.memoizedProps,C)),mn(u,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),RM(u,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};xc=function(u,f){var g=f.stateNode;if(!BM(u,f)){u=g.containerInfo;var A=Tt(u);RM(A,f,!1,!1),g.pendingChildren=A,Yr(f),Ln(u,A)}},Sh=function(u,f,g,A,C){var T=u.stateNode,k=u.memoizedProps;if((u=BM(u,f))&&k===A)f.stateNode=T;else{var X=f.stateNode,fe=Xr(er.current),Ee=null;k!==A&&(Ee=ye(X,g,k,A,C,fe)),u&&Ee===null?f.stateNode=T:(T=Ke(T,Ee,g,k,A,f,u,X),ce(T,g,A,C,fe)&&Yr(f),f.stateNode=T,u?Yr(f):vc(T,f,!1,!1))}},Mh=function(u,f,g,A){g!==A?(u=Xr(El.current),g=Xr(er.current),f.stateNode=$(A,u,g,f),Yr(f)):f.stateNode=u.stateNode}}else xc=function(){},Sh=function(){},Mh=function(){};function _c(u,f){if(!Jt)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function Qn(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,A=0;if(f)for(var C=u.child;C!==null;)g|=C.lanes|C.childLanes,A|=C.subtreeFlags&14680064,A|=C.flags&14680064,C.return=u,C=C.sibling;else for(C=u.child;C!==null;)g|=C.lanes|C.childLanes,A|=C.subtreeFlags,A|=C.flags,C.return=u,C=C.sibling;return u.subtreeFlags|=A,u.childLanes=g,f}function XI(u,f,g){var A=f.pendingProps;switch(R0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(f),null;case 1:return xi(f.type)&&qd(),Qn(f),null;case 3:return A=f.stateNode,Tl(),ut(In),ut(Dt),N0(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(u===null||u.child===null)&&(cc(f)?Yr(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ar!==null&&(hy(Ar),Ar=null))),xc(u,f),Qn(f),null;case 5:O0(f),g=Xr(El.current);var C=f.type;if(u!==null&&f.stateNode!=null)Sh(u,f,C,A,g),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!A){if(f.stateNode===null)throw Error(o(166));return Qn(f),null}if(u=Xr(er.current),cc(f)){if(!re)throw Error(o(175));u=Ze(f.stateNode,f.type,f.memoizedProps,g,u,f,!uc),f.updateQueue=u,u!==null&&Yr(f)}else{var T=ae(C,A,g,u,f);vc(T,f,!1,!1),f.stateNode=T,ce(T,C,A,g,u)&&Yr(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Qn(f),null;case 6:if(u&&f.stateNode!=null)Mh(u,f,u.memoizedProps,A);else{if(typeof A!="string"&&f.stateNode===null)throw Error(o(166));if(u=Xr(El.current),g=Xr(er.current),cc(f)){if(!re)throw Error(o(176));if(u=f.stateNode,A=f.memoizedProps,(g=it(u,A,f,!uc))&&(C=Ri,C!==null))switch(T=(C.mode&1)!==0,C.tag){case 3:vr(C.stateNode.containerInfo,u,A,T);break;case 5:ds(C.type,C.memoizedProps,C.stateNode,u,A,T)}g&&Yr(f)}else f.stateNode=$(A,u,g,f)}return Qn(f),null;case 13:if(ut(Zt),A=f.memoizedState,Jt&&Li!==null&&f.mode&1&&!(f.flags&128)){for(u=Li;u;)u=ee(u);return wl(),f.flags|=98560,f}if(A!==null&&A.dehydrated!==null){if(A=cc(f),u===null){if(!A)throw Error(o(318));if(!re)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ct(u,f)}else wl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Qn(f),null}return Ar!==null&&(hy(Ar),Ar=null),f.flags&128?(f.lanes=g,f):(A=A!==null,g=!1,u===null?cc(f):g=u.memoizedState!==null,A&&!g&&(f.child.flags|=8192,f.mode&1&&(u===null||Zt.current&1?En===0&&(En=3):my())),f.updateQueue!==null&&(f.flags|=4),Qn(f),null);case 4:return Tl(),xc(u,f),u===null&&Ue(f.stateNode.containerInfo),Qn(f),null;case 10:return C0(f.type._context),Qn(f),null;case 17:return xi(f.type)&&qd(),Qn(f),null;case 19:if(ut(Zt),C=f.memoizedState,C===null)return Qn(f),null;if(A=(f.flags&128)!==0,T=C.rendering,T===null)if(A)_c(C,!1);else{if(En!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(T=ph(u),T!==null){for(f.flags|=128,_c(C,!1),u=T.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=g,A=f.child;A!==null;)g=A,C=u,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=C,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,C=T.dependencies,g.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),A=A.sibling;return Ct(Zt,Zt.current&1|2),f.child}u=u.sibling}C.tail!==null&&Dn()>uy&&(f.flags|=128,A=!0,_c(C,!1),f.lanes=4194304)}else{if(!A)if(u=ph(T),u!==null){if(f.flags|=128,A=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),_c(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!Jt)return Qn(f),null}else 2*Dn()-C.renderingStartTime>uy&&g!==1073741824&&(f.flags|=128,A=!0,_c(C,!1),f.lanes=4194304);C.isBackwards?(T.sibling=f.child,f.child=T):(u=C.last,u!==null?u.sibling=T:f.child=T,C.last=T)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=Dn(),f.sibling=null,u=Zt.current,Ct(Zt,A?u&1|2:u&1),f):(Qn(f),null);case 22:case 23:return py(),A=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==A&&(f.flags|=8192),A&&f.mode&1?Di&1073741824&&(Qn(f),Le&&f.subtreeFlags&6&&(f.flags|=8192)):Qn(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var KI=a.ReactCurrentOwner,Ii=!1;function oi(u,f,g,A){f.child=u===null?sM(f,null,g,A):Cl(f,u.child,g,A)}function LM(u,f,g,A,C){g=g.render;var T=f.ref;return Al(f,C),A=z0(u,f,g,A,T,C),g=G0(),u!==null&&!Ii?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~C,As(u,f,C)):(Jt&&g&&B0(f),f.flags|=1,oi(u,f,A,C),f.child)}function IM(u,f,g,A,C){if(u===null){var T=g.type;return typeof T=="function"&&!gy(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=T,DM(u,f,T,A,C)):(u=Wh(g.type,null,A,f,f.mode,C),u.ref=f.ref,u.return=f,f.child=u)}if(T=u.child,!(u.lanes&C)){var k=T.memoizedProps;if(g=g.compare,g=g!==null?g:sh,g(k,A)&&u.ref===f.ref)return As(u,f,C)}return f.flags|=1,u=ao(T,A),u.ref=f.ref,u.return=f,f.child=u}function DM(u,f,g,A,C){if(u!==null&&sh(u.memoizedProps,A)&&u.ref===f.ref)if(Ii=!1,(u.lanes&C)!==0)u.flags&131072&&(Ii=!0);else return f.lanes=u.lanes,As(u,f,C);return X0(u,f,g,A,C)}function FM(u,f,g){var A=f.pendingProps,C=A.children,T=u!==null?u.memoizedState:null;if(A.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Ct(Pl,Di),Di|=g;else if(g&1073741824)f.memoizedState={baseLanes:0,cachePool:null},A=T!==null?T.baseLanes:g,Ct(Pl,Di),Di|=A;else return u=T!==null?T.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,Ct(Pl,Di),Di|=u,null;else T!==null?(A=T.baseLanes|g,f.memoizedState=null):A=g,Ct(Pl,Di),Di|=A;return oi(u,f,C,g),f.child}function OM(u,f){var g=f.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function X0(u,f,g,A,C){var T=xi(g)?ps:Dt.current;return T=ms(f,T),Al(f,C),g=z0(u,f,g,A,T,C),A=G0(),u!==null&&!Ii?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~C,As(u,f,C)):(Jt&&A&&B0(f),f.flags|=1,oi(u,f,g,C),f.child)}function kM(u,f,g,A,C){if(xi(g)){var T=!0;$d(f)}else T=!1;if(Al(f,C),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),ZS(f,g,A),P0(f,g,A,C),A=!0;else if(u===null){var k=f.stateNode,X=f.memoizedProps;k.props=X;var fe=k.context,Ee=g.contextType;typeof Ee=="object"&&Ee!==null?Ee=Zi(Ee):(Ee=xi(g)?ps:Dt.current,Ee=ms(f,Ee));var He=g.getDerivedStateFromProps,st=typeof He=="function"||typeof k.getSnapshotBeforeUpdate=="function";st||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==A||fe!==Ee)&&qS(f,k,A,Ee),to=!1;var $e=f.memoizedState;k.state=$e,uh(f,A,k,C),fe=f.memoizedState,X!==A||$e!==fe||In.current||to?(typeof He=="function"&&(b0(f,g,He,A),fe=f.memoizedState),(X=to||QS(f,g,X,A,$e,fe,Ee))?(st||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=A,f.memoizedState=fe),k.props=A,k.state=fe,k.context=Ee,A=X):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),A=!1)}else{k=f.stateNode,JS(u,f),X=f.memoizedProps,Ee=f.type===f.elementType?X:_r(f.type,X),k.props=Ee,st=f.pendingProps,$e=k.context,fe=g.contextType,typeof fe=="object"&&fe!==null?fe=Zi(fe):(fe=xi(g)?ps:Dt.current,fe=ms(f,fe));var Nt=g.getDerivedStateFromProps;(He=typeof Nt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==st||$e!==fe)&&qS(f,k,A,fe),to=!1,$e=f.memoizedState,k.state=$e,uh(f,A,k,C);var Ye=f.memoizedState;X!==st||$e!==Ye||In.current||to?(typeof Nt=="function"&&(b0(f,g,Nt,A),Ye=f.memoizedState),(Ee=to||QS(f,g,Ee,A,$e,Ye,fe)||!1)?(He||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(A,Ye,fe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(A,Ye,fe)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||X===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),f.memoizedProps=A,f.memoizedState=Ye),k.props=A,k.state=Ye,k.context=fe,A=Ee):(typeof k.componentDidUpdate!="function"||X===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),A=!1)}return K0(u,f,g,A,T,C)}function K0(u,f,g,A,C,T){OM(u,f);var k=(f.flags&128)!==0;if(!A&&!k)return C&&GS(f,g,!1),As(u,f,T);A=f.stateNode,KI.current=f;var X=k&&typeof g.getDerivedStateFromError!="function"?null:A.render();return f.flags|=1,u!==null&&k?(f.child=Cl(f,u.child,null,T),f.child=Cl(f,null,X,T)):oi(u,f,X,T),f.memoizedState=A.state,C&&GS(f,g,!0),f.child}function NM(u){var f=u.stateNode;f.pendingContext?US(u,f.pendingContext,f.pendingContext!==f.context):f.context&&US(u,f.context,!1),F0(u,f.containerInfo)}function UM(u,f,g,A,C){return wl(),D0(C),f.flags|=256,oi(u,f,g,A),f.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function Ch(u){return{baseLanes:u,cachePool:null}}function zM(u,f,g){var A=f.pendingProps,C=Zt.current,T=!1,k=(f.flags&128)!==0,X;if((X=k)||(X=u!==null&&u.memoizedState===null?!1:(C&2)!==0),X?(T=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(C|=1),Ct(Zt,C&1),u===null)return I0(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?oc(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(C=A.children,u=A.fallback,T?(A=f.mode,T=f.child,C={mode:"hidden",children:C},!(A&1)&&T!==null?(T.childLanes=0,T.pendingProps=C):T=jh(C,A,0,null),u=ma(u,A,g,null),T.return=f,u.return=f,T.sibling=u,f.child=T,f.child.memoizedState=Ch(g),f.memoizedState=wh,u):Y0(f,C));if(C=u.memoizedState,C!==null){if(X=C.dehydrated,X!==null){if(k)return f.flags&256?(f.flags&=-257,Eh(u,f,g,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(T=A.fallback,C=f.mode,A=jh({mode:"visible",children:A.children},C,0,null),T=ma(T,C,g,null),T.flags|=2,A.return=f,T.return=f,A.sibling=T,f.child=A,f.mode&1&&Cl(f,u.child,null,g),f.child.memoizedState=Ch(g),f.memoizedState=wh,T);if(!(f.mode&1))f=Eh(u,f,g,null);else if(oc(X))f=Eh(u,f,g,Error(o(419)));else if(A=(g&u.childLanes)!==0,Ii||A){if(A=_n,A!==null){switch(g&-g){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}A=T&(A.suspendedLanes|g)?0:T,A!==0&&A!==C.retryLane&&(C.retryLane=A,nr(u,A,-1))}my(),f=Eh(u,f,g,Error(o(421)))}else Zd(X)?(f.flags|=128,f.child=u.child,f=aD.bind(null,u),F(X,f),f=null):(g=C.treeContext,re&&(Li=ge(X),Ri=f,Jt=!0,Ar=null,uc=!1,g!==null&&(qi[$i++]=vs,qi[$i++]=xs,qi[$i++]=aa,vs=g.id,xs=g.overflow,aa=f)),f=Y0(f,f.pendingProps.children),f.flags|=4096);return f}return T?(A=HM(u,f,A.children,A.fallback,g),T=f.child,C=u.child.memoizedState,T.memoizedState=C===null?Ch(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,f.memoizedState=wh,A):(g=GM(u,f,A.children,g),f.memoizedState=null,g)}return T?(A=HM(u,f,A.children,A.fallback,g),T=f.child,C=u.child.memoizedState,T.memoizedState=C===null?Ch(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,f.memoizedState=wh,A):(g=GM(u,f,A.children,g),f.memoizedState=null,g)}function Y0(u,f){return f=jh({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function GM(u,f,g,A){var C=u.child;return u=C.sibling,g=ao(C,{mode:"visible",children:g}),!(f.mode&1)&&(g.lanes=A),g.return=f,g.sibling=null,u!==null&&(A=f.deletions,A===null?(f.deletions=[u],f.flags|=16):A.push(u)),f.child=g}function HM(u,f,g,A,C){var T=f.mode;u=u.child;var k=u.sibling,X={mode:"hidden",children:g};return!(T&1)&&f.child!==u?(g=f.child,g.childLanes=0,g.pendingProps=X,f.deletions=null):(g=ao(u,X),g.subtreeFlags=u.subtreeFlags&14680064),k!==null?A=ao(k,A):(A=ma(A,T,C,null),A.flags|=2),A.return=f,g.return=f,g.sibling=A,f.child=g,A}function Eh(u,f,g,A){return A!==null&&D0(A),Cl(f,u.child,null,g),u=Y0(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function VM(u,f,g){u.lanes|=f;var A=u.alternate;A!==null&&(A.lanes|=f),E0(u.return,f,g)}function Q0(u,f,g,A,C){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:A,tail:g,tailMode:C}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=A,T.tail=g,T.tailMode=C)}function WM(u,f,g){var A=f.pendingProps,C=A.revealOrder,T=A.tail;if(oi(u,f,A.children,g),A=Zt.current,A&2)A=A&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&VM(u,g,f);else if(u.tag===19)VM(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}if(Ct(Zt,A),!(f.mode&1))f.memoizedState=null;else switch(C){case"forwards":for(g=f.child,C=null;g!==null;)u=g.alternate,u!==null&&ph(u)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),Q0(f,!1,C,g,T);break;case"backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(u=C.alternate,u!==null&&ph(u)===null){f.child=C;break}u=C.sibling,C.sibling=g,g=C,C=u}Q0(f,!0,g,null,T);break;case"together":Q0(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function As(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Bl|=f.lanes,!(g&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,g=ao(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=ao(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function YI(u,f,g){switch(f.tag){case 3:NM(f),wl();break;case 5:oM(f);break;case 1:xi(f.type)&&$d(f);break;case 4:F0(f,f.stateNode.containerInfo);break;case 10:jS(f,f.type._context,f.memoizedProps.value);break;case 13:var A=f.memoizedState;if(A!==null)return A.dehydrated!==null?(Ct(Zt,Zt.current&1),f.flags|=128,null):g&f.child.childLanes?zM(u,f,g):(Ct(Zt,Zt.current&1),u=As(u,f,g),u!==null?u.sibling:null);Ct(Zt,Zt.current&1);break;case 19:if(A=(g&f.childLanes)!==0,u.flags&128){if(A)return WM(u,f,g);f.flags|=128}var C=f.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ct(Zt,Zt.current),A)break;return null;case 22:case 23:return f.lanes=0,FM(u,f,g)}return As(u,f,g)}function QI(u,f){switch(R0(f),f.tag){case 1:return xi(f.type)&&qd(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Tl(),ut(In),ut(Dt),N0(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return O0(f),null;case 13:if(ut(Zt),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));wl()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return ut(Zt),null;case 4:return Tl(),null;case 10:return C0(f.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var Th=!1,ca=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,De=null;function bh(u,f){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(A){Si(u,f,A)}else g.current=null}function Z0(u,f,g){try{g()}catch(A){Si(u,f,A)}}var jM=!1;function qI(u,f){for(V(u.containerInfo),De=f;De!==null;)if(u=De,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,De=f;else for(;De!==null;){u=De;try{var g=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,C=g.memoizedState,T=u.stateNode,k=T.getSnapshotBeforeUpdate(u.elementType===u.type?A:_r(u.type,A),C);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:Le&&Ne(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(X){Si(u,u.return,X)}if(f=u.sibling,f!==null){f.return=u.return,De=f;break}De=u.return}return g=jM,jM=!1,g}function fa(u,f,g){var A=f.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var C=A=A.next;do{if((C.tag&u)===u){var T=C.destroy;C.destroy=void 0,T!==void 0&&Z0(f,g,T)}C=C.next}while(C!==A)}}function Ac(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&u)===u){var A=g.create;g.destroy=A()}g=g.next}while(g!==f)}}function q0(u){var f=u.ref;if(f!==null){var g=u.stateNode;switch(u.tag){case 5:u=te(g);break;default:u=g}typeof f=="function"?f(u):f.current=u}}function JM(u,f,g){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(ih,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var A=u=u.next;do{var C=A,T=C.destroy;C=C.tag,T!==void 0&&(C&2||C&4)&&Z0(f,g,T),A=A.next}while(A!==u)}break;case 1:if(bh(f,g),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(k){Si(f,g,k)}break;case 5:bh(f,g);break;case 4:Le?qM(u,f,g):de&&de&&(f=f.stateNode.containerInfo,g=Tt(f),Hr(f,g))}}function XM(u,f,g){for(var A=f;;)if(JM(u,A,g),A.child===null||Le&&A.tag===4){if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function KM(u){var f=u.alternate;f!==null&&(u.alternate=null,KM(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Qe(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function YM(u){return u.tag===5||u.tag===3||u.tag===4}function QM(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||YM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function ZM(u){if(Le){e:{for(var f=u.return;f!==null;){if(YM(f))break e;f=f.return}throw Error(o(160))}var g=f;switch(g.tag){case 5:f=g.stateNode,g.flags&32&&(gt(f),g.flags&=-33),g=QM(u),ey(u,g,f);break;case 3:case 4:f=g.stateNode.containerInfo,g=QM(u),$0(u,g,f);break;default:throw Error(o(161))}}}function $0(u,f,g){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?_e(g,u,f):Ie(g,u);else if(A!==4&&(u=u.child,u!==null))for($0(u,f,g),u=u.sibling;u!==null;)$0(u,f,g),u=u.sibling}function ey(u,f,g){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?se(g,u,f):tt(g,u);else if(A!==4&&(u=u.child,u!==null))for(ey(u,f,g),u=u.sibling;u!==null;)ey(u,f,g),u=u.sibling}function qM(u,f,g){for(var A=f,C=!1,T,k;;){if(!C){C=A.return;e:for(;;){if(C===null)throw Error(o(160));switch(T=C.stateNode,C.tag){case 5:k=!1;break e;case 3:T=T.containerInfo,k=!0;break e;case 4:T=T.containerInfo,k=!0;break e}C=C.return}C=!0}if(A.tag===5||A.tag===6)XM(u,A,g),k?qe(T,A.stateNode):Te(T,A.stateNode);else if(A.tag===18)k?ln(T,A.stateNode):_t(T,A.stateNode);else if(A.tag===4){if(A.child!==null){T=A.stateNode.containerInfo,k=!0,A.child.return=A,A=A.child;continue}}else if(JM(u,A,g),A.child!==null){A.child.return=A,A=A.child;continue}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return,A.tag===4&&(C=!1)}A.sibling.return=A.return,A=A.sibling}}function ty(u,f){if(Le){switch(f.tag){case 0:case 11:case 14:case 15:fa(3,f,f.return),Ac(3,f),fa(5,f,f.return);return;case 1:return;case 5:var g=f.stateNode;if(g!=null){var A=f.memoizedProps;u=u!==null?u.memoizedProps:A;var C=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&z(g,T,C,u,A,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));g=f.memoizedProps,me(f.stateNode,u!==null?u.memoizedProps:g,g);return;case 3:re&&u!==null&&u.memoizedState.isDehydrated&&Mt(f.stateNode.containerInfo);return;case 12:return;case 13:Ph(f);return;case 19:Ph(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:fa(3,f,f.return),Ac(3,f),fa(5,f,f.return);return;case 12:return;case 13:Ph(f);return;case 19:Ph(f);return;case 3:re&&u!==null&&u.memoizedState.isDehydrated&&Mt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Hr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Ph(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new ZI),f.forEach(function(A){var C=lD.bind(null,u,A);g.has(A)||(g.add(A),A.then(C,C))})}}function $I(u,f){for(De=f;De!==null;){f=De;var g=f.deletions;if(g!==null)for(var A=0;A<g.length;A++){var C=g[A];try{var T=u;Le?qM(T,C,f):XM(T,C,f);var k=C.alternate;k!==null&&(k.return=null),C.return=null}catch(Xe){Si(C,f,Xe)}}if(g=f.child,f.subtreeFlags&12854&&g!==null)g.return=f,De=g;else for(;De!==null;){f=De;try{var X=f.flags;if(X&32&&Le&&gt(f.stateNode),X&512){var fe=f.alternate;if(fe!==null){var Ee=fe.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(X&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var He=f.alternate;(He===null||He.memoizedState===null)&&(ly=Dn())}break;case 22:var st=f.memoizedState!==null,$e=f.alternate,Nt=$e!==null&&$e.memoizedState!==null;if(g=f,Le){e:if(A=g,C=st,T=null,Le)for(var Ye=A;;){if(Ye.tag===5){if(T===null){T=Ye;var Zn=Ye.stateNode;C?Ht(Zn):ue(Ye.stateNode,Ye.memoizedProps)}}else if(Ye.tag===6){if(T===null){var rr=Ye.stateNode;C?K(rr):ve(rr,Ye.memoizedProps)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===A)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===A)break;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===A)break e;T===Ye&&(T=null),Ye=Ye.return}T===Ye&&(T=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}if(st&&!Nt&&g.mode&1){De=g;for(var ne=g.child;ne!==null;){for(g=De=ne;De!==null;){A=De;var Q=A.child;switch(A.tag){case 0:case 11:case 14:case 15:fa(4,A,A.return);break;case 1:bh(A,A.return);var oe=A.stateNode;if(typeof oe.componentWillUnmount=="function"){var Fe=A.return;try{oe.props=A.memoizedProps,oe.state=A.memoizedState,oe.componentWillUnmount()}catch(Xe){Si(A,Fe,Xe)}}break;case 5:bh(A,A.return);break;case 22:if(A.memoizedState!==null){tw(g);continue}}Q!==null?(Q.return=A,De=Q):tw(g)}ne=ne.sibling}}}switch(X&4102){case 2:ZM(f),f.flags&=-3;break;case 6:ZM(f),f.flags&=-3,ty(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,ty(f.alternate,f);break;case 4:ty(f.alternate,f)}}catch(Xe){Si(f,f.return,Xe)}if(g=f.sibling,g!==null){g.return=f.return,De=g;break}De=f.return}}}function eD(u,f,g){De=u,$M(u)}function $M(u,f,g){for(var A=(u.mode&1)!==0;De!==null;){var C=De,T=C.child;if(C.tag===22&&A){var k=C.memoizedState!==null||Th;if(!k){var X=C.alternate,fe=X!==null&&X.memoizedState!==null||ca;X=Th;var Ee=ca;if(Th=k,(ca=fe)&&!Ee)for(De=C;De!==null;)k=De,fe=k.child,k.tag===22&&k.memoizedState!==null?nw(C):fe!==null?(fe.return=k,De=fe):nw(C);for(;T!==null;)De=T,$M(T),T=T.sibling;De=C,Th=X,ca=Ee}ew(u)}else C.subtreeFlags&8772&&T!==null?(T.return=C,De=T):ew(u)}}function ew(u){for(;De!==null;){var f=De;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ca||Ac(5,f);break;case 1:var A=f.stateNode;if(f.flags&4&&!ca)if(g===null)A.componentDidMount();else{var C=f.elementType===f.type?g.memoizedProps:_r(f.type,g.memoizedProps);A.componentDidUpdate(C,g.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&KS(f,T,A);break;case 3:var k=f.updateQueue;if(k!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=te(f.child.stateNode);break;case 1:g=f.child.stateNode}KS(f,k,g)}break;case 5:var X=f.stateNode;g===null&&f.flags&4&&Je(X,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(re&&f.memoizedState===null){var fe=f.alternate;if(fe!==null){var Ee=fe.memoizedState;if(Ee!==null){var He=Ee.dehydrated;He!==null&&xt(He)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ca||f.flags&512&&q0(f)}catch(st){Si(f,f.return,st)}}if(f===u){De=null;break}if(g=f.sibling,g!==null){g.return=f.return,De=g;break}De=f.return}}function tw(u){for(;De!==null;){var f=De;if(f===u){De=null;break}var g=f.sibling;if(g!==null){g.return=f.return,De=g;break}De=f.return}}function nw(u){for(;De!==null;){var f=De;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Ac(4,f)}catch(fe){Si(f,g,fe)}break;case 1:var A=f.stateNode;if(typeof A.componentDidMount=="function"){var C=f.return;try{A.componentDidMount()}catch(fe){Si(f,C,fe)}}var T=f.return;try{q0(f)}catch(fe){Si(f,T,fe)}break;case 5:var k=f.return;try{q0(f)}catch(fe){Si(f,k,fe)}}}catch(fe){Si(f,f.return,fe)}if(f===u){De=null;break}var X=f.sibling;if(X!==null){X.return=f.return,De=X;break}De=f.return}}var Bh=0,Rh=1,Lh=2,Ih=3,Dh=4;if(typeof Symbol=="function"&&Symbol.for){var Sc=Symbol.for;Bh=Sc("selector.component"),Rh=Sc("selector.has_pseudo_class"),Lh=Sc("selector.role"),Ih=Sc("selector.test_id"),Dh=Sc("selector.text")}function ny(u){var f=we(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=St(u),u===null)throw Error(o(362));return u.stateNode.current}function iy(u,f){switch(f.$$typeof){case Bh:if(u.type===f.value)return!0;break;case Rh:e:{f=f.value,u=[u,0];for(var g=0;g<u.length;){var A=u[g++],C=u[g++],T=f[C];if(A.tag!==5||!ie(A)){for(;T!=null&&iy(A,T);)C++,T=f[C];if(C===f.length){f=!0;break e}else for(A=A.child;A!==null;)u.push(A,C),A=A.sibling}}f=!1}return f;case Lh:if(u.tag===5&&Se(u.stateNode,f.value))return!0;break;case Dh:if((u.tag===5||u.tag===6)&&(u=I(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Ih:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ry(u){switch(u.$$typeof){case Bh:return"<"+(R(u.value)||"Unknown")+">";case Rh:return":has("+(ry(u)||"")+")";case Lh:return'[role="'+u.value+'"]';case Dh:return'"'+u.value+'"';case Ih:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function iw(u,f){var g=[];u=[u,0];for(var A=0;A<u.length;){var C=u[A++],T=u[A++],k=f[T];if(C.tag!==5||!ie(C)){for(;k!=null&&iy(C,k);)T++,k=f[T];if(T===f.length)g.push(C);else for(C=C.child;C!==null;)u.push(C,T),C=C.sibling}}return g}function sy(u,f){if(!yt)throw Error(o(363));u=ny(u),u=iw(u,f),f=[],u=Array.from(u);for(var g=0;g<u.length;){var A=u[g++];if(A.tag===5)ie(A)||f.push(A.stateNode);else for(A=A.child;A!==null;)u.push(A),A=A.sibling}return f}var tD=Math.ceil,Fh=a.ReactCurrentDispatcher,oy=a.ReactCurrentOwner,gn=a.ReactCurrentBatchConfig,mt=0,_n=null,An=null,Hn=0,Di=0,Pl=Yi(0),En=0,Mc=null,Bl=0,Oh=0,ay=0,wc=null,_i=null,ly=0,uy=1/0;function Rl(){uy=Dn()+500}var kh=!1,cy=null,io=null,Nh=!1,ro=null,Uh=0,Cc=0,fy=null,zh=-1,Gh=0;function ai(){return mt&6?Dn():zh!==-1?zh:zh=Dn()}function so(u){return u.mode&1?mt&2&&Hn!==0?Hn&-Hn:kI.transition!==null?(Gh===0&&(u=eh,eh<<=1,!(eh&4194240)&&(eh=64),Gh=u),Gh):(u=Bt,u!==0?u:Pe()):1}function nr(u,f,g){if(50<Cc)throw Cc=0,fy=null,Error(o(185));var A=Hh(u,f);return A===null?null:(lc(A,f,g),(!(mt&2)||A!==_n)&&(A===_n&&(!(mt&2)&&(Oh|=f),En===4&&oo(A,Hn)),Ai(A,g),f===1&&mt===0&&!(u.mode&1)&&(Rl(),rh&&jr())),A)}function Hh(u,f){u.lanes|=f;var g=u.alternate;for(g!==null&&(g.lanes|=f),g=u,u=u.return;u!==null;)u.childLanes|=f,g=u.alternate,g!==null&&(g.childLanes|=f),g=u,u=u.return;return g.tag===3?g.stateNode:null}function Ai(u,f){var g=u.callbackNode;bI(u,f);var A=nh(u,u===_n?Hn:0);if(A===0)g!==null&&VS(g),u.callbackNode=null,u.callbackPriority=0;else if(f=A&-A,u.callbackPriority!==f){if(g!=null&&VS(g),f===1)u.tag===0?OI(sw.bind(null,u)):WS(sw.bind(null,u)),je?Ve(function(){mt===0&&jr()}):x0(_0,jr),g=null;else{switch(HS(A)){case 1:g=_0;break;case 4:g=LI;break;case 16:g=A0;break;case 536870912:g=II;break;default:g=A0}g=pw(g,rw.bind(null,u))}u.callbackPriority=f,u.callbackNode=g}}function rw(u,f){if(zh=-1,Gh=0,mt&6)throw Error(o(327));var g=u.callbackNode;if(pa()&&u.callbackNode!==g)return null;var A=nh(u,u===_n?Hn:0);if(A===0)return null;if(A&30||A&u.expiredLanes||f)f=Vh(u,A);else{f=A;var C=mt;mt|=2;var T=lw();(_n!==u||Hn!==f)&&(Rl(),da(u,f));do try{rD();break}catch(X){aw(u,X)}while(1);w0(),Fh.current=T,mt=C,An!==null?f=0:(_n=null,Hn=0,f=En)}if(f!==0){if(f===2&&(C=g0(u),C!==0&&(A=C,f=dy(u,C))),f===1)throw g=Mc,da(u,0),oo(u,A),Ai(u,Dn()),g;if(f===6)oo(u,A);else{if(C=u.current.alternate,!(A&30)&&!nD(C)&&(f=Vh(u,A),f===2&&(T=g0(u),T!==0&&(A=T,f=dy(u,T))),f===1))throw g=Mc,da(u,0),oo(u,A),Ai(u,Dn()),g;switch(u.finishedWork=C,u.finishedLanes=A,f){case 0:case 1:throw Error(o(345));case 2:ha(u,_i);break;case 3:if(oo(u,A),(A&130023424)===A&&(f=ly+500-Dn(),10<f)){if(nh(u,0)!==0)break;if(C=u.suspendedLanes,(C&A)!==A){ai(),u.pingedLanes|=u.suspendedLanes&C;break}u.timeoutHandle=Oe(ha.bind(null,u,_i),f);break}ha(u,_i);break;case 4:if(oo(u,A),(A&4194240)===A)break;for(f=u.eventTimes,C=-1;0<A;){var k=31-xr(A);T=1<<k,k=f[k],k>C&&(C=k),A&=~T}if(A=C,A=Dn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*tD(A/1960))-A,10<A){u.timeoutHandle=Oe(ha.bind(null,u,_i),A);break}ha(u,_i);break;case 5:ha(u,_i);break;default:throw Error(o(329))}}}return Ai(u,Dn()),u.callbackNode===g?rw.bind(null,u):null}function dy(u,f){var g=wc;return u.current.memoizedState.isDehydrated&&(da(u,f).flags|=256),u=Vh(u,f),u!==2&&(f=_i,_i=g,f!==null&&hy(f)),u}function hy(u){_i===null?_i=u:_i.push.apply(_i,u)}function nD(u){for(var f=u;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var A=0;A<g.length;A++){var C=g[A],T=C.getSnapshot;C=C.value;try{if(!Wr(T(),C))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function oo(u,f){for(f&=~ay,f&=~Oh,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var g=31-xr(f),A=1<<g;u[g]=-1,f&=~A}}function sw(u){if(mt&6)throw Error(o(327));pa();var f=nh(u,0);if(!(f&1))return Ai(u,Dn()),null;var g=Vh(u,f);if(u.tag!==0&&g===2){var A=g0(u);A!==0&&(f=A,g=dy(u,A))}if(g===1)throw g=Mc,da(u,0),oo(u,f),Ai(u,Dn()),g;if(g===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,ha(u,_i),Ai(u,Dn()),null}function ow(u){ro!==null&&ro.tag===0&&!(mt&6)&&pa();var f=mt;mt|=1;var g=gn.transition,A=Bt;try{if(gn.transition=null,Bt=1,u)return u()}finally{Bt=A,gn.transition=g,mt=f,!(mt&6)&&jr()}}function py(){Di=Pl.current,ut(Pl)}function da(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==Ge&&(u.timeoutHandle=Ge,ke(g)),An!==null)for(g=An.return;g!==null;){var A=g;switch(R0(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&qd();break;case 3:Tl(),ut(In),ut(Dt),N0();break;case 5:O0(A);break;case 4:Tl();break;case 13:ut(Zt);break;case 19:ut(Zt);break;case 10:C0(A.type._context);break;case 22:case 23:py()}g=g.return}if(_n=u,An=u=ao(u.current,null),Hn=Di=f,En=0,Mc=null,ay=Oh=Bl=0,_i=wc=null,Jr!==null){for(f=0;f<Jr.length;f++)if(g=Jr[f],A=g.interleaved,A!==null){g.interleaved=null;var C=A.next,T=g.pending;if(T!==null){var k=T.next;T.next=C,A.next=k}g.pending=A}Jr=null}return u}function aw(u,f){do{var g=An;try{if(w0(),mh.current=Ah,gh){for(var A=cn.memoizedState;A!==null;){var C=A.queue;C!==null&&(C.pending=null),A=A.next}gh=!1}if(bl=0,Fn=Kn=cn=null,pc=!1,mc=0,oy.current=null,g===null||g.return===null){En=1,Mc=f,An=null;break}e:{var T=u,k=g.return,X=g,fe=f;if(f=Hn,X.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,He=X,st=He.tag;if(!(He.mode&1)&&(st===0||st===11||st===15)){var $e=He.alternate;$e?(He.updateQueue=$e.updateQueue,He.memoizedState=$e.memoizedState,He.lanes=$e.lanes):(He.updateQueue=null,He.memoizedState=null)}var Nt=bM(k);if(Nt!==null){Nt.flags&=-257,PM(Nt,k,X,T,f),Nt.mode&1&&TM(T,Ee,f),f=Nt,fe=Ee;var Ye=f.updateQueue;if(Ye===null){var Zn=new Set;Zn.add(fe),f.updateQueue=Zn}else Ye.add(fe);break e}else{if(!(f&1)){TM(T,Ee,f),my();break e}fe=Error(o(426))}}else if(Jt&&X.mode&1){var rr=bM(k);if(rr!==null){!(rr.flags&65536)&&(rr.flags|=256),PM(rr,k,X,T,f),D0(fe);break e}}T=fe,En!==4&&(En=2),wc===null?wc=[T]:wc.push(T),fe=j0(fe,X),X=k;do{switch(X.tag){case 3:X.flags|=65536,f&=-f,X.lanes|=f;var ne=CM(X,fe,f);XS(X,ne);break e;case 1:T=fe;var Q=X.type,oe=X.stateNode;if(!(X.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(io===null||!io.has(oe)))){X.flags|=65536,f&=-f,X.lanes|=f;var Fe=EM(X,T,f);XS(X,Fe);break e}}X=X.return}while(X!==null)}cw(g)}catch(Xe){f=Xe,An===g&&g!==null&&(An=g=g.return);continue}break}while(1)}function lw(){var u=Fh.current;return Fh.current=Ah,u===null?Ah:u}function my(){(En===0||En===3||En===2)&&(En=4),_n===null||!(Bl&268435455)&&!(Oh&268435455)||oo(_n,Hn)}function Vh(u,f){var g=mt;mt|=2;var A=lw();_n===u&&Hn===f||da(u,f);do try{iD();break}catch(C){aw(u,C)}while(1);if(w0(),mt=g,Fh.current=A,An!==null)throw Error(o(261));return _n=null,Hn=0,En}function iD(){for(;An!==null;)uw(An)}function rD(){for(;An!==null&&!BI();)uw(An)}function uw(u){var f=hw(u.alternate,u,Di);u.memoizedProps=u.pendingProps,f===null?cw(u):An=f,oy.current=null}function cw(u){var f=u;do{var g=f.alternate;if(u=f.return,f.flags&32768){if(g=QI(g,f),g!==null){g.flags&=32767,An=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{En=6,An=null;return}}else if(g=XI(g,f,Di),g!==null){An=g;return}if(f=f.sibling,f!==null){An=f;return}An=f=u}while(f!==null);En===0&&(En=5)}function ha(u,f){var g=Bt,A=gn.transition;try{gn.transition=null,Bt=1,sD(u,f,g)}finally{gn.transition=A,Bt=g}return null}function sD(u,f,g){do pa();while(ro!==null);if(mt&6)throw Error(o(327));var A=u.finishedWork,C=u.finishedLanes;if(A===null)return null;if(u.finishedWork=null,u.finishedLanes=0,A===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var T=A.lanes|A.childLanes;if(PI(u,T),u===_n&&(An=_n=null,Hn=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Nh||(Nh=!0,pw(A0,function(){return pa(),null})),T=(A.flags&15990)!==0,A.subtreeFlags&15990||T){T=gn.transition,gn.transition=null;var k=Bt;Bt=1;var X=mt;mt|=4,oy.current=null,qI(u,A),$I(u,A),j(u.containerInfo),u.current=A,eD(A),RI(),mt=X,Bt=k,gn.transition=T}else u.current=A;if(Nh&&(Nh=!1,ro=u,Uh=C),T=u.pendingLanes,T===0&&(io=null),DI(A.stateNode),Ai(u,Dn()),f!==null)for(g=u.onRecoverableError,A=0;A<f.length;A++)g(f[A]);if(kh)throw kh=!1,u=cy,cy=null,u;return Uh&1&&u.tag!==0&&pa(),T=u.pendingLanes,T&1?u===fy?Cc++:(Cc=0,fy=u):Cc=0,jr(),null}function pa(){if(ro!==null){var u=HS(Uh),f=gn.transition,g=Bt;try{if(gn.transition=null,Bt=16>u?16:u,ro===null)var A=!1;else{if(u=ro,ro=null,Uh=0,mt&6)throw Error(o(331));var C=mt;for(mt|=4,De=u.current;De!==null;){var T=De,k=T.child;if(De.flags&16){var X=T.deletions;if(X!==null){for(var fe=0;fe<X.length;fe++){var Ee=X[fe];for(De=Ee;De!==null;){var He=De;switch(He.tag){case 0:case 11:case 15:fa(8,He,T)}var st=He.child;if(st!==null)st.return=He,De=st;else for(;De!==null;){He=De;var $e=He.sibling,Nt=He.return;if(KM(He),He===Ee){De=null;break}if($e!==null){$e.return=Nt,De=$e;break}De=Nt}}}var Ye=T.alternate;if(Ye!==null){var Zn=Ye.child;if(Zn!==null){Ye.child=null;do{var rr=Zn.sibling;Zn.sibling=null,Zn=rr}while(Zn!==null)}}De=T}}if(T.subtreeFlags&2064&&k!==null)k.return=T,De=k;else e:for(;De!==null;){if(T=De,T.flags&2048)switch(T.tag){case 0:case 11:case 15:fa(9,T,T.return)}var ne=T.sibling;if(ne!==null){ne.return=T.return,De=ne;break e}De=T.return}}var Q=u.current;for(De=Q;De!==null;){k=De;var oe=k.child;if(k.subtreeFlags&2064&&oe!==null)oe.return=k,De=oe;else e:for(k=Q;De!==null;){if(X=De,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:Ac(9,X)}}catch(Xe){Si(X,X.return,Xe)}if(X===k){De=null;break e}var Fe=X.sibling;if(Fe!==null){Fe.return=X.return,De=Fe;break e}De=X.return}}if(mt=C,jr(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(ih,u)}catch{}A=!0}return A}finally{Bt=g,gn.transition=f}}return!1}function fw(u,f,g){f=j0(g,f),f=CM(u,f,1),no(u,f),f=ai(),u=Hh(u,1),u!==null&&(lc(u,1,f),Ai(u,f))}function Si(u,f,g){if(u.tag===3)fw(u,u,g);else for(;f!==null;){if(f.tag===3){fw(f,u,g);break}else if(f.tag===1){var A=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(io===null||!io.has(A))){u=j0(g,u),u=EM(f,u,1),no(f,u),u=ai(),f=Hh(f,1),f!==null&&(lc(f,1,u),Ai(f,u));break}}f=f.return}}function oD(u,f,g){var A=u.pingCache;A!==null&&A.delete(f),f=ai(),u.pingedLanes|=u.suspendedLanes&g,_n===u&&(Hn&g)===g&&(En===4||En===3&&(Hn&130023424)===Hn&&500>Dn()-ly?da(u,0):ay|=g),Ai(u,f)}function dw(u,f){f===0&&(u.mode&1?(f=th,th<<=1,!(th&130023424)&&(th=4194304)):f=1);var g=ai();u=Hh(u,f),u!==null&&(lc(u,f,g),Ai(u,g))}function aD(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),dw(u,g)}function lD(u,f){var g=0;switch(u.tag){case 13:var A=u.stateNode,C=u.memoizedState;C!==null&&(g=C.retryLane);break;case 19:A=u.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(f),dw(u,g)}var hw;hw=function(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps||In.current)Ii=!0;else{if(!(u.lanes&g)&&!(f.flags&128))return Ii=!1,YI(u,f,g);Ii=!!(u.flags&131072)}else Ii=!1,Jt&&f.flags&1048576&&$S(f,dh,f.index);switch(f.lanes=0,f.tag){case 2:var A=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var C=ms(f,Dt.current);Al(f,g),C=z0(null,f,A,u,C,g);var T=G0();return f.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,xi(A)?(T=!0,$d(f)):T=!1,f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,T0(f),C.updater=ch,f.stateNode=C,C._reactInternals=f,P0(f,A,u,g),f=K0(null,f,A,!0,T,g)):(f.tag=0,Jt&&T&&B0(f),oi(null,f,C,g),f=f.child),f;case 16:A=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,C=A._init,A=C(A._payload),f.type=A,C=f.tag=cD(A),u=_r(A,u),C){case 0:f=X0(null,f,A,u,g);break e;case 1:f=kM(null,f,A,u,g);break e;case 11:f=LM(null,f,A,u,g);break e;case 14:f=IM(null,f,A,_r(A.type,u),g);break e}throw Error(o(306,A,""))}return f;case 0:return A=f.type,C=f.pendingProps,C=f.elementType===A?C:_r(A,C),X0(u,f,A,C,g);case 1:return A=f.type,C=f.pendingProps,C=f.elementType===A?C:_r(A,C),kM(u,f,A,C,g);case 3:e:{if(NM(f),u===null)throw Error(o(387));A=f.pendingProps,T=f.memoizedState,C=T.element,JS(u,f),uh(f,A,null,g);var k=f.memoizedState;if(A=k.element,re&&T.isDehydrated)if(T={element:A,isDehydrated:!1,cache:k.cache,transitions:k.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){C=Error(o(423)),f=UM(u,f,A,g,C);break e}else if(A!==C){C=Error(o(424)),f=UM(u,f,A,g,C);break e}else for(re&&(Li=q(f.stateNode.containerInfo),Ri=f,Jt=!0,Ar=null,uc=!1),g=sM(f,null,A,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(wl(),A===C){f=As(u,f,g);break e}oi(u,f,A,g)}f=f.child}return f;case 5:return oM(f),u===null&&I0(f),A=f.type,C=f.pendingProps,T=u!==null?u.memoizedProps:null,k=C.children,xe(A,C)?k=null:T!==null&&xe(A,T)&&(f.flags|=32),OM(u,f),oi(u,f,k,g),f.child;case 6:return u===null&&I0(f),null;case 13:return zM(u,f,g);case 4:return F0(f,f.stateNode.containerInfo),A=f.pendingProps,u===null?f.child=Cl(f,null,A,g):oi(u,f,A,g),f.child;case 11:return A=f.type,C=f.pendingProps,C=f.elementType===A?C:_r(A,C),LM(u,f,A,C,g);case 7:return oi(u,f,f.pendingProps,g),f.child;case 8:return oi(u,f,f.pendingProps.children,g),f.child;case 12:return oi(u,f,f.pendingProps.children,g),f.child;case 10:e:{if(A=f.type._context,C=f.pendingProps,T=f.memoizedProps,k=C.value,jS(f,A,k),T!==null)if(Wr(T.value,k)){if(T.children===C.children&&!In.current){f=As(u,f,g);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var X=T.dependencies;if(X!==null){k=T.child;for(var fe=X.firstContext;fe!==null;){if(fe.context===A){if(T.tag===1){fe=ys(-1,g&-g),fe.tag=2;var Ee=T.updateQueue;if(Ee!==null){Ee=Ee.shared;var He=Ee.pending;He===null?fe.next=fe:(fe.next=He.next,He.next=fe),Ee.pending=fe}}T.lanes|=g,fe=T.alternate,fe!==null&&(fe.lanes|=g),E0(T.return,g,f),X.lanes|=g;break}fe=fe.next}}else if(T.tag===10)k=T.type===f.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(o(341));k.lanes|=g,X=k.alternate,X!==null&&(X.lanes|=g),E0(k,g,f),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===f){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}oi(u,f,C.children,g),f=f.child}return f;case 9:return C=f.type,A=f.pendingProps.children,Al(f,g),C=Zi(C),A=A(C),f.flags|=1,oi(u,f,A,g),f.child;case 14:return A=f.type,C=_r(A,f.pendingProps),C=_r(A.type,C),IM(u,f,A,C,g);case 15:return DM(u,f,f.type,f.pendingProps,g);case 17:return A=f.type,C=f.pendingProps,C=f.elementType===A?C:_r(A,C),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,xi(A)?(u=!0,$d(f)):u=!1,Al(f,g),ZS(f,A,C),P0(f,A,C,g),K0(null,f,A,!0,u,g);case 19:return WM(u,f,g);case 22:return FM(u,f,g)}throw Error(o(156,f.tag))};function pw(u,f){return x0(u,f)}function uD(u,f,g,A){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(u,f,g,A){return new uD(u,f,g,A)}function gy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function cD(u){if(typeof u=="function")return gy(u)?1:0;if(u!=null){if(u=u.$$typeof,u===v)return 11;if(u===S)return 14}return 2}function ao(u,f){var g=u.alternate;return g===null?(g=ir(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Wh(u,f,g,A,C,T){var k=2;if(A=u,typeof u=="function")gy(u)&&(k=1);else if(typeof u=="string")k=5;else e:switch(u){case d:return ma(g.children,C,T,f);case h:k=8,C|=8;break;case p:return u=ir(12,g,f,C|2),u.elementType=p,u.lanes=T,u;case x:return u=ir(13,g,f,C),u.elementType=x,u.lanes=T,u;case _:return u=ir(19,g,f,C),u.elementType=_,u.lanes=T,u;case w:return jh(g,C,T,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:k=10;break e;case y:k=9;break e;case v:k=11;break e;case S:k=14;break e;case M:k=16,A=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=ir(k,g,f,C),f.elementType=u,f.type=A,f.lanes=T,f}function ma(u,f,g,A){return u=ir(7,u,A,f),u.lanes=g,u}function jh(u,f,g,A){return u=ir(22,u,A,f),u.elementType=w,u.lanes=g,u.stateNode={},u}function yy(u,f,g){return u=ir(6,u,null,f),u.lanes=g,u}function vy(u,f,g){return f=ir(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function fD(u,f,g,A,C){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y0(0),this.expirationTimes=y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y0(0),this.identifierPrefix=A,this.onRecoverableError=C,re&&(this.mutableSourceEagerHydrationData=null)}function mw(u,f,g,A,C,T,k,X,fe){return u=new fD(u,f,g,X,fe),f===1?(f=1,T===!0&&(f|=8)):f=0,T=ir(3,null,null,f),u.current=T,T.stateNode=u,T.memoizedState={element:A,isDehydrated:g,cache:null,transitions:null},T0(T),u}function gw(u){if(!u)return Qi;u=u._reactInternals;e:{if(B(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(xi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var g=u.type;if(xi(g))return zS(u,g,f)}return f}function yw(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=Z(f),u===null?null:u.stateNode}function vw(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function xy(u,f){vw(u,f),(u=u.alternate)&&vw(u,f)}function dD(u){return u=Z(u),u===null?null:u.stateNode}function hD(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=ai();nr(u,134217728,f),xy(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=ai(),g=so(u);nr(u,g,f),xy(u,g)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var g=ac(f.pendingLanes);g!==0&&(v0(f,g|1),Ai(f,Dn()),!(mt&6)&&(Rl(),jr()))}break;case 13:var A=ai();ow(function(){return nr(u,1,A)}),xy(u,1)}},t.batchedUpdates=function(u,f){var g=mt;mt|=1;try{return u(f)}finally{mt=g,mt===0&&(Rl(),rh&&jr())}},t.createComponentSelector=function(u){return{$$typeof:Bh,value:u}},t.createContainer=function(u,f,g,A,C,T,k){return mw(u,f,!1,null,g,A,C,T,k)},t.createHasPseudoClassSelector=function(u){return{$$typeof:Rh,value:u}},t.createHydrationContainer=function(u,f,g,A,C,T,k,X,fe){return u=mw(g,A,!0,u,C,T,k,X,fe),u.context=gw(null),g=u.current,A=ai(),C=so(g),T=ys(A,C),T.callback=f??null,no(g,T),u.current.lanes=C,lc(u,C,A),Ai(u,A),u},t.createPortal=function(u,f,g){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:u,containerInfo:f,implementation:g}},t.createRoleSelector=function(u){return{$$typeof:Lh,value:u}},t.createTestNameSelector=function(u){return{$$typeof:Ih,value:u}},t.createTextSelector=function(u){return{$$typeof:Dh,value:u}},t.deferredUpdates=function(u){var f=Bt,g=gn.transition;try{return gn.transition=null,Bt=16,u()}finally{Bt=f,gn.transition=g}},t.discreteUpdates=function(u,f,g,A,C){var T=Bt,k=gn.transition;try{return gn.transition=null,Bt=1,u(f,g,A,C)}finally{Bt=T,gn.transition=k,mt===0&&Rl()}},t.findAllNodes=sy,t.findBoundingRects=function(u,f){if(!yt)throw Error(o(363));f=sy(u,f),u=[];for(var g=0;g<f.length;g++)u.push(N(f[g]));for(f=u.length-1;0<f;f--){g=u[f];for(var A=g.x,C=A+g.width,T=g.y,k=T+g.height,X=f-1;0<=X;X--)if(f!==X){var fe=u[X],Ee=fe.x,He=Ee+fe.width,st=fe.y,$e=st+fe.height;if(A>=Ee&&T>=st&&C<=He&&k<=$e){u.splice(f,1);break}else if(A!==Ee||g.width!==fe.width||$e<T||st>k){if(!(T!==st||g.height!==fe.height||He<A||Ee>C)){Ee>A&&(fe.width+=Ee-A,fe.x=A),He<C&&(fe.width=C-Ee),u.splice(f,1);break}}else{st>T&&(fe.height+=st-T,fe.y=T),$e<k&&(fe.height=k-st),u.splice(f,1);break}}}return u},t.findHostInstance=yw,t.findHostInstanceWithNoPortals=function(u){return u=U(u),u=u!==null?G(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return yw(u)},t.flushControlled=function(u){var f=mt;mt|=1;var g=gn.transition,A=Bt;try{gn.transition=null,Bt=1,u()}finally{Bt=A,gn.transition=g,mt=f,mt===0&&(Rl(),jr())}},t.flushPassiveEffects=pa,t.flushSync=ow,t.focusWithin=function(u,f){if(!yt)throw Error(o(363));for(u=ny(u),f=iw(u,f),f=Array.from(f),u=0;u<f.length;){var g=f[u++];if(!ie(g)){if(g.tag===5&&Ce(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Bt},t.getFindAllNodesFailureDescription=function(u,f){if(!yt)throw Error(o(363));var g=0,A=[];u=[ny(u),0];for(var C=0;C<u.length;){var T=u[C++],k=u[C++],X=f[k];if((T.tag!==5||!ie(T))&&(iy(T,X)&&(A.push(ry(X)),k++,k>g&&(g=k)),k<f.length))for(T=T.child;T!==null;)u.push(T,k),T=T.sibling}if(g<f.length){for(u=[];g<f.length;g++)u.push(ry(f[g]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return te(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:dD,findFiberByHostInstance:u.findFiberByHostInstance||hD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{ih=f.inject(u),Vr=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,g,A){if(!yt)throw Error(o(363));u=sy(u,f);var C=be(u,g,A).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(u,f){var g=f._getVersion;g=g(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,g]:u.mutableSourceEagerHydrationData.push(f,g)},t.runWithPriority=function(u,f){var g=Bt;try{return Bt=u,f()}finally{Bt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,g,A){var C=f.current,T=ai(),k=so(C);return g=gw(g),f.context===null?f.context=g:f.pendingContext=g,f=ys(T,k),f.payload={element:u},A=A===void 0?null:A,A!==null&&(f.callback=A),no(C,f),u=nr(C,k,T),u!==null&&lh(u,C,k),k},t};(function(n){n.exports=pV})(dV);const mV=n2(O_);function p3(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Is=[];function m3(n,e,t=!1,i={}){for(const s of Is)if(p3(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Is.indexOf(r);s!==-1&&Is.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Is.push(r),!t)throw r.promise}const gV=(n,e,t)=>m3(n,e,!1,t),yV=(n,e,t)=>void m3(n,e,!0,t),vV=n=>{if(n===void 0||n.length===0)Is.splice(0,Is.length);else{const e=Is.find(t=>p3(n,t.keys,t.equal));if(e){const t=Is.indexOf(e);t!==-1&&Is.splice(t,1)}}};var rT,sT;const xV=(n,...e)=>e.reduce((t,i)=>t==null?void 0:t[i],n),Zl="ColorManagement"in F_&&xV(F_,"ColorManagement")||null,g3=n=>n&&n.isOrthographicCamera,_V=n=>n&&n.hasOwnProperty("current"),Od=typeof window<"u"&&((rT=window.document)!=null&&rT.createElement||((sT=window.navigator)==null?void 0:sT.product)==="ReactNative")?H.useLayoutEffect:H.useEffect;function y3(n){const e=H.useRef(n);return Od(()=>void(e.current=n),[n]),e}function AV({set:n}){return Od(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class v3 extends H.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}v3.getDerivedStateFromError=()=>({error:!0});const x3="__default",oT=new Map,SV=n=>n&&!!n.memoized&&!!n.changes;function _3(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Jc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},en={obj:n=>n===Object(n)&&!en.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(en.str(n)||en.num(n))return n===e;const s=en.obj(n);if(s&&i==="reference")return n===e;const o=en.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in r?e:n)if(n[a]!==e[a])return!1;if(en.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function MV(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function wV(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function ql(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function k_(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const aT=/-\d+$/;function Tv(n,e,t){if(en.str(t)){if(aT.test(t)){const s=t.replace(aT,""),{target:o,key:a}=k_(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=k_(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function lT(n,e,t){var i,r;if(en.str(t)){const{target:s,key:o}=k_(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function A3(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||p.unshift([v[x],x3+"remove"])}p.forEach(([v,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&v==="object"||en.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,x,!0,[]]);let S=[];v.includes("-")&&(S=v.split("-")),m.push([v,x,!1,S]);for(const M in r){const w=r[M];M.startsWith(`${v}-`)&&m.push([M,w,!1,M.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function bv(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=SV(e)?e:A3(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,v,x]=c[p],_=n,S=_[m];if(x.length&&(S=x.reduce((M,w)=>M[w],n),!(S&&S.set))){const[M,...w]=x.reverse();_=w.reverse().reduce((b,P)=>b[P],n),m=M}if(y===x3+"remove")if(_.constructor){let M=oT.get(_.constructor);M||(M=new _.constructor,oT.set(_.constructor,M)),y=M[m]}else y=0;if(v)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof el)){if(Array.isArray(y))S.fromArray?S.fromArray(y):S.set(...y);else if(S.copy&&y&&y.constructor&&S.constructor===y.constructor)S.copy(y);else if(y!==void 0){const M=S instanceof Re;!M&&S.setScalar?S.setScalar(y):S instanceof el&&y instanceof el?S.mask=y.mask:S.set(y),!Zl&&!a.linear&&M&&S.convertSRGBToLinear()}}else _[m]=y,!a.linear&&_[m]instanceof Qt&&_[m].format===wi&&_[m].type===Ks&&(_[m].encoding=wt);$l(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&N_(n),n}function $l(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function N_(n){n.onUpdate==null||n.onUpdate(n)}function CV(n,e){n.manual||(g3(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Yp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function EV(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ro.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ro.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ro.ContinuousEventPriority;default:return Ro.DefaultEventPriority}}function S3(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function TV(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{S3(t.capturedMap,e,i,r)})}function bV(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),h=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let _=0;_<m.length;_++){const S=Jc(m[_]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(_){const S=Jc(_);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(l,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(_,!0):[]}let v=m.flatMap(y).sort((_,S)=>{const M=Jc(_.object),w=Jc(S.object);return!M||!w?_.distance-S.distance:w.events.priority-M.events.priority||_.distance-S.distance}).filter(_=>{const S=Yp(_);return h.has(S)?!1:(h.add(S),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const _ of v){let S=_.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({..._,eventObject:S}),S=S.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())h.has(Yp(_.intersection))||p.push(_.intersection);return p}function r(l,c,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const v=Jc(y.object)||p,{raycaster:x,pointer:_,camera:S,internal:M}=v,w=new D(_.x,_.y,0).unproject(S),b=L=>{var U,Z;return(U=(Z=M.capturedMap.get(L))==null?void 0:Z.has(y.eventObject))!=null?U:!1},P=L=>{const U={intersection:y,target:c.target};M.capturedMap.has(L)?M.capturedMap.get(L).set(y.eventObject,U):M.capturedMap.set(L,new Map([[y.eventObject,U]])),c.target.setPointerCapture(L)},R=L=>{const U=M.capturedMap.get(L);U&&S3(M.capturedMap,y.eventObject,U,L)};let E={};for(let L in c){let U=c[L];typeof U!="function"&&(E[L]=U)}let B={...y,...E,pointer:_,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:w,ray:x.ray,camera:S,stopPropagation(){const L="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!L||L.has(y.eventObject))&&(B.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=l.slice(0,l.indexOf(y));s([...U,y])}},target:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(h(B),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Yp(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),_=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(M=>M.eventObject)),y&&!x.length&&_<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function S(M){const w=M.eventObject,b=w.__r3f,P=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=Yp(M),E=p.hovered.get(R);E?E.stopped&&M.stopPropagation():(p.hovered.set(R,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const R=P[l];R?(!y||p.initialHits.includes(w))&&(o(d,p.interaction.filter(E=>!p.initialHits.includes(E))),R(M)):y&&p.initialHits.includes(w)&&o(d,p.interaction.filter(E=>!p.initialHits.includes(E)))}}r(x,d,_,S)}}return{handlePointer:a}}let U_={},PV=n=>void(U_={...U_,...n});function BV(n,e){function t(d,{args:h=[],attach:p,...m},y){let v=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=m.object;x=ql(_,{type:d,root:y,attach:p,primitive:!0})}else{const _=U_[v];if(!_)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=ql(new _(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof lt?x.__r3f.attach="geometry":x instanceof Cn&&(x.__r3f.attach="material")),v!=="inject"&&bv(x,m),x}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?Tv(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||ql(h,{}),h.__r3f.parent=d,N_(h),$l(h)}}function r(d,h,p){let m=!1;if(h){var y,v;if((y=h.__r3f)!=null&&y.attach)Tv(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const x=d.children.filter(S=>S!==h),_=x.indexOf(p);d.children=[...x.slice(0,_),h,...x.slice(_)],m=!0}m||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||ql(h,{}),h.__r3f.parent=d,N_(h),$l(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,v;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(w=>w!==h)),(y=h.__r3f)!=null&&y.attach)lT(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&TV(h.__r3f.root,h)}const S=(v=h.__r3f)==null?void 0:v.primitive,M=p===void 0?h.dispose!==null&&!S:p;if(!S){var _;s((_=h.__r3f)==null?void 0:_.objects,h,M),s(h.children,h,M)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,S||delete h.__r3f),M&&h.dispose&&h.type!=="Scene"&&id.unstable_scheduleCallback(id.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),$l(d)}}function a(d,h,p,m){var y;const v=(y=d.__r3f)==null?void 0:y.parent;if(!v)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&i(x,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>i(x,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(v,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:mV({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;const p=(h=d==null?void 0:d.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:v,...x}=m,{args:_=[],children:S,...M}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((b,P)=>b!==_[P]))return[!0];const w=A3(d,x,M,!0);return w.changes.length?[!1,w]:null}},commitUpdate(d,[h,p],m,y,v,x){h?a(d,m,v,x):bv(d,p)},commitMount(d,h,p,m){var y;const v=(y=d.__r3f)!=null?y:{};d.raycast&&v.handlers&&v.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>ql(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&lT(m,d,p),d.isObject3D&&(d.visible=!1),$l(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&Tv(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),$l(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ro.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&en.fun(performance.now)?performance.now:en.fun(Date.now)?Date.now:()=>0,scheduleTimeout:en.fun(setTimeout)?setTimeout:void 0,cancelTimeout:en.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bv}}const M3=n=>!!(n!=null&&n.render),w3=H.createContext(null),RV=(n,e)=>{const t=d3((a,l)=>{const c=new D,d=new D,h=new D;function p(_=l().camera,S=d,M=l().size){const{width:w,height:b,top:P,left:R}=M,E=w/b;S instanceof D?h.copy(S):h.set(...S);const B=_.getWorldPosition(c).distanceTo(h);if(g3(_))return{width:w/_.zoom,height:b/_.zoom,top:P,left:R,factor:1,distance:B,aspect:E};{const L=_.fov*Math.PI/180,U=2*Math.tan(L/2)*B,Z=U*(w/b);return{width:Z,height:U,top:P,left:R,factor:w/Z,distance:B,aspect:E}}}let m;const y=_=>a(S=>({performance:{...S.performance,current:_}})),v=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(_=1)=>n(l(),_),advance:(_,S)=>e(_,S,l()),legacy:!1,linear:!1,flat:!1,scene:ql(new CA),controls:null,clock:new XA,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();m&&clearTimeout(m),_.performance.current!==_.performance.min&&y(_.performance.min),m=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(S=>({...S,events:{...S.events,..._}})),setSize:(_,S,M,w,b)=>{const P=l().camera,R={width:_,height:S,top:w||0,left:b||0,updateStyle:M};a(E=>({size:R,viewport:{...E.viewport,...p(P,d,R)}}))},setDpr:_=>a(S=>{const M=_3(_);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(_="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,_!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:H.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,S,M)=>{const w=l().internal;return w.priority=w.priority+(S>0?1:0),w.subscribers.push({ref:_,priority:S,store:M}),w.subscribers=w.subscribers.sort((b,P)=>b.priority-P.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(S>0?1:0),b.subscribers=b.subscribers.filter(P=>P.ref!==_))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=t.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,CV(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Qp,LV=new Set,IV=new Set,DV=new Set;function Pv(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Xc(n,e){switch(n){case"before":return Pv(LV,e);case"after":return Pv(IV,e);case"tail":return Pv(DV,e)}}let Bv,Rv;function Lv(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Bv=e.internal.subscribers,Qp=0;Qp<Bv.length;Qp++)Rv=Bv[Qp],Rv.ref.current(Rv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function FV(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Xc("before",l);for(const d of n.values()){var c;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=Lv(l,r))}if(Xc("after",l),t===0)return Xc("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var d;if(!l)return n.forEach(h=>o(h.store.getState()),c);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,d,h){if(c&&Xc("before",l),d)Lv(l,d,h);else for(const p of n.values())Lv(l,p.store.getState());c&&Xc("after",l)}return{loop:s,invalidate:o,advance:a}}function C3(){const n=H.useContext(w3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ur(n=t=>t,e){return C3()(n,e)}function kd(n,e=0){const t=C3(),i=t.getState().internal.subscribe,r=y3(n);return Od(()=>i(r,e,t),[e,i,t]),null}function E3(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,MV(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Nd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=gV(E3(t,i),[n,...r],{equal:en.equ});return Array.isArray(e)?s:s[0]}Nd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return yV(E3(t),[n,...i])};Nd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return vV([n,...t])};const Wu=new Map,{invalidate:uT,advance:cT}=FV(Wu),{reconciler:fg,applyProps:Zp}=BV(Wu,EV),Kc={objects:"shallow",strict:!1},OV=(n,e)=>{const t=typeof n=="function"?n(e):n;return M3(t)?t:new wA({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function kV(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function NV(n){const e=Wu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||RV(uT,cT),o=t||fg.createContainer(s,Ro.ConcurrentRoot,null,!1,null,"",r,null);e||Wu.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:d,size:h,events:p,onCreated:m,shadows:y=!1,linear:v=!1,flat:x=!1,legacy:_=!1,orthographic:S=!1,frameloop:M="always",dpr:w=[1,2],performance:b,raycaster:P,camera:R,onPointerMissed:E}=c,B=s.getState(),L=B.gl;B.gl||B.set({gl:L=OV(d,n)});let U=B.raycaster;U||B.set({raycaster:U=new c3});const{params:Z,...J}=P||{};if(en.equ(J,U,Kc)||Zp(U,{...J}),en.equ(Z,U.params,Kc)||Zp(U,{params:{...U.params,...Z}}),!B.camera){const O=R instanceof xd,V=O?R:S?new Fr(0,0,0,0,.1,1e3):new zt(75,0,.1,1e3);O||(V.position.z=5,R&&Zp(V,R),R!=null&&R.rotation||V.lookAt(0,0,0)),B.set({camera:V})}if(!B.xr){const O=(ae,W)=>{const ce=s.getState();ce.frameloop!=="never"&&cT(ae,!0,ce,W)},V=()=>{const ae=s.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?O:null),ae.gl.xr.isPresenting||uT(ae)},j={connect(){const ae=s.getState().gl;ae.xr.addEventListener("sessionstart",V),ae.xr.addEventListener("sessionend",V)},disconnect(){const ae=s.getState().gl;ae.xr.removeEventListener("sessionstart",V),ae.xr.removeEventListener("sessionend",V)}};L.xr&&j.connect(),B.set({xr:j})}if(L.shadowMap){const O=L.shadowMap.enabled,V=L.shadowMap.type;if(L.shadowMap.enabled=!!y,en.boo(y))L.shadowMap.type=yf;else if(en.str(y)){var G;const j={basic:vB,percentage:zg,soft:yf,variance:Ga};L.shadowMap.type=(G=j[y])!=null?G:yf}else en.obj(y)&&Object.assign(L.shadowMap,y);(O!==L.shadowMap.enabled||V!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}Zl&&("enabled"in Zl?Zl.enabled=!_:"legacyMode"in Zl&&(Zl.legacyMode=_));const Y=v?Ys:wt,te=x?Dr:cA;L.outputEncoding!==Y&&(L.outputEncoding=Y),L.toneMapping!==te&&(L.toneMapping=te),B.legacy!==_&&B.set(()=>({legacy:_})),B.linear!==v&&B.set(()=>({linear:v})),B.flat!==x&&B.set(()=>({flat:x})),d&&!en.fun(d)&&!M3(d)&&!en.equ(d,L,Kc)&&Zp(L,d),p&&!B.events.handlers&&B.set({events:p(s)});const le=kV(n,h);return en.equ(le,B.size,Kc)||B.setSize(le.width,le.height,le.updateStyle,le.top,le.left),w&&B.viewport.dpr!==_3(w)&&B.setDpr(w),B.frameloop!==M&&B.setFrameloop(M),B.onPointerMissed||B.set({onPointerMissed:E}),b&&!en.equ(b,B.performance,Kc)&&B.set(O=>({performance:{...O.performance,...b}})),a=m,l=!0,this},render(c){return l||this.configure(),fg.updateContainer(H.createElement(UV,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){T3(n)}}}function UV({store:n,children:e,onCreated:t,rootElement:i}){return Od(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),H.createElement(w3.Provider,{value:n},e)}function T3(n,e){const t=Wu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),fg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),wV(r),Wu.delete(n),e&&e(n)}catch{}},500)})}}fg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version});function Nr(){return Nr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nr.apply(this,arguments)}function z_(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}z_.debounce=z_;var fT=z_;function zV(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=H.useRef(!1);H.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=H.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:M,top:w,width:b,height:P,bottom:R,right:E,x:B,y:L}=l.current.element.getBoundingClientRect(),U={left:M,top:w,width:b,height:P,bottom:R,right:E,x:B,y:L};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),h.current&&!WV(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[S,d?fT(S,d):S,c?fT(S,c):S]},[a,r,c,d]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",y,{capture:!0,passive:!0})))}const _=S=>{!S||S===l.current.element||(v(),l.current.element=S,l.current.scrollContainers=b3(S),x())};return HV(y,Boolean(t)),GV(m),H.useEffect(()=>{v(),x()},[t,y,m]),H.useEffect(()=>v,[]),[_,o,p]}function GV(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function HV(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function b3(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...b3(n.parentElement)]}const VV=["x","y","top","bottom","left","right","width","height"],WV=(n,e)=>VV.every(t=>n[t]===e[t]);var jV=Object.defineProperty,JV=Object.defineProperties,XV=Object.getOwnPropertyDescriptors,dT=Object.getOwnPropertySymbols,KV=Object.prototype.hasOwnProperty,YV=Object.prototype.propertyIsEnumerable,hT=(n,e,t)=>e in n?jV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pT=(n,e)=>{for(var t in e||(e={}))KV.call(e,t)&&hT(n,t,e[t]);if(dT)for(var t of dT(e))YV.call(e,t)&&hT(n,t,e[t]);return n},QV=(n,e)=>JV(n,XV(e));function P3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=P3(i,e,t);if(r)return r;i=e?null:i.sibling}}function B3(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ZA=B3(H.createContext(null));class R3 extends H.Component{render(){return H.createElement(ZA.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ZV,ReactCurrentDispatcher:qV}=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $V(){const n=H.useContext(ZA);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{var i;return(i=ZV.current)!=null?i:P3(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function e9(){var n,e;const t=$V(),[i]=H.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==ZA&&!i.has(s)&&i.set(s,(e=qV.current)==null?void 0:e.readContext(B3(s))),r=r.return}return H.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>H.createElement(s,null,H.createElement(o.Provider,QV(pT({},a),{value:i.get(o)}))),s=>H.createElement(R3,pT({},s))),[i])}const Iv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function t9(n){const{handlePointer:e}=bV(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Iv).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Iv[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Iv[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const n9=H.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=t9,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:_,camera:S,onPointerMissed:M,onCreated:w,...b},P){H.useMemo(()=>PV(F_),[]);const R=e9(),[E,B]=zV({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=H.useRef(null),U=H.useRef(null),[Z,J]=H.useState(null);H.useImperativeHandle(P,()=>L.current);const G=y3(M),[Y,te]=H.useState(!1),[le,O]=H.useState(!1);if(Y)throw Y;if(le)throw le;const V=H.useRef(null);B.width>0&&B.height>0&&Z&&(V.current||(V.current=NV(Z)),V.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:_,camera:S,size:B,onPointerMissed:(...ae)=>G.current==null?void 0:G.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(a?_V(a)?a.current:a:U.current),l&&ae.setEvents({compute:(W,ce)=>{const ye=W[l+"X"],xe=W[l+"Y"];ce.pointer.set(ye/ce.size.width*2-1,-(xe/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),w==null||w(ae)}}),V.current.render(H.createElement(R,null,H.createElement(v3,{set:O},H.createElement(H.Suspense,{fallback:H.createElement(AV,{set:te})},e))))),Od(()=>{J(L.current)},[]),H.useEffect(()=>{if(Z)return()=>T3(Z)},[Z]);const j=a?"none":"auto";return H.createElement("div",Nr({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...r}},b),H.createElement("div",{ref:E,style:{width:"100%",height:"100%"}},H.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),L3=H.forwardRef(function(e,t){return H.createElement(R3,null,H.createElement(n9,Nr({},e,{ref:t})))}),Ud=new D,qA=new D,i9=new D;function r9(n,e,t){const i=Ud.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function s9(n,e){const t=Ud.setFromMatrixPosition(n.matrixWorld),i=qA.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(i9);return r.angleTo(s)>Math.PI/2}function o9(n,e,t,i){const r=Ud.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function a9(n,e){if(e instanceof Fr)return e.zoom;if(e instanceof zt){const t=Ud.setFromMatrixPosition(n.matrixWorld),i=qA.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function l9(n,e,t){if(e instanceof zt||e instanceof Fr){const i=Ud.setFromMatrixPosition(n.matrixWorld),r=qA.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const G_=n=>Math.abs(n)<1e-10?0:n;function I3(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=G_(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const u9=(n=>e=>I3(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),c9=(n=>(e,t)=>I3(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function f9(n){return n&&typeof n=="object"&&"current"in n}const d9=H.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:v,geometry:x,zIndexRange:_=[16777271,0],calculatePosition:S=r9,as:M="div",wrapperClass:w,pointerEvents:b="auto",...P},R)=>{const{gl:E,camera:B,scene:L,size:U,raycaster:Z,events:J,viewport:G}=ur(),[Y]=H.useState(()=>document.createElement(M)),te=H.useRef(),le=H.useRef(null),O=H.useRef(0),V=H.useRef([0,0]),j=H.useRef(null),ae=H.useRef(null),W=(a==null?void 0:a.current)||J.connected||E.domElement.parentNode,ce=H.useRef(null),ye=H.useRef(!1),xe=H.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&f9(h[0]),[h]);H.useLayoutEffect(()=>{const Ae=E.domElement;h&&h==="blending"?(Ae.style.zIndex=`${Math.floor(_[0]/2)}`,Ae.style.position="absolute",Ae.style.pointerEvents="none"):(Ae.style.zIndex=null,Ae.style.position=null,Ae.style.pointerEvents=null)},[h]),H.useLayoutEffect(()=>{if(le.current){const Ae=te.current=fB(Y);if(L.updateMatrixWorld(),d)Y.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Le=S(le.current,B,U);Y.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Le[0]}px,${Le[1]}px,0);transform-origin:0 0;`}return W&&(r?W.prepend(Y):W.appendChild(Y)),()=>{W&&W.removeChild(Y),Ae.unmount()}}},[W,d]),H.useLayoutEffect(()=>{w&&(Y.className=w)},[w]);const $=H.useMemo(()=>d?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,d]),Oe=H.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);H.useLayoutEffect(()=>{if(ye.current=!1,d){var Ae;(Ae=te.current)==null||Ae.render(H.createElement("div",{ref:j,style:$},H.createElement("div",{ref:ae,style:Oe},H.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Le;(Le=te.current)==null||Le.render(H.createElement("div",{ref:R,style:$,className:i,children:n}))}});const ke=H.useRef(!0);kd(Ae=>{if(le.current){B.updateMatrixWorld(),le.current.updateWorldMatrix(!0,!1);const Le=d?V.current:S(le.current,B,U);if(d||Math.abs(O.current-B.zoom)>e||Math.abs(V.current[0]-Le[0])>e||Math.abs(V.current[1]-Le[1])>e){const de=s9(le.current,B);let re=!1;xe&&(h!=="blending"?re=[L]:Array.isArray(h)&&(re=h.map(Qe=>Qe.current)));const we=ke.current;if(re){const Qe=o9(le.current,B,Z,re);ke.current=Qe&&!de}else ke.current=!de;we!==ke.current&&(p?p(!ke.current):Y.style.display=ke.current?"block":"none");const Ue=Math.floor(_[0]/2),Pe=h?xe?[_[0],Ue]:[Ue-1,0]:_;if(Y.style.zIndex=`${l9(le.current,B,Pe)}`,d){const[Qe,je]=[U.width/2,U.height/2],Ve=B.projectionMatrix.elements[5]*je,{isOrthographicCamera:yt,top:St,left:N,bottom:I,right:ie}=B,Se=u9(B.matrixWorldInverse),Ce=yt?`scale(${Ve})translate(${G_(-(ie+N)/2)}px,${G_((St+I)/2)}px)`:`translateZ(${Ve}px)`;let be=le.current.matrixWorld;c&&(be=B.matrixWorldInverse.clone().transpose().copyPosition(be).scale(le.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),Y.style.width=U.width+"px",Y.style.height=U.height+"px",Y.style.perspective=yt?"":`${Ve}px`,j.current&&ae.current&&(j.current.style.transform=`${Ce}${Se}translate(${Qe}px,${je}px)`,ae.current.style.transform=c9(be,1/((l||10)/400)))}else{const Qe=l===void 0?1:a9(le.current,B)*l;Y.style.transform=`translate3d(${Le[0]}px,${Le[1]}px,0) scale(${Qe})`}V.current=Le,O.current=B.zoom}}if(!xe&&ce.current&&!ye.current)if(d){if(j.current){const Le=j.current.children[0];if(Le!=null&&Le.clientWidth&&Le!=null&&Le.clientHeight){const{isOrthographicCamera:de}=B;if(de||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof D?ce.current.scale.copy(P.scale.clone().divideScalar(1)):ce.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):ce.current.scale.setScalar(1/P.scale));else{const re=(l||10)/400,we=Le.clientWidth*re,Ue=Le.clientHeight*re;ce.current.scale.set(we,Ue,1)}ye.current=!0}}}else{const Le=Y.children[0];if(Le!=null&&Le.clientWidth&&Le!=null&&Le.clientHeight){const de=1/G.factor,re=Le.clientWidth*de,we=Le.clientHeight*de;ce.current.scale.set(re,we,1),ye.current=!0}ce.current.lookAt(Ae.camera.position)}});const Ge=H.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return H.createElement("group",Nr({},P,{ref:le}),h&&!xe&&H.createElement("mesh",{castShadow:m,receiveShadow:y,ref:ce},x||H.createElement("planeGeometry",null),v||H.createElement("shaderMaterial",{side:Rr,vertexShader:Ge.vertexShader,fragmentShader:Ge.fragmentShader})))});let Yc=0;const h9=d3(n=>(mu.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Yc)/(i-Yc)*100})},mu.onLoad=()=>{n({active:!1})},mu.onError=e=>n(t=>({errors:[...t.errors,e]})),mu.onProgress=(e,t,i)=>{t===i&&(Yc=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Yc)/(i-Yc)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function D3(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Tu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(t),!0).forEach(function(i){Tu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new pe;new pe;function F3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var or=function n(e,t,i){var r=this;F3(this,n),Tu(this,"dot2",function(s,o){return r.x*s+r.y*o}),Tu(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},p9=[new or(1,1,0),new or(-1,1,0),new or(1,-1,0),new or(-1,-1,0),new or(1,0,1),new or(-1,0,1),new or(1,0,-1),new or(-1,0,-1),new or(0,1,1),new or(0,-1,1),new or(0,1,-1),new or(0,-1,-1)],yT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],vT=new Array(512),xT=new Array(512),m9=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=yT[t]^e&255:i=yT[t]^e>>8&255,vT[t]=vT[t+256]=i,xT[t]=xT[t+256]=p9[i%12]}};m9(0);function g9(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function _T(n){var e=g9(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var y9=function n(e){var t=this;F3(this,n),Tu(this,"seed",0),Tu(this,"init",function(i){t.seed=i,t.value=_T(i)}),Tu(this,"value",_T(this.seed)),this.init(e)},v9=new y9(Math.random()),x9={radius:1,center:[0,0,0]};function _9(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v9,i=gT(gT({},x9),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,d=t.value()*2-1,h=Math.sqrt(l*l+c*c+d*d);l=a*l/h,c=a*c/h,d=a*d/h,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=d*r+s[2]}return n}function rd(n){return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(n)}function A9(n,e){if(rd(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(rd(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function S9(n){var e=A9(n,"string");return rd(e)==="symbol"?e:String(e)}function at(n,e,t){return e=S9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const AT=(n,e)=>(n%e+e)%e;let M9=class extends cs{constructor(e,t){super(),at(this,"object",void 0),at(this,"domElement",void 0),at(this,"enabled",!0),at(this,"target",new D),at(this,"minDistance",0),at(this,"maxDistance",1/0),at(this,"minZoom",0),at(this,"maxZoom",1/0),at(this,"minPolarAngle",0),at(this,"maxPolarAngle",Math.PI),at(this,"minAzimuthAngle",-1/0),at(this,"maxAzimuthAngle",1/0),at(this,"enableDamping",!1),at(this,"dampingFactor",.05),at(this,"enableZoom",!0),at(this,"zoomSpeed",1),at(this,"enableRotate",!0),at(this,"rotateSpeed",1),at(this,"enablePan",!0),at(this,"panSpeed",1),at(this,"screenSpacePanning",!0),at(this,"keyPanSpeed",7),at(this,"autoRotate",!1),at(this,"autoRotateSpeed",2),at(this,"reverseOrbit",!1),at(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),at(this,"mouseButtons",{LEFT:Pa.ROTATE,MIDDLE:Pa.DOLLY,RIGHT:Pa.PAN}),at(this,"touches",{ONE:Ba.ROTATE,TWO:Ba.DOLLY_PAN}),at(this,"target0",void 0),at(this,"position0",void 0),at(this,"zoom0",void 0),at(this,"_domElementKeyEvents",null),at(this,"getPolarAngle",void 0),at(this,"getAzimuthalAngle",void 0),at(this,"setPolarAngle",void 0),at(this,"setAzimuthalAngle",void 0),at(this,"getDistance",void 0),at(this,"listenToKeyEvents",void 0),at(this,"saveState",void 0),at(this,"reset",void 0),at(this,"update",void 0),at(this,"connect",void 0),at(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof zt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=z=>{let se=AT(z,2*Math.PI),_e=d.phi;_e<0&&(_e+=2*Math.PI),se<0&&(se+=2*Math.PI);let Te=Math.abs(se-_e);2*Math.PI-Te<Te&&(se<_e?se+=2*Math.PI:_e+=2*Math.PI),h.phi=se-_e,i.update()},this.setAzimuthalAngle=z=>{let se=AT(z,2*Math.PI),_e=d.theta;_e<0&&(_e+=2*Math.PI),se<0&&(se+=2*Math.PI);let Te=Math.abs(se-_e);2*Math.PI-Te<Te&&(se<_e?se+=2*Math.PI:_e+=2*Math.PI),h.theta=se-_e,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=z=>{z.addEventListener("keydown",ie),this._domElementKeyEvents=z},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof zt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof zt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const z=new D,se=new Jn().setFromUnitVectors(e.up,new D(0,1,0)),_e=se.clone().invert(),Te=new D,qe=new Jn,gt=2*Math.PI;return function(){const K=i.object.position;z.copy(K).sub(i.target),z.applyQuaternion(se),d.setFromVector3(z),i.autoRotate&&l===a.NONE&&Z(L()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let ue=i.minAzimuthAngle,ve=i.maxAzimuthAngle;return isFinite(ue)&&isFinite(ve)&&(ue<-Math.PI?ue+=gt:ue>Math.PI&&(ue-=gt),ve<-Math.PI?ve+=gt:ve>Math.PI&&(ve-=gt),ue<=ve?d.theta=Math.max(ue,Math.min(ve,d.theta)):d.theta=d.theta>(ue+ve)/2?Math.max(ue,d.theta):Math.min(ve,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),z.setFromSpherical(d),z.applyQuaternion(_e),K.copy(i.target).add(z),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Te.distanceToSquared(i.object.position)>c||8*(1-qe.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Te.copy(i.object.position),qe.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=z=>{z===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=z,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",be),i.domElement.addEventListener("pointerdown",Qe),i.domElement.addEventListener("pointercancel",yt),i.domElement.addEventListener("wheel",I)},this.dispose=()=>{var z,se,_e,Te,qe,gt;(z=i.domElement)===null||z===void 0||z.removeEventListener("contextmenu",be),(se=i.domElement)===null||se===void 0||se.removeEventListener("pointerdown",Qe),(_e=i.domElement)===null||_e===void 0||_e.removeEventListener("pointercancel",yt),(Te=i.domElement)===null||Te===void 0||Te.removeEventListener("wheel",I),(qe=i.domElement)===null||qe===void 0||qe.ownerDocument.removeEventListener("pointermove",je),(gt=i.domElement)===null||gt===void 0||gt.ownerDocument.removeEventListener("pointerup",Ve),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ie)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new D_,h=new D_;let p=1;const m=new D;let y=!1;const v=new pe,x=new pe,_=new pe,S=new pe,M=new pe,w=new pe,b=new pe,P=new pe,R=new pe,E=[],B={};function L(){return 2*Math.PI/60/60*i.autoRotateSpeed}function U(){return Math.pow(.95,i.zoomSpeed)}function Z(z){i.reverseOrbit?h.theta+=z:h.theta-=z}function J(z){i.reverseOrbit?h.phi+=z:h.phi-=z}const G=(()=>{const z=new D;return function(_e,Te){z.setFromMatrixColumn(Te,0),z.multiplyScalar(-_e),m.add(z)}})(),Y=(()=>{const z=new D;return function(_e,Te){i.screenSpacePanning===!0?z.setFromMatrixColumn(Te,1):(z.setFromMatrixColumn(Te,0),z.crossVectors(i.object.up,z)),z.multiplyScalar(_e),m.add(z)}})(),te=(()=>{const z=new D;return function(_e,Te){const qe=i.domElement;if(qe&&i.object instanceof zt&&i.object.isPerspectiveCamera){const gt=i.object.position;z.copy(gt).sub(i.target);let Ht=z.length();Ht*=Math.tan(i.object.fov/2*Math.PI/180),G(2*_e*Ht/qe.clientHeight,i.object.matrix),Y(2*Te*Ht/qe.clientHeight,i.object.matrix)}else qe&&i.object instanceof Fr&&i.object.isOrthographicCamera?(G(_e*(i.object.right-i.object.left)/i.object.zoom/qe.clientWidth,i.object.matrix),Y(Te*(i.object.top-i.object.bottom)/i.object.zoom/qe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function le(z){i.object instanceof zt&&i.object.isPerspectiveCamera?p/=z:i.object instanceof Fr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*z)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function O(z){i.object instanceof zt&&i.object.isPerspectiveCamera?p*=z:i.object instanceof Fr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/z)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(z){v.set(z.clientX,z.clientY)}function j(z){b.set(z.clientX,z.clientY)}function ae(z){S.set(z.clientX,z.clientY)}function W(z){x.set(z.clientX,z.clientY),_.subVectors(x,v).multiplyScalar(i.rotateSpeed);const se=i.domElement;se&&(Z(2*Math.PI*_.x/se.clientHeight),J(2*Math.PI*_.y/se.clientHeight)),v.copy(x),i.update()}function ce(z){P.set(z.clientX,z.clientY),R.subVectors(P,b),R.y>0?le(U()):R.y<0&&O(U()),b.copy(P),i.update()}function ye(z){M.set(z.clientX,z.clientY),w.subVectors(M,S).multiplyScalar(i.panSpeed),te(w.x,w.y),S.copy(M),i.update()}function xe(z){z.deltaY<0?O(U()):z.deltaY>0&&le(U()),i.update()}function $(z){let se=!1;switch(z.code){case i.keys.UP:te(0,i.keyPanSpeed),se=!0;break;case i.keys.BOTTOM:te(0,-i.keyPanSpeed),se=!0;break;case i.keys.LEFT:te(i.keyPanSpeed,0),se=!0;break;case i.keys.RIGHT:te(-i.keyPanSpeed,0),se=!0;break}se&&(z.preventDefault(),i.update())}function Oe(){if(E.length==1)v.set(E[0].pageX,E[0].pageY);else{const z=.5*(E[0].pageX+E[1].pageX),se=.5*(E[0].pageY+E[1].pageY);v.set(z,se)}}function ke(){if(E.length==1)S.set(E[0].pageX,E[0].pageY);else{const z=.5*(E[0].pageX+E[1].pageX),se=.5*(E[0].pageY+E[1].pageY);S.set(z,se)}}function Ge(){const z=E[0].pageX-E[1].pageX,se=E[0].pageY-E[1].pageY,_e=Math.sqrt(z*z+se*se);b.set(0,_e)}function Ae(){i.enableZoom&&Ge(),i.enablePan&&ke()}function Le(){i.enableZoom&&Ge(),i.enableRotate&&Oe()}function de(z){if(E.length==1)x.set(z.pageX,z.pageY);else{const _e=Je(z),Te=.5*(z.pageX+_e.x),qe=.5*(z.pageY+_e.y);x.set(Te,qe)}_.subVectors(x,v).multiplyScalar(i.rotateSpeed);const se=i.domElement;se&&(Z(2*Math.PI*_.x/se.clientHeight),J(2*Math.PI*_.y/se.clientHeight)),v.copy(x)}function re(z){if(E.length==1)M.set(z.pageX,z.pageY);else{const se=Je(z),_e=.5*(z.pageX+se.x),Te=.5*(z.pageY+se.y);M.set(_e,Te)}w.subVectors(M,S).multiplyScalar(i.panSpeed),te(w.x,w.y),S.copy(M)}function we(z){const se=Je(z),_e=z.pageX-se.x,Te=z.pageY-se.y,qe=Math.sqrt(_e*_e+Te*Te);P.set(0,qe),R.set(0,Math.pow(P.y/b.y,i.zoomSpeed)),le(R.y),b.copy(P)}function Ue(z){i.enableZoom&&we(z),i.enablePan&&re(z)}function Pe(z){i.enableZoom&&we(z),i.enableRotate&&de(z)}function Qe(z){if(i.enabled!==!1){if(E.length===0){var se,_e;(se=i.domElement)===null||se===void 0||se.ownerDocument.addEventListener("pointermove",je),(_e=i.domElement)===null||_e===void 0||_e.ownerDocument.addEventListener("pointerup",Ve)}tt(z),z.pointerType==="touch"?Se(z):St(z)}}function je(z){i.enabled!==!1&&(z.pointerType==="touch"?Ce(z):N(z))}function Ve(z){if(Ie(z),E.length===0){var se,_e,Te;(se=i.domElement)===null||se===void 0||se.releasePointerCapture(z.pointerId),(_e=i.domElement)===null||_e===void 0||_e.ownerDocument.removeEventListener("pointermove",je),(Te=i.domElement)===null||Te===void 0||Te.ownerDocument.removeEventListener("pointerup",Ve)}i.dispatchEvent(o),l=a.NONE}function yt(z){Ie(z)}function St(z){let se;switch(z.button){case 0:se=i.mouseButtons.LEFT;break;case 1:se=i.mouseButtons.MIDDLE;break;case 2:se=i.mouseButtons.RIGHT;break;default:se=-1}switch(se){case Pa.DOLLY:if(i.enableZoom===!1)return;j(z),l=a.DOLLY;break;case Pa.ROTATE:if(z.ctrlKey||z.metaKey||z.shiftKey){if(i.enablePan===!1)return;ae(z),l=a.PAN}else{if(i.enableRotate===!1)return;V(z),l=a.ROTATE}break;case Pa.PAN:if(z.ctrlKey||z.metaKey||z.shiftKey){if(i.enableRotate===!1)return;V(z),l=a.ROTATE}else{if(i.enablePan===!1)return;ae(z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function N(z){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;W(z);break;case a.DOLLY:if(i.enableZoom===!1)return;ce(z);break;case a.PAN:if(i.enablePan===!1)return;ye(z);break}}function I(z){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(z.preventDefault(),i.dispatchEvent(s),xe(z),i.dispatchEvent(o))}function ie(z){i.enabled===!1||i.enablePan===!1||$(z)}function Se(z){switch(me(z),E.length){case 1:switch(i.touches.ONE){case Ba.ROTATE:if(i.enableRotate===!1)return;Oe(),l=a.TOUCH_ROTATE;break;case Ba.PAN:if(i.enablePan===!1)return;ke(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ba.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Ba.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Le(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ce(z){switch(me(z),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;de(z),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;re(z),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ue(z),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Pe(z),i.update();break;default:l=a.NONE}}function be(z){i.enabled!==!1&&z.preventDefault()}function tt(z){E.push(z)}function Ie(z){delete B[z.pointerId];for(let se=0;se<E.length;se++)if(E[se].pointerId==z.pointerId){E.splice(se,1);return}}function me(z){let se=B[z.pointerId];se===void 0&&(se=new pe,B[z.pointerId]=se),se.set(z.pageX,z.pageY)}function Je(z){const se=z.pointerId===E[0].pointerId?E[1]:E[0];return B[se.pointerId]}t!==void 0&&this.connect(t),this.update()}};class $A extends yi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new b9(t)}),this.register(function(t){return new F9(t)}),this.register(function(t){return new O9(t)}),this.register(function(t){return new B9(t)}),this.register(function(t){return new R9(t)}),this.register(function(t){return new L9(t)}),this.register(function(t){return new I9(t)}),this.register(function(t){return new T9(t)}),this.register(function(t){return new D9(t)}),this.register(function(t){return new P9(t)}),this.register(function(t){return new C9(t)}),this.register(function(t){return new k9(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=rs.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(rs.decodeText(new Uint8Array(e,0,4))===O3){try{o[vt.KHR_BINARY_GLTF]=new N9(e)}catch(h){r&&r(h);return}s=o[vt.KHR_BINARY_GLTF].content}else s=rs.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Z9(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](c);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const h=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(h){case vt.KHR_MATERIALS_UNLIT:o[h]=new E9;break;case vt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new G9;break;case vt.KHR_DRACO_MESH_COMPRESSION:o[h]=new U9(l,this.dracoLoader);break;case vt.KHR_TEXTURE_TRANSFORM:o[h]=new z9;break;case vt.KHR_MESH_QUANTIZATION:o[h]=new H9;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function w9(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const vt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class C9{constructor(e){this.parser=e,this.name=vt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Re(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new jA(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new WA(d),c.distance=h;break;case"spot":c=new VA(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class E9{constructor(){this.name=vt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ui}extendParams(e,t,i){const r=[];e.color=new Re(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,wt))}return Promise.all(r)}}class T9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class b9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class P9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class B9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Re(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,wt)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class R9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class L9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Re(a[0],a[1],a[2]),Promise.all(s)}}class I9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class D9{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Re(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,wt)),Promise.all(s)}}class F9{constructor(e){this.parser=e,this.name=vt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class O9{constructor(e){this.parser=e,this.name=vt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class k9{constructor(e){this.name=vt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}const O3="glTF",Qc=12,ST={JSON:1313821514,BIN:5130562};class N9{constructor(e){this.name=vt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Qc);if(this.header={magic:rs.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==O3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Qc,r=new DataView(e,Qc);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===ST.JSON){const l=new Uint8Array(e,Qc+s,o);this.content=rs.decodeText(l)}else if(a===ST.BIN){const l=Qc+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class U9{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const h=V_[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=V_[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=sd[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],v=l[m];v!==void 0&&(y.normalized=v)}h(p)},a,c)})})}}class z9{constructor(){this.name=vt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class H_ extends ic{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Re().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class G9{constructor(){this.name=vt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return H_}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new Re(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,wt)),e.emissive=new Re(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new Re(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,wt))}return Promise.all(s)}createMaterial(e){const t=new H_(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=qs,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class H9{constructor(){this.name=vt.KHR_MESH_QUANTIZATION}}class k3 extends rc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*c,v=y-c,x=-2*m+3*p,_=m-p,S=1-x,M=_-p+h;for(let w=0;w!==a;w++){const b=o[v+w+a],P=o[v+w+l]*d,R=o[y+w+a],E=o[y+w]*d;s[w]=S*b+M*P+x*R+_*E}return s}}const V9=new Jn;class W9 extends k3{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return V9.fromArray(s).normalize().toArray(s),s}}const bs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},sd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},MT={9728:pn,9729:nn,9984:Xf,9985:Hg,9986:Cu,9987:as},wT={33071:Wn,33648:Fu,10497:Jo},CT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},go={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},j9={CUBICSPLINE:void 0,LINEAR:ll,STEP:ku},Dv={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function J9(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ic({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:os})),n.DefaultMaterial}function Zc(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function La(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function X9(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function K9(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Y9(n){const e=n.extensions&&n.extensions[vt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+ET(e.attributes):t=n.indices+":"+ET(n.attributes)+":"+n.mode,t}function ET(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function W_(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Q9(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Z9{constructor(e={},t={}){var i,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new w9,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new e3(this.options.manager):this.textureLoader=new a3(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Vi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Zc(s,a,r),La(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[vt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(rs.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=CT[r.type],c=sd[r.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let v,x;if(m&&m!==h){const _=Math.floor(p/m),S="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let M=t.cache.get(S);M||(v=new c(a,_*m,r.count*m/d),M=new Ad(v,m/d),t.cache.add(S,M)),x=new Xo(M,l,p%m/d,y)}else a===null?v=new c(r.count*l):v=new c(a,p,r.count*l),x=new It(v,l,y);if(r.sparse!==void 0){const _=CT.SCALAR,S=sd[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,b=new S(o[1],M,r.sparse.count*_),P=new c(o[2],w,r.sparse.count*l);a!==null&&(x=new It(x.array.slice(),x.itemSize,x.normalized));for(let R=0,E=b.length;R<E;R++){const B=b[R];if(x.setX(B,P[R*l]),l>=2&&x.setY(B,P[R*l+1]),l>=3&&x.setZ(B,P[R*l+2]),l>=4&&x.setW(B,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=MT[p.magFilter]||nn,d.minFilter=MT[p.minFilter]||as,d.wrapS=wT[p.wrapS]||Jo,d.wrapT=wT[p.wrapT]||Jo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(v){const x=new Qt(v);x.needsUpdate=!0,p(x)}),t.load(rs.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||Q9(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[vt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[vt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[vt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Md,Cn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ri,Cn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return ic}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[vt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=r[vt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else if(l[vt.KHR_MATERIALS_UNLIT]){const h=r[vt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Re(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,wt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Rr);const d=s.alphaMode||Dv.OPAQUE;if(d===Dv.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Dv.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ui&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Ui&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ui&&(a.emissive=new Re().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ui&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,wt)),Promise.all(c).then(function(){let h;return o===H_?h=r[vt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),La(h,s),t.associations.set(h,{materials:e}),s.extensions&&Zc(r,h,s),h})}createUniqueName(e){const t=Et.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[vt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return TT(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=Y9(c),h=r[d];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[vt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=TT(new lt,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?J9(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],x=o[m];let _;const S=c[m];if(x.mode===bs.TRIANGLES||x.mode===bs.TRIANGLE_STRIP||x.mode===bs.TRIANGLE_FAN||x.mode===void 0)_=s.isSkinnedMesh===!0?new TA(v,S):new zn(v,S),_.isSkinnedMesh===!0&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),x.mode===bs.TRIANGLE_STRIP?_.geometry=bT(_.geometry,lR):x.mode===bs.TRIANGLE_FAN&&(_.geometry=bT(_.geometry,hA));else if(x.mode===bs.LINES)_=new Ur(v,S);else if(x.mode===bs.LINE_STRIP)_=new Qs(v,S);else if(x.mode===bs.LINE_LOOP)_=new bA(v,S);else if(x.mode===bs.POINTS)_=new PA(v,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(_.geometry.morphAttributes).length>0&&K9(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),La(_,s),x.extensions&&Zc(r,_,x),t.assignFinalMaterial(_),h.push(_)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Ns;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new zt(pR.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Fr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),La(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,d=i.channels.length;c<d;c++){const h=i.channels[c],p=i.samplers[h.sampler],m=h.target,y=m.node,v=i.parameters!==void 0?i.parameters[p.input]:p.input,x=i.parameters!==void 0?i.parameters[p.output]:p.output;r.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2],m=c[3],y=c[4],v=[];for(let _=0,S=d.length;_<S;_++){const M=d[_],w=h[_],b=p[_],P=m[_],R=y[_];if(M===void 0)continue;M.updateMatrix();let E;switch(go[R.path]){case go.weights:E=Gu;break;case go.rotation:E=Ko;break;case go.position:case go.scale:default:E=Hu;break}const B=M.name?M.name:M.uuid,L=P.interpolation!==void 0?j9[P.interpolation]:ll,U=[];go[R.path]===go.weights?M.traverse(function(J){J.morphTargetInfluences&&U.push(J.name?J.name:J.uuid)}):U.push(B);let Z=b.array;if(b.normalized){const J=W_(Z.constructor),G=new Float32Array(Z.length);for(let Y=0,te=Z.length;Y<te;Y++)G[Y]=Z[Y]*J;Z=G}for(let J=0,G=U.length;J<G;J++){const Y=new E(U[J]+"."+go[R.path],w.array,Z,L);P.interpolation==="CUBICSPLINE"&&(Y.createInterpolant=function(le){const O=this instanceof Ko?W9:k3;return new O(this.times,this.values,this.getValueSize()/3,le)},Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(Y)}}const x=i.name?i.name:"animation_"+e;return new Vu(x,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new Yg:a.length>1?l=new Ns:a.length===1?l=a[0]:l=new Pt,l!==a[0])for(let c=0,d=a.length;c<d;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),La(l,s),s.extensions&&Zc(i,l,s),s.matrix!==void 0){const c=new rt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new Ns;r.name&&(o.name=s.createUniqueName(r.name)),La(o,r),r.extensions&&Zc(i,o,r);const a=r.nodes||[],l=[];for(let c=0,d=a.length;c<d;c++)l.push(N3(a[c],o,t,s));return Promise.all(l).then(function(){const c=d=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof Cn||p instanceof Qt)&&h.set(p,m);return d.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=c(o),o})}}function N3(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,d=o.joints.length;c<d;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],d=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){c.push(m);const y=new rt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,h*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new Sd(c,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++){const d=a[l];o.push(N3(d,s,t,i))}}return Promise.all(o)})}function q9(n,e,t){const i=e.attributes,r=new ta;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const d=W_(sd[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,d=s.length;c<d;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const v=W_(sd[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new na;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function TT(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=V_[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return La(n,e),q9(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?X9(n,e.targets,t):n})}function bT(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===hA)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}const Fv=new WeakMap;class $9 extends yi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Vi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Fv.has(e)){const l=Fv.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Fv.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new lt;e.index&&t.setIndex(new It(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new It(o,a))}return t}_loadLibrary(e,t){const i=new Vi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=e8.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function e8(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,c),v=y.attributes.map(x=>x.array.buffer);y.index&&v.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},v)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,h=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in d){const _=self[h[x]];let S,M;if(c.useUniqueIDs)M=d[x],S=a.GetAttributeByUniqueId(p,M);else{if(M=a.GetAttributeId(p,o[d[x]]),M===-1)continue;S=a.GetAttribute(p,M)}v.attributes.push(r(o,a,p,x,_,S))}return y===o.TRIANGULAR_MESH&&(v.index=i(o,a,p)),o.destroy(p),v}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,d,h){const p=h.num_components(),y=l.num_points()*p,v=y*d.BYTES_PER_ELEMENT,x=s(o,d),_=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,x,v,_);const S=new d(o.HEAPF32.buffer,_,y).slice();return o._free(_),{name:c,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let qp;const Ov=()=>{if(qp)return qp;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const v=h.charCodeAt(y);p[y]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,v,x){const _=s.exports.sbrk,S=m+3&-4,M=_(S*y),w=_(v.length),b=new Uint8Array(s.exports.memory.buffer);b.set(v,w);const P=h(M,m,y,w,v.length);if(P===0&&x&&x(M,S,y),p.set(b.subarray(M,M+m*y)),_(M-_(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return qp={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,v){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[c[v]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,v,x){l(s.exports[d[v]],h,p,m,y,s.exports[c[x]])}},qp};let $p=null;function U3(n,e,t){return i=>{t&&t(i),n&&($p||($p=new $9),$p.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader($p)),e&&i.setMeshoptDecoder(typeof Ov=="function"?Ov():Ov)}}function eS(n,e=!0,t=!0,i){return Nd($A,n,U3(e,t,i))}eS.preload=(n,e=!0,t=!0,i)=>Nd.preload($A,n,U3(e,t,i));eS.clear=n=>Nd.clear($A,n);const t8=H.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const d=ur(b=>b.invalidate),h=ur(b=>b.camera),p=ur(b=>b.gl),m=ur(b=>b.events),y=ur(b=>b.setEvents),v=ur(b=>b.set),x=ur(b=>b.get),_=ur(b=>b.performance),S=e||h,M=i||m.connected||p.domElement,w=H.useMemo(()=>new M9(S),[S]);return kd(()=>{w.enabled&&w.update()},-1),H.useEffect(()=>(w.connect(M),()=>void w.dispose()),[M,t,w,d]),H.useEffect(()=>{const b=E=>{d(),t&&_.regress(),s&&s(E)},P=E=>{o&&o(E)},R=E=>{a&&a(E)};return w.addEventListener("change",b),w.addEventListener("start",P),w.addEventListener("end",R),()=>{w.removeEventListener("start",P),w.removeEventListener("end",R),w.removeEventListener("change",b)}},[s,o,a,w,d,y]),H.useEffect(()=>{if(n){const b=x().controls;return v({controls:w}),()=>v({controls:b})}},[n,w]),H.createElement("primitive",Nr({ref:c,object:w,enableDamping:r},l))});class n8 extends Md{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${r?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const i8=H.forwardRef((n,e)=>{const[t]=H.useState(()=>new n8(null));return H.createElement("primitive",Nr({},n,{object:t,ref:e,attach:"material"}))});let wa,qc;const r8=H.createContext(null),PT=new rt,BT=new D,s8=H.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=H.useRef(null),[o,a]=H.useState([]),[[l,c,d]]=H.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);H.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),kd(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),PT.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),wa=0;wa<o.length;wa++)qc=o[wa].current,qc.getWorldPosition(BT).applyMatrix4(PT),BT.toArray(l,wa*3),s.current.geometry.attributes.position.needsUpdate=!0,qc.matrixWorldNeedsUpdate=!0,qc.color.toArray(c,wa*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([qc.size],wa),s.current.geometry.attributes.size.needsUpdate=!0});const h=H.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(y=>y.current!==p.current)))}),[]);return H.createElement("points",Nr({userData:{instances:o},matrixAutoUpdate:!1,ref:D3([r,s]),raycast:()=>null},i),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Za}),H.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:Za}),H.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:Za})),H.createElement(r8.Provider,{value:h},n))}),o8=H.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=H.useRef(null);return kd(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),H.createElement("points",Nr({ref:D3([o,a])},s),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:Za}),t&&H.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:Za}),i&&H.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:Za})),n)}),a8=H.forwardRef((n,e)=>n.positions instanceof Float32Array?H.createElement(o8,Nr({},n,{ref:e})):H.createElement(s8,Nr({},n,{ref:e})));var Yo={},l8={get exports(){return Yo},set exports(n){Yo=n}},u8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c8=u8,f8=c8;function z3(){}function G3(){}G3.resetWarningCache=z3;var d8=function(){function n(i,r,s,o,a,l){if(l!==f8){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G3,resetWarningCache:z3};return t.PropTypes=t,t};l8.exports=d8();function H3({all:n,scene:e,camera:t}){const i=ur(({gl:o})=>o),r=ur(({camera:o})=>o),s=ur(({scene:o})=>o);return H.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new _A(128);new xA(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const h8=()=>{const{progress:n}=h9();return Un(d9,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[et("span",{className:"canvas-loader"}),Un("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},p8=({isMobile:n})=>{const{scene:e}=eS("./desktop_pc/scene.gltf");return e.traverse(t=>{if(t.isMesh){const i=t.geometry.attributes.position;for(let r=0;r<i.count;r++)if(isNaN(i.getX(r))||isNaN(i.getY(r))||isNaN(i.getZ(r))){console.error("NaN value found in position attribute");return}}}),Un("mesh",{children:[et("hemisphereLight",{intensity:.15,groundColor:"black"}),et("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),et("pointLight",{intensity:1}),et("primitive",{object:e,scale:n?.7:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},m8=()=>{const[n,e]=H.useState(!1);return H.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),Un(L3,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},onCreated:({gl:t})=>()=>{t.dispose()},children:[Un(H.Suspense,{fallback:et(h8,{}),children:[et(t8,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),et(p8,{isMobile:n})]}),et(H3,{all:!0})]})},g8=n=>{const e=H.useRef(),[t]=H.useState(()=>_9(new Float32Array(5e3),{radius:1.2}));return kd((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),et("group",{rotation:[0,0,Math.PI/4],children:et(a8,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:et(i8,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},y8=()=>et("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:Un(L3,{camera:{position:[0,0,1]},children:[et(H.Suspense,{fallback:null,children:et(g8,{})}),et(H3,{all:!0})]})}),V3=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),t0=H.createContext({});function v8(){return H.useContext(t0).visualElement}const tS=H.createContext(null),n0=typeof document<"u",RT=n0?H.useLayoutEffect:H.useEffect,W3=H.createContext({strict:!1});function x8(n,e,t,i){const r=v8(),s=H.useContext(W3),o=H.useContext(tS),a=H.useContext(V3).reducedMotion,l=H.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return H.useInsertionEffect(()=>{c&&c.update(t,o)}),RT(()=>{c&&c.render()}),H.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?RT:H.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function gu(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _8(n,e,t){return H.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):gu(t)&&(t.current=i))},[e])}function od(n){return typeof n=="string"||Array.isArray(n)}function i0(n){return typeof n=="object"&&typeof n.start=="function"}const nS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iS=["initial",...nS];function r0(n){return i0(n.animate)||iS.some(e=>od(n[e]))}function j3(n){return Boolean(r0(n)||n.variants)}function A8(n,e){if(r0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||od(t)?t:void 0,animate:od(i)?i:void 0}}return n.inherit!==!1?e:{}}function S8(n){const{initial:e,animate:t}=A8(n,H.useContext(t0));return H.useMemo(()=>({initial:e,animate:t}),[LT(e),LT(t)])}function LT(n){return Array.isArray(n)?n.join(" "):n}const IT={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ad={};for(const n in IT)ad[n]={isEnabled:e=>IT[n].some(t=>!!e[t])};function M8(n){for(const e in n)ad[e]={...ad[e],...n[e]}}function J3(n){const e=H.useRef(null);return e.current===null&&(e.current=n()),e.current}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let w8=1;function C8(){return J3(()=>{if(Af.hasEverUpdated)return w8++})}const X3=H.createContext({}),K3=H.createContext({}),E8=Symbol.for("motionComponentSymbol");function T8({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&M8(n);function s(a,l){let c;const d={...H.useContext(V3),...a,layoutId:b8(a)},{isStatic:h}=d,p=S8(a),m=h?void 0:C8(),y=i(a,h);if(!h&&n0){p.visualElement=x8(r,y,d,e);const v=H.useContext(K3),x=H.useContext(W3).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,x,n,m,v))}return H.createElement(t0.Provider,{value:p},c&&p.visualElement?H.createElement(c,{visualElement:p.visualElement,...d}):null,t(r,a,m,_8(y,p.visualElement,l),y,h,p.visualElement))}const o=H.forwardRef(s);return o[E8]=r,o}function b8({layoutId:n}){const e=H.useContext(X3).id;return e&&n!==void 0?e+"-"+n:n}function P8(n){function e(i,r={}){return T8(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const B8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rS(n){return typeof n!="string"||n.includes("-")?!1:!!(B8.indexOf(n)>-1||/[A-Z]/.test(n))}const dg={};function R8(n){Object.assign(dg,n)}const s0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yl=new Set(s0);function Y3(n,{layout:e,layoutId:t}){return yl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!dg[n]||n==="opacity")}const Bi=n=>Boolean(n&&n.getVelocity),L8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I8=s0.length;function D8(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<I8;o++){const a=s0[o];if(n[a]!==void 0){const l=L8[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const Q3=n=>e=>typeof e=="string"&&e.startsWith(n),Z3=Q3("--"),j_=Q3("var(--"),F8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ju=(n,e,t)=>Math.min(Math.max(t,n),e),vl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sf={...vl,transform:n=>ju(0,1,n)},em={...vl,default:1},Mf=n=>Math.round(n*1e5)/1e5,ld=/(-)?([\d]*\.?[\d])+/g,J_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,O8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zd(n){return typeof n=="string"}const Gd=n=>({test:e=>zd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ao=Gd("deg"),ss=Gd("%"),nt=Gd("px"),k8=Gd("vh"),N8=Gd("vw"),DT={...ss,parse:n=>ss.parse(n)/100,transform:n=>ss.transform(n*100)},FT={...vl,transform:Math.round},q3={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,size:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:Ao,skewX:Ao,skewY:Ao,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:Sf,originX:DT,originY:DT,originZ:nt,zIndex:FT,fillOpacity:Sf,strokeOpacity:Sf,numOctaves:FT};function sS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const h in e){const p=e[h];if(Z3(h)){s[h]=p;continue}const m=q3[h],y=F8(p,m);if(yl.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=D8(n.transform,t,d,i):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const oS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $3(n,e,t){for(const i in e)!Bi(e[i])&&!Y3(i,t)&&(n[i]=e[i])}function U8({transformTemplate:n},e,t){return H.useMemo(()=>{const i=oS();return sS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function z8(n,e,t){const i=n.style||{},r={};return $3(r,i,n),Object.assign(r,U8(n,e,t)),n.transformValues?n.transformValues(r):r}function G8(n,e,t){const i={},r=z8(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const H8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function hg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||H8.has(n)}let eL=n=>!hg(n);function V8(n){n&&(eL=e=>e.startsWith("on")?!hg(e):n(e))}try{V8(require("@emotion/is-prop-valid").default)}catch{}function W8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(eL(r)||t===!0&&hg(r)||!e&&!hg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function OT(n,e,t){return typeof n=="string"?n:nt.transform(e+t*n)}function j8(n,e,t){const i=OT(e,n.x,n.width),r=OT(t,n.y,n.height);return`${i} ${r}`}const J8={offset:"stroke-dashoffset",array:"stroke-dasharray"},X8={offset:"strokeDashoffset",array:"strokeDasharray"};function K8(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?J8:X8;n[s.offset]=nt.transform(-i);const o=nt.transform(e),a=nt.transform(t);n[s.array]=`${o} ${a}`}function aS(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,d,h){if(sS(n,l,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=j8(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&K8(p,s,o,a,!1)}const tL=()=>({...oS(),attrs:{}}),lS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Y8(n,e,t,i){const r=H.useMemo(()=>{const s=tL();return aS(s,e,{enableHardwareAcceleration:!1},lS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};$3(s,n.style,n),r.style={...s,...r.style}}return r}function Q8(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const c=(rS(t)?Y8:G8)(i,o,a,t),h={...W8(i,typeof t=="string",n),...c,ref:s},{children:p}=i,m=H.useMemo(()=>Bi(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),H.createElement(t,{...h,children:m})}}const uS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function nL(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const iL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rL(n,e,t,i){nL(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(iL.has(r)?r:uS(r),e.attrs[r])}function cS(n,e){const{style:t}=n,i={};for(const r in t)(Bi(t[r])||e.style&&Bi(e.style[r])||Y3(r,n))&&(i[r]=t[r]);return i}function sL(n,e){const t=cS(n,e);for(const i in n)if(Bi(n[i])||Bi(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function fS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const pg=n=>Array.isArray(n),Z8=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),q8=n=>pg(n)?n[n.length-1]||0:n;function Rm(n){const e=Bi(n)?n.get():n;return Z8(e)?e.toValue():e}function $8({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:e6(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const oL=n=>(e,t)=>{const i=H.useContext(t0),r=H.useContext(tS),s=()=>$8(n,e,i,r);return t?s():J3(s)};function e6(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Rm(s[p]);let{initial:o,animate:a}=n;const l=r0(n),c=j3(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!i0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=fS(n,m);if(!y)return;const{transitionEnd:v,transition:x,..._}=y;for(const S in _){let M=_[S];if(Array.isArray(M)){const w=d?M.length-1:0;M=M[w]}M!==null&&(r[S]=M)}for(const S in v)r[S]=v[S]}),r}const t6={useVisualState:oL({scrapeMotionValuesFromProps:sL,createRenderState:tL,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}aS(t,i,{enableHardwareAcceleration:!1},lS(e.tagName),n.transformTemplate),rL(e,t)}})},n6={useVisualState:oL({scrapeMotionValuesFromProps:cS,createRenderState:oS})};function i6(n,{forwardMotionProps:e=!1},t,i){return{...rS(n)?t6:n6,preloadedFeatures:t,useRender:Q8(e),createVisualElement:i,Component:n}}function Us(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const aL=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function o0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const r6=n=>e=>aL(e)&&n(e,o0(e));function Hs(n,e,t,i){return Us(n,e,r6(t),i)}const s6=(n,e)=>t=>e(n(t)),Go=(...n)=>n.reduce(s6);function lL(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const kT=lL("dragHorizontal"),NT=lL("dragVertical");function uL(n){let e=!1;if(n==="y")e=NT();else if(n==="x")e=kT();else{const t=kT(),i=NT();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function cL(){const n=uL(!0);return n?(n(),!1):!0}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function UT(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||cL())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Hs(n.current,t,r,{passive:!n.getProps()[i]})}class o6 extends sa{mount(){this.unmount=Go(UT(this.node,!0),UT(this.node,!1))}unmount(){}}class a6 extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Go(Us(this.node.current,"focus",()=>this.onFocus()),Us(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fL=(n,e)=>e?n===e?!0:fL(n,e.parentElement):!1,mr=n=>n;function kv(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,o0(t))}class l6 extends sa{constructor(){super(...arguments),this.removeStartListeners=mr,this.removeEndListeners=mr,this.removeAccessibleListeners=mr,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Hs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d}=this.node.getProps();fL(this.node.current,a.target)?c&&c(a,l):d&&d(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=Hs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Go(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kv("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=Us(this.node.current,"keyup",o),kv("down",(a,l)=>{this.startPress(a,l)})},t=Us(this.node.current,"keydown",e),i=()=>{this.isPressing&&kv("cancel",(s,o)=>this.cancelPress(s,o))},r=Us(this.node.current,"blur",i);this.removeAccessibleListeners=Go(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cL()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Hs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Us(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Go(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const X_=new WeakMap,Nv=new WeakMap,u6=n=>{const e=X_.get(n.target);e&&e(n)},c6=n=>{n.forEach(u6)};function f6({root:n,...e}){const t=n||document;Nv.has(t)||Nv.set(t,{});const i=Nv.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(c6,{root:n,...e})),i[r]}function d6(n,e,t){const i=f6(e);return X_.set(n,t),i.observe(n),()=>{X_.delete(n),i.unobserve(n)}}const h6={some:0,all:1};class p6 extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:h6[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=d?h:p;m&&m(c)};return d6(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(m6(e,t))&&this.startObserver()}unmount(){}}function m6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const g6={inView:{Feature:p6},tap:{Feature:l6},focus:{Feature:a6},hover:{Feature:o6}};function dL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const y6=n=>/^\-?\d*\.?\d+$/.test(n),v6=n=>/^0[^.\s]+$/.test(n),Vs={delta:0,timestamp:0},hL=1/60*1e3,x6=typeof performance<"u"?()=>performance.now():()=>Date.now(),pL=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(x6()),hL);function _6(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&r,p=h?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let c=0;c<i;c++){const d=e[c];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const A6=40;let K_=!0,ud=!1,Y_=!1;const Hd=["read","update","preRender","render","postRender"],a0=Hd.reduce((n,e)=>(n[e]=_6(()=>ud=!0),n),{}),pi=Hd.reduce((n,e)=>{const t=a0[e];return n[e]=(i,r=!1,s=!1)=>(ud||M6(),t.schedule(i,r,s)),n},{}),Qo=Hd.reduce((n,e)=>(n[e]=a0[e].cancel,n),{}),Uv=Hd.reduce((n,e)=>(n[e]=()=>a0[e].process(Vs),n),{}),S6=n=>a0[n].process(Vs),mL=n=>{ud=!1,Vs.delta=K_?hL:Math.max(Math.min(n-Vs.timestamp,A6),1),Vs.timestamp=n,Y_=!0,Hd.forEach(S6),Y_=!1,ud&&(K_=!1,pL(mL))},M6=()=>{ud=!0,K_=!0,Y_||pL(mL)};function dS(n,e){n.indexOf(e)===-1&&n.push(e)}function hS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class pS{constructor(){this.subscriptions=[]}add(e){return dS(this.subscriptions,e),()=>hS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mS(n,e){return e?n*(1e3/e):0}const w6=n=>!isNaN(parseFloat(n));class C6{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Vs;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,pi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=w6(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pS);const i=this.events[e].add(t);return e==="change"?()=>{i(),pi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ju(n,e){return new C6(n,e)}const gS=(n,e)=>t=>Boolean(zd(t)&&O8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),gL=(n,e,t)=>i=>{if(!zd(i))return i;const[r,s,o,a]=i.match(ld);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},E6=n=>ju(0,255,n),zv={...vl,transform:n=>Math.round(E6(n))},Ja={test:gS("rgb","red"),parse:gL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+zv.transform(n)+", "+zv.transform(e)+", "+zv.transform(t)+", "+Mf(Sf.transform(i))+")"};function T6(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Q_={test:gS("#"),parse:T6,transform:Ja.transform},yu={test:gS("hsl","hue"),parse:gL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ss.transform(Mf(e))+", "+ss.transform(Mf(t))+", "+Mf(Sf.transform(i))+")"},ci={test:n=>Ja.test(n)||Q_.test(n)||yu.test(n),parse:n=>Ja.test(n)?Ja.parse(n):yu.test(n)?yu.parse(n):Q_.parse(n),transform:n=>zd(n)?n:n.hasOwnProperty("red")?Ja.transform(n):yu.transform(n)},yL="${c}",vL="${n}";function b6(n){var e,t;return isNaN(n)&&zd(n)&&(((e=n.match(ld))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(J_))===null||t===void 0?void 0:t.length)||0)>0}function mg(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(J_);r&&(t=r.length,n=n.replace(J_,yL),e.push(...r.map(ci.parse)));const s=n.match(ld);return s&&(i=s.length,n=n.replace(ld,vL),e.push(...s.map(vl.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function xL(n){return mg(n).values}function _L(n){const{values:e,numColors:t,tokenised:i}=mg(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?yL:vL,a<t?ci.transform(s[a]):Mf(s[a]));return o}}const P6=n=>typeof n=="number"?0:n;function B6(n){const e=xL(n);return _L(n)(e.map(P6))}const Zo={test:b6,parse:xL,createTransformer:_L,getAnimatableNone:B6},R6=new Set(["brightness","contrast","saturate","opacity"]);function L6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(ld)||[];if(!i)return n;const r=t.replace(i,"");let s=R6.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const I6=/([a-z-]*)\(.*?\)/g,Z_={...Zo,getAnimatableNone:n=>{const e=n.match(I6);return e?e.map(L6).join(" "):n}},D6={...q3,color:ci,backgroundColor:ci,outlineColor:ci,fill:ci,stroke:ci,borderColor:ci,borderTopColor:ci,borderRightColor:ci,borderBottomColor:ci,borderLeftColor:ci,filter:Z_,WebkitFilter:Z_},yS=n=>D6[n];function vS(n,e){let t=yS(n);return t!==Z_&&(t=Zo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AL=n=>e=>e.test(n),F6={test:n=>n==="auto",parse:n=>n},SL=[vl,nt,ss,Ao,N8,k8,F6],$c=n=>SL.find(AL(n)),O6=[...SL,ci,Zo],k6=n=>O6.find(AL(n));function N6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function U6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function l0(n,e,t){const i=n.getProps();return fS(i,e,t!==void 0?t:i.custom,N6(n),U6(n))}function z6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ju(t))}function G6(n,e){const t=l0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=q8(s[o]);z6(n,o,a)}}function H6(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(y6(d)||v6(d))?d=parseFloat(d):!k6(d)&&Zo.test(c)&&(d=vS(l,c)),n.addValue(l,Ju(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function V6(n,e){return e?(e[n]||e.default||e).from:void 0}function W6(n,e,t){const i={};for(const r in n){const s=V6(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function gg(n){return Boolean(Bi(n)&&n.add)}const j6="framerAppearId",J6="data-"+uS(j6);let X6=mr,yg=mr;const Lm=n=>n*1e3,K6={current:!1},xS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_S=n=>e=>1-n(1-e),AS=n=>n*n,Y6=_S(AS),SS=xS(AS),sn=(n,e,t)=>-t*n+t*e+n;function Gv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Q6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Gv(l,a,n+1/3),s=Gv(l,a,n),o=Gv(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Hv=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},Z6=[Q_,Ja,yu],q6=n=>Z6.find(e=>e.test(n));function zT(n){const e=q6(n);let t=e.parse(n);return e===yu&&(t=Q6(t)),t}const ML=(n,e)=>{const t=zT(n),i=zT(e),r={...t};return s=>(r.red=Hv(t.red,i.red,s),r.green=Hv(t.green,i.green,s),r.blue=Hv(t.blue,i.blue,s),r.alpha=sn(t.alpha,i.alpha,s),Ja.transform(r))};function wL(n,e){return typeof n=="number"?t=>sn(n,e,t):ci.test(n)?ML(n,e):EL(n,e)}const CL=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>wL(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},$6=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=wL(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},EL=(n,e)=>{const t=Zo.createTransformer(e),i=mg(n),r=mg(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Go(CL(i.values,r.values),t):o=>`${o>0?e:n}`},cd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},GT=(n,e)=>t=>sn(n,e,t);function eW(n){return typeof n=="number"?GT:typeof n=="string"?ci.test(n)?ML:EL:Array.isArray(n)?CL:typeof n=="object"?$6:GT}function tW(n,e,t){const i=[],r=t||eW(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Go(l,a)}i.push(a)}return i}function TL(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;yg(s===e.length),yg(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=tW(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=cd(n[d],n[d+1],c);return o[d](h)};return t?c=>l(ju(n[0],n[s-1],c)):l}function nW(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=cd(0,e,i);n.push(sn(t,1,r))}}function iW(n){const e=[0];return nW(e,n.length-1),e}function rW(n,e){return n.map(t=>t*e)}const bL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,sW=1e-7,oW=12;function aW(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=bL(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>sW&&++a<oW);return o}function PL(n,e,t,i){if(n===e&&t===i)return mr;const r=s=>aW(s,0,1,n,t);return s=>s===0||s===1?s:bL(r(s),e,i)}const BL=n=>1-Math.sin(Math.acos(n)),MS=_S(BL),lW=xS(MS),RL=PL(.33,1.53,.69,.99),wS=_S(RL),uW=xS(wS),cW=n=>(n*=2)<1?.5*wS(n):.5*(2-Math.pow(2,-10*(n-1))),fW={linear:mr,easeIn:AS,easeInOut:SS,easeOut:Y6,circIn:BL,circInOut:lW,circOut:MS,backIn:wS,backInOut:uW,backOut:RL,anticipate:cW},HT=n=>{if(Array.isArray(n)){yg(n.length===4);const[e,t,i,r]=n;return PL(e,t,i,r)}else if(typeof n=="string")return fW[n];return n},dW=n=>Array.isArray(n)&&typeof n[0]!="number";function hW(n,e){return n.map(()=>e||SS).splice(0,n.length-1)}function q_({keyframes:n,ease:e=SS,times:t,duration:i=300}){n=[...n];const r=dW(e)?e.map(HT):HT(e),s={done:!1,value:n[0]},o=rW(t&&t.length===n.length?t:iW(n),i);function a(){return TL(o,n,{ease:Array.isArray(r)?r:hW(n,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{n.reverse(),l=a()}}}const Vv=.001,pW=.01,VT=10,mW=.05,gW=1;function yW({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;X6(n<=VT*1e3);let o=1-e;o=ju(mW,gW,o),n=ju(pW,VT,n/1e3),o<1?(r=c=>{const d=c*o,h=d*n,p=d-t,m=$_(c,o),y=Math.exp(-h);return Vv-p/m*y},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-h),v=$_(Math.pow(c,2),o);return(-r(c)+Vv>0?-1:1)*((p-m)*y)/v}):(r=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-Vv+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=xW(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const vW=12;function xW(n,e,t){let i=t;for(let r=1;r<vW;r++)i=i-n(i)/e(i);return i}function $_(n,e){return n*Math.sqrt(1-e*e)}const _W=["duration","bounce"],AW=["stiffness","damping","mass"];function WT(n,e){return e.some(t=>n[t]!==void 0)}function SW(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!WT(n,AW)&&WT(n,_W)){const t=yW(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const MW=5;function LL({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:d,duration:h,isResolvedFromDuration:p}=SW(i);let m=wW,y=d?-(d/1e3):0;const v=l/(2*Math.sqrt(a*c));function x(){const _=s-r,S=Math.sqrt(a/c)/1e3,M=Math.abs(_)<5;if(t||(t=M?.01:2),e||(e=M?.005:.5),v<1){const w=$_(S,v);m=b=>{const P=Math.exp(-v*S*b);return s-P*((y+v*S*_)/w*Math.sin(w*b)+_*Math.cos(w*b))}}else if(v===1)m=w=>s-Math.exp(-S*w)*(_+(y+S*_)*w);else{const w=S*Math.sqrt(v*v-1);m=b=>{const P=Math.exp(-v*S*b),R=Math.min(w*b,300);return s-P*((y+v*S*_)*Math.sinh(R)+w*_*Math.cosh(R))/w}}}return x(),{next:_=>{const S=m(_);if(p)o.done=_>=h;else{let M=y;if(_!==0)if(v<1){const P=Math.max(0,_-MW);M=mS(S-m(P),_-P)}else M=0;const w=Math.abs(M)<=t,b=Math.abs(s-S)<=e;o.done=w&&b}return o.value=o.done?s:S,o},flipTarget:()=>{y=-y,[r,s]=[s,r],x()}}}LL.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const wW=n=>0;function CW({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const c=o+l,d=s===void 0?c:s(c);return d!==c&&(l=d-o),{next:h=>{const p=-l*Math.exp(-h/i);return a.done=!(p>r||p<-r),a.value=a.done?d:d+p,a},flipTarget:()=>{}}}const EW={decay:CW,keyframes:q_,tween:q_,spring:LL};function IL(n,e,t=0){return n-e-t}function TW(n,e=0,t=0,i=!0){return i?IL(e+-n,e,t):e-(n-e)+t}function bW(n,e,t,i){return i?n>=e+t:n<=-t}const PW=n=>{const e=({delta:t})=>n(t);return{start:()=>pi.update(e,!0),stop:()=>Qo.update(e)}};function vg({duration:n,driver:e=PW,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:d,onRepeat:h,onUpdate:p,type:m="keyframes",...y}){const v=t;let x,_=0,S=n,M=!1,w=!0,b;const P=EW[o.length>2?"keyframes":m]||q_,R=o[0],E=o[o.length-1];let B={done:!1,value:R};const{needsInterpolation:L}=P;L&&L(R,E)&&(b=TL([0,100],[R,E],{clamp:!1}),o=[0,100]);const U=P({...y,duration:n,keyframes:o});function Z(){_++,r==="reverse"?(w=_%2===0,t=TW(t,S,s,w)):(t=IL(t,S,s),r==="mirror"&&U.flipTarget()),M=!1,h&&h()}function J(){x&&x.stop(),d&&d()}function G(te){w||(te=-te),t+=te,M||(B=U.next(Math.max(0,t)),b&&(B.value=b(B.value)),M=w?B.done:t<=0),p&&p(B.value),M&&(_===0&&(S=S!==void 0?S:t),_<i?bW(t,S,s,w)&&Z():J())}function Y(){l&&l(),x=e(G),x.start()}return a&&Y(),{stop:()=>{c&&c(),x&&x.stop()},set currentTime(te){t=v,G(te)},sample:te=>{t=v;const le=n&&typeof n=="number"?Math.max(n*.5,50):50;let O=0;for(G(0);O<=te;){const V=te-O;G(Math.min(V,le)),O+=le}return B}}}function BW(n){return!n||Array.isArray(n)||typeof n=="string"&&DL[n]}const af=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,DL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:af([0,.65,.55,1]),circOut:af([.55,0,1,.45]),backIn:af([.31,.01,.66,-.59]),backOut:af([.33,1.53,.69,.99])};function RW(n){if(n)return Array.isArray(n)?af(n):DL[n]}function LW(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:i,duration:r,easing:RW(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const jT={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Wv={},FL={};for(const n in jT)FL[n]=()=>(Wv[n]===void 0&&(Wv[n]=jT[n]()),Wv[n]);function IW(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const DW=new Set(["opacity","clipPath","filter","transform"]),tm=10;function FW(n,e,{onUpdate:t,onComplete:i,...r}){if(!(FL.waapi()&&DW.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!BW(r.ease)){if(r.repeat===1/0)return;const h=vg({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let y=0;for(;!p.done&&y<2e4;)p=h.sample(y),m.push(p.value),y+=tm;o=m,a=y-tm,c="linear"}const d=LW(n.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return d.onfinish=()=>{n.set(IW(o,r)),pi.update(()=>d.cancel()),i&&i()},{get currentTime(){return d.currentTime||0},set currentTime(h){d.currentTime=h},stop:()=>{const{currentTime:h}=d;if(h){const p=vg({...r,autoplay:!1});n.setWithVelocity(p.sample(h-tm).value,p.sample(h).value,tm)}pi.update(()=>d.cancel())}}}function OL(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Qo.read(i),n(s-e))};return pi.read(i,!0),()=>Qo.read(i)}function OW({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:OL(r,-e)}:r()}function kW({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:d,onUpdate:h,onComplete:p,onStop:m}){const y=n[0];let v;function x(w){return t!==void 0&&w<t||i!==void 0&&w>i}function _(w){return t===void 0?i:i===void 0||Math.abs(t-w)<Math.abs(i-w)?t:i}function S(w){v&&v.stop(),v=vg({keyframes:[0,1],velocity:0,...w,driver:d,onUpdate:b=>{h&&h(b),w.onUpdate&&w.onUpdate(b)},onComplete:p,onStop:m})}function M(w){S({type:"spring",stiffness:o,damping:a,restDelta:l,...w})}if(x(y))M({velocity:e,keyframes:[y,_(y)]});else{let w=r*e+y;typeof c<"u"&&(w=c(w));const b=_(w),P=b===t?-1:1;let R,E;const B=L=>{R=E,E=L,e=mS(L-R,Vs.delta),(P===1&&L>b||P===-1&&L<b)&&M({keyframes:[L,b],velocity:e})};S({type:"decay",keyframes:[y,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:x(w)?B:void 0})}return{stop:()=>v&&v.stop()}}const NW={type:"spring",stiffness:500,damping:25,restSpeed:10},UW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),zW={type:"keyframes",duration:.8},GW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HW=(n,{keyframes:e})=>e.length>2?zW:yl.has(n)?n.startsWith("scale")?UW(e[1]):NW:GW,e1=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Zo.test(e)&&!e.startsWith("url("));function VW({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function JT(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function XT(n){return typeof n=="number"?0:vS("",n)}function kL(n,e){return n[e]||n.default||n}function WW(n,e,t,i){const r=e1(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=vS(e,t):JT(s)&&typeof t=="string"?s=XT(t):!Array.isArray(t)&&JT(t)&&typeof s=="string"&&(t=XT(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const CS=(n,e,t,i={})=>r=>{const s=kL(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Lm(o);const l=WW(e,n,t,s),c=l[0],d=l[l.length-1],h=e1(n,c),p=e1(n,d);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!p||K6.current||s.type===!1)return OW(m);if(s.type==="inertia")return kW(m);if(VW(s)||(m={...m,...HW(n,m)}),m.duration&&(m.duration=Lm(m.duration)),m.repeatDelay&&(m.repeatDelay=Lm(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=FW(e,n,m);if(y)return y}return vg(m)};function jW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>t1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=t1(n,e,t);else{const r=typeof e=="function"?l0(n,e,t.custom):e;i=NL(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function t1(n,e,t={}){const i=l0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>NL(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=r;return JW(n,e,c+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(t.delay)])}function NL(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&KW(d,h))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=n.getProps()[J6];x&&(y.elapsed=window.HandoffAppearAnimations(x,h,p,pi))}let v=p.start(CS(h,p,m,n.shouldReduceMotion&&yl.has(h)?{type:!1}:y));gg(l)&&(l.add(h),v=v.then(()=>l.remove(h))),c.push(v)}return Promise.all(c).then(()=>{o&&G6(n,o)})}function JW(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(XW).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(t1(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function XW(n,e){return n.sortNodePosition(e)}function KW({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const YW=[...nS].reverse(),QW=nS.length;function ZW(n){return e=>Promise.all(e.map(({animation:t,options:i})=>jW(n,t,i)))}function qW(n){let e=ZW(n);const t=e7();let i=!0;const r=(l,c)=>{const d=l0(n,c);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},v=1/0;for(let _=0;_<QW;_++){const S=YW[_],M=t[S],w=d[S]!==void 0?d[S]:h[S],b=od(w),P=S===c?M.isActive:null;P===!1&&(v=_);let R=w===h[S]&&w!==d[S]&&b;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...y},!M.isActive&&P===null||!w&&!M.prevProp||i0(w)||typeof w=="boolean")continue;const E=$W(M.prevProp,w);let B=E||S===c&&M.isActive&&!R&&b||_>v&&b;const L=Array.isArray(w)?w:[w];let U=L.reduce(r,{});P===!1&&(U={});const{prevResolvedValues:Z={}}=M,J={...Z,...U},G=Y=>{B=!0,m.delete(Y),M.needsAnimating[Y]=!0};for(const Y in J){const te=U[Y],le=Z[Y];y.hasOwnProperty(Y)||(te!==le?pg(te)&&pg(le)?!dL(te,le)||E?G(Y):M.protectedKeys[Y]=!0:te!==void 0?G(Y):m.add(Y):te!==void 0&&m.has(Y)?G(Y):M.protectedKeys[Y]=!0)}M.prevProp=w,M.prevResolvedValues=U,M.isActive&&(y={...y,...U}),i&&n.blockInitialAnimation&&(B=!1),B&&!R&&p.push(...L.map(Y=>({animation:Y,options:{type:S,...l}})))}if(m.size){const _={};m.forEach(S=>{const M=n.getBaseTarget(S);M!==void 0&&(_[S]=M)}),p.push({animation:_})}let x=Boolean(p.length);return i&&d.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,c,d){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function $W(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!dL(e,n):!1}function Ca(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e7(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class t7 extends sa{constructor(e){super(e),e.animationState||(e.animationState=qW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),i0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let n7=0;class i7 extends sa{constructor(){super(...arguments),this.id=n7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const r7={animation:{Feature:t7},exit:{Feature:i7}},KT=(n,e)=>Math.abs(n-e);function s7(n,e){const t=KT(n.x,e.x),i=KT(n.y,e.y);return Math.sqrt(t**2+i**2)}class UL{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Jv(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=s7(c.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=c,{timestamp:m}=Vs;this.history.push({...p,timestamp:m});const{onStart:y,onMove:v}=this.handlers;d||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,d)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=jv(d,this.transformPagePoint),pi.update(this.updatePoint,!0)},this.handlePointerUp=(c,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=Jv(c.type==="pointercancel"?this.lastMoveEventInfo:jv(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),p&&p(c,m)},!aL(e))return;this.handlers=t,this.transformPagePoint=i;const r=o0(e),s=jv(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Vs;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Jv(s,this.history)),this.removeListeners=Go(Hs(window,"pointermove",this.handlePointerMove),Hs(window,"pointerup",this.handlePointerUp),Hs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qo.update(this.updatePoint)}}function jv(n,e){return e?{point:e(n.point)}:n}function YT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jv({point:n},e){return{point:n,delta:YT(n,zL(e)),offset:YT(n,o7(e)),velocity:a7(e,.1)}}function o7(n){return n[0]}function zL(n){return n[n.length-1]}function a7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=zL(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Lm(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wi(n){return n.max-n.min}function n1(n,e=0,t=.01){return Math.abs(n-e)<=t}function QT(n,e,t,i=.5){n.origin=i,n.originPoint=sn(e.min,e.max,n.origin),n.scale=Wi(t)/Wi(e),(n1(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=sn(t.min,t.max,n.origin)-n.originPoint,(n1(n.translate)||isNaN(n.translate))&&(n.translate=0)}function wf(n,e,t,i){QT(n.x,e.x,t.x,i?i.originX:void 0),QT(n.y,e.y,t.y,i?i.originY:void 0)}function ZT(n,e,t){n.min=t.min+e.min,n.max=n.min+Wi(e)}function l7(n,e,t){ZT(n.x,e.x,t.x),ZT(n.y,e.y,t.y)}function qT(n,e,t){n.min=e.min-t.min,n.max=n.min+Wi(e)}function Cf(n,e,t){qT(n.x,e.x,t.x),qT(n.y,e.y,t.y)}function u7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?sn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?sn(t,n,i.max):Math.min(n,t)),n}function $T(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function c7(n,{top:e,left:t,bottom:i,right:r}){return{x:$T(n.x,t,r),y:$T(n.y,e,i)}}function eb(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function f7(n,e){return{x:eb(n.x,e.x),y:eb(n.y,e.y)}}function d7(n,e){let t=.5;const i=Wi(n),r=Wi(e);return r>i?t=cd(e.min,e.max-i,n.min):i>r&&(t=cd(n.min,n.max-r,e.min)),ju(0,1,t)}function h7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const i1=.35;function p7(n=i1){return n===!1?n=0:n===!0&&(n=i1),{x:tb(n,"left","right"),y:tb(n,"top","bottom")}}function tb(n,e,t){return{min:nb(n,e),max:nb(n,t)}}function nb(n,e){return typeof n=="number"?n:n[e]||0}const ib=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ef=()=>({x:ib(),y:ib()}),rb=()=>({min:0,max:0}),Mn=()=>({x:rb(),y:rb()});function qr(n){return[n("x"),n("y")]}function GL({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function m7({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function g7(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Xv(n){return n===void 0||n===1}function r1({scale:n,scaleX:e,scaleY:t}){return!Xv(n)||!Xv(e)||!Xv(t)}function Ia(n){return r1(n)||HL(n)||n.z||n.rotate||n.rotateX||n.rotateY}function HL(n){return sb(n.x)||sb(n.y)}function sb(n){return n&&n!=="0%"}function xg(n,e,t){const i=n-t,r=e*i;return t+r}function ob(n,e,t,i,r){return r!==void 0&&(n=xg(n,r,i)),xg(n,t,i)+e}function s1(n,e=0,t=1,i,r){n.min=ob(n.min,e,t,i,r),n.max=ob(n.max,e,t,i,r)}function VL(n,{x:e,y:t}){s1(n.x,e.translate,e.scale,e.originPoint),s1(n.y,t.translate,t.scale,t.originPoint)}function y7(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VL(n,o)),i&&Ia(s.latestValues)&&vu(n,s.latestValues))}e.x=ab(e.x),e.y=ab(e.y)}function ab(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Co(n,e){n.min=n.min+e,n.max=n.max+e}function lb(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=sn(n.min,n.max,s);s1(n,e[t],e[i],o,e.scale)}const v7=["x","scaleX","originX"],x7=["y","scaleY","originY"];function vu(n,e){lb(n.x,e,v7),lb(n.y,e,x7)}function WL(n,e){return GL(g7(n.getBoundingClientRect(),e))}function _7(n,e,t){const i=WL(n,t),{scroll:r}=e;return r&&(Co(i.x,r.offset.x),Co(i.y,r.offset.y)),i}const A7=new WeakMap;class S7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(o0(l,"page").point)},s=(l,c)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uL(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(y=>{let v=this.getAxisMotionValue(y).get()||0;if(ss.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[y];_&&(v=Wi(_)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&p(l,c);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=c;if(h&&this.currentDirection===null){this.currentDirection=M7(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new UL(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!nm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=u7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&gu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=c7(i.layoutBox,e):this.constraints=!1,this.elastic=p7(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=h7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=_7(i,r.root,this.visualElement.getTransformPagePoint());let o=f7(r.layout.layoutBox,s);if(t){const a=t(m7(o));this.hasMutatedConstraints=!!a,a&&(o=GL(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=qr(d=>{if(!nm(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(CS(e,i,0,t))}stopAnimation(){qr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qr(t=>{const{drag:i}=this.getProps();if(!nm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-sn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!gu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=d7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qr(o=>{if(!nm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(sn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;A7.set(this.visualElement,this);const e=this.visualElement.current,t=Hs(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();gu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Us(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(qr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=i1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function M7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class w7 extends sa{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new S7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}class C7 extends sa{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new UL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function E7(){const n=H.useContext(tS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=H.useId();return H.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function ub(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ef={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(nt.test(n))n=parseFloat(n);else return n;const t=ub(n,e.target.x),i=ub(n,e.target.y);return`${t}% ${i}%`}},jL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function T7(n){const e=jL.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function o1(n,e,t=1){const[i,r]=T7(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():j_(r)?o1(r,e,t+1):r}function b7(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!j_(s))return;const o=o1(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!j_(s))continue;const o=o1(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const cb="_$css",P7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(jL,m=>(s.push(m),cb)));const o=Zo.parse(n);if(o.length>5)return i;const a=Zo.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=d;const h=sn(c,d,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(r){let m=0;p=p.replace(cb,()=>{const y=s[m];return m++,y})}return p}};class B7 extends us.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;R8(R7),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JL(n){const[e,t]=E7(),i=H.useContext(X3);return us.createElement(B7,{...n,layoutGroup:i,switchLayoutGroup:H.useContext(K3),isPresent:e,safeToRemove:t})}const R7={borderRadius:{...ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ef,borderTopRightRadius:ef,borderBottomLeftRadius:ef,borderBottomRightRadius:ef,boxShadow:P7};function L7(n,e,t={}){const i=Bi(n)?n:Ju(n);return i.start(CS("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const XL=["TopLeft","TopRight","BottomLeft","BottomRight"],I7=XL.length,fb=n=>typeof n=="string"?parseFloat(n):n,db=n=>typeof n=="number"||nt.test(n);function D7(n,e,t,i,r,s){r?(n.opacity=sn(0,t.opacity!==void 0?t.opacity:1,F7(i)),n.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,O7(i))):s&&(n.opacity=sn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<I7;o++){const a=`border${XL[o]}Radius`;let l=hb(e,a),c=hb(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||db(l)===db(c)?(n[a]=Math.max(sn(fb(l),fb(c),i),0),(ss.test(c)||ss.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=sn(e.rotate||0,t.rotate||0,i))}function hb(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const F7=KL(0,.5,MS),O7=KL(.5,.95,mr);function KL(n,e,t){return i=>i<n?0:i>e?1:t(cd(n,e,i))}function pb(n,e){n.min=e.min,n.max=e.max}function ar(n,e){pb(n.x,e.x),pb(n.y,e.y)}function mb(n,e,t,i,r){return n-=e,n=xg(n,1/t,i),r!==void 0&&(n=xg(n,1/r,i)),n}function k7(n,e=0,t=1,i=.5,r,s=n,o=n){if(ss.test(e)&&(e=parseFloat(e),e=sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=sn(s.min,s.max,i);n===s&&(a-=e),n.min=mb(n.min,e,t,a,r),n.max=mb(n.max,e,t,a,r)}function gb(n,e,[t,i,r],s,o){k7(n,e[t],e[i],e[r],e.scale,s,o)}const N7=["x","scaleX","originX"],U7=["y","scaleY","originY"];function yb(n,e,t,i){gb(n.x,e,N7,t?t.x:void 0,i?i.x:void 0),gb(n.y,e,U7,t?t.y:void 0,i?i.y:void 0)}function vb(n){return n.translate===0&&n.scale===1}function YL(n){return vb(n.x)&&vb(n.y)}function a1(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function xb(n){return Wi(n.x)/Wi(n.y)}class z7{constructor(){this.members=[]}add(e){dS(this.members,e),e.scheduleRender()}remove(e){if(hS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _b(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const G7=(n,e)=>n.depth-e.depth;class H7{constructor(){this.children=[],this.isDirty=!1}add(e){dS(this.children,e),this.isDirty=!0}remove(e){hS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G7),this.isDirty=!1,this.children.forEach(e)}}function V7(n){window.MotionDebug&&window.MotionDebug.record(n)}const Ab=["","X","Y","Z"],Sb=1e3;let W7=0;const Da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=W7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Da.totalNodes=Da.resolvedTargetDeltas=Da.recalculatedProjection=0,this.nodes.forEach(X7),this.nodes.forEach(Z7),this.nodes.forEach(q7),this.nodes.forEach(K7),V7(Da)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new H7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=OL(p,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(wb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||ij,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=d.getProps(),S=!this.targetLayout||!a1(this.targetLayout,y)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,M);const w={...kL(v,"layout"),onPlay:x,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else!p&&this.animationProgress===0&&wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qo.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mb);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(rj),this.potentialNodes.clear()),this.nodes.forEach(Q7),this.nodes.forEach(j7),this.nodes.forEach(J7),this.clearAllSnapshots(),Uv.update(),Uv.preRender(),Uv.render())}clearAllSnapshots(){this.nodes.forEach(Y7),this.sharedNodes.forEach(ej)}scheduleUpdateProjection(){pi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!YL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ia(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Mn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Co(a.x,l.offset.x),Co(a.y,l.offset.y)),a}removeElementScroll(o){const a=Mn();ar(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){ar(a,o);const{scroll:p}=this.root;p&&(Co(a.x,-p.offset.x),Co(a.y,-p.offset.y))}Co(a.x,d.offset.x),Co(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Mn();ar(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ia(d.latestValues)&&vu(l,d.latestValues)}return Ia(this.latestValues)&&vu(l,this.latestValues),l}removeTransform(o){const a=Mn();ar(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ia(c.latestValues))continue;r1(c.latestValues)&&c.updateSnapshot();const d=Mn(),h=c.measurePageBox();ar(d,h),yb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ia(this.latestValues)&&yb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Cf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?l7(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),VL(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Cf(this.relativeTargetOrigin,this.target,p.target),ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||r1(this.parent.latestValues)||HL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ar(this.layoutCorrected,this.layout.layoutBox),y7(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Ef(),this.projectionDeltaWithTransform=Ef());const m=this.treeScale.x,y=this.treeScale.y,v=this.projectionTransform;wf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=_b(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Ef();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Mn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),_=!x||x.members.length<=1,S=Boolean(v&&!_&&this.options.crossfade===!0&&!this.path.some(nj));this.animationProgress=0;let M;this.mixTargetDelta=w=>{const b=w/1e3;Cb(h.x,o.x,b),Cb(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tj(this.relativeTarget,this.relativeTargetOrigin,p,b),M&&a1(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Mn()),ar(M,this.relativeTarget)),v&&(this.animationValues=d,D7(d,c,this.latestValues,b,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pi.update(()=>{Af.hasAnimatedSinceResize=!0,this.currentAnimation=L7(0,Sb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Mn();const h=Wi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Wi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ar(a,l),vu(a,d),wf(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new z7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<Ab.length;d++){const h="rotate"+Ab[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Rm(o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Rm(o.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=_b(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in dg){if(p[v]===void 0)continue;const{correct:x,applyTo:_}=dg[v],S=c.transform==="none"?p[v]:x(p[v],h);if(_){const M=_.length;for(let w=0;w<M;w++)c[_[w]]=S}else c[v]=S}return this.options.layoutId&&(c.pointerEvents=h===this?Rm(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Mb),this.root.sharedNodes.clear()}}}function j7(n){n.updateLayout()}function J7(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?qr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Wi(p);p.min=i[h].min,p.max=p.min+m}):ZL(s,t.layoutBox,i)&&qr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Wi(i[h]);p.max=p.min+m});const a=Ef();wf(a,i,t.layoutBox);const l=Ef();o?wf(l,n.applyTransform(r,!0),t.measuredBox):wf(l,i,t.layoutBox);const c=!YL(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Mn();Cf(y,t.layoutBox,p.layoutBox);const v=Mn();Cf(v,i,m.layoutBox),a1(y,v)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function X7(n){Da.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function K7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Y7(n){n.clearSnapshot()}function Mb(n){n.clearMeasurements()}function Q7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function wb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function Z7(n){n.resolveTargetDelta()}function q7(n){n.calcProjection()}function $7(n){n.resetRotation()}function ej(n){n.removeLeadSnapshot()}function Cb(n,e,t){n.translate=sn(e.translate,0,t),n.scale=sn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Eb(n,e,t,i){n.min=sn(e.min,t.min,i),n.max=sn(e.max,t.max,i)}function tj(n,e,t,i){Eb(n.x,e.x,t.x,i),Eb(n.y,e.y,t.y,i)}function nj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ij={duration:.45,ease:[.4,0,.1,1]};function rj(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function Tb(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function sj(n){Tb(n.x),Tb(n.y)}function ZL(n,e,t){return n==="position"||n==="preserve-aspect"&&!n1(xb(e),xb(t),.2)}const oj=QL({attachResizeListener:(n,e)=>Us(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kv={current:void 0},qL=QL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Kv.current){const n=new oj(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Kv.current=n}return Kv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),aj={pan:{Feature:C7},drag:{Feature:w7,ProjectionNode:qL,MeasureLayout:JL}},lj=new Set(["width","height","top","left","right","bottom","x","y"]),$L=n=>lj.has(n),uj=n=>Object.keys(n).some($L),bb=n=>n===vl||n===nt,Pb=(n,e)=>parseFloat(n.split(", ")[e]),Bb=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return Pb(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?Pb(s[1],n):0}},cj=new Set(["x","y","z"]),fj=s0.filter(n=>!cj.has(n));function dj(n){const e=[];return fj.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Rb={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Bb(4,13),y:Bb(5,14)},hj=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=Rb[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=Rb[c](l,s)}),n},pj=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter($L);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=$c(d);const p=e[l];let m;if(pg(p)){const y=p.length,v=p[0]===null?1:0;d=p[v],h=$c(d);for(let x=v;x<y;x++)m?yg($c(p[x])===m):m=$c(p[x])}else m=$c(p);if(h!==m)if(bb(h)&&bb(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===nt&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(p):(o||(s=dj(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=hj(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),n0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function mj(n,e,t,i){return uj(e)?pj(n,e,t,i):{target:e,transitionEnd:i}}const gj=(n,e,t,i)=>{const r=b7(n,e,i);return e=r.target,i=r.transitionEnd,mj(n,e,t,i)},l1={current:null},eI={current:!1};function yj(){if(eI.current=!0,!!n0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>l1.current=n.matches;n.addListener(e),e()}else l1.current=!1}function vj(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Bi(s))n.addValue(r,s),gg(i)&&i.add(r);else if(Bi(o))n.addValue(r,Ju(s,{owner:n})),gg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Ju(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const tI=Object.keys(ad),xj=tI.length,Lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_j=iS.length;class Aj{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=r0(t),this.isVariantNode=j3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&Bi(p)&&(p.set(a[h],!1),gg(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),eI.current||yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qo.update(this.notifyUpdate),Qo.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=yl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&pi.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let c=0;c<xj;c++){const d=tI[c],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:y}=ad[d];m&&(a=m),h(t)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:Boolean(h)||p&&gu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Lb.length;i++){const r=Lb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=vj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<_j;i++){const r=iS[i],s=this.props[r];(od(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Ju(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=fS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nI extends Aj{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=W6(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){H6(this,i,o);const a=gj(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function Sj(n){return window.getComputedStyle(n)}class Mj extends nI{readValueFromInstance(e,t){if(yl.has(t)){const i=yS(t);return i&&i.default||0}else{const i=Sj(e),r=(Z3(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return WL(e,t)}build(e,t,i,r){sS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return cS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){nL(e,t,i,r)}}class wj extends nI{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yl.has(t)){const i=yS(t);return i&&i.default||0}return t=iL.has(t)?t:uS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Mn()}scrapeMotionValuesFromProps(e,t){return sL(e,t)}build(e,t,i,r){aS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){rL(e,t,i,r)}mount(e){this.isSVGTag=lS(e.tagName),super.mount(e)}}const Cj=(n,e)=>rS(n)?new wj(e,{enableHardwareAcceleration:!1}):new Mj(e,{enableHardwareAcceleration:!0}),Ej={layout:{ProjectionNode:qL,MeasureLayout:JL}},Tj={...r7,...g6,...aj,...Ej},bj=P8((n,e)=>i6(n,e,Tj,Cj)),Im={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},Pj=()=>Un("section",{className:"relative w-full h-screen mx-auto",children:[Un("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${Im.paddingX} flex flex-row items-start gap-5`,children:[Un("div",{className:"flex flex-col justify-center items-center mt-5",children:[et("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),et("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Un("div",{children:[Un("h1",{className:`${Im.heroHeadText} text-white`,children:["Hi, I'm ",et("span",{className:"text-[#915EFF]",children:"Zakaria"})]}),Un("p",{className:`${Im.heroSubText} mt-2 text-white-100`,children:["Software Engineer, Cloud & Devops enthousiast ! ",et("br",{className:"sm:block hidden"})]})]})]}),et(m8,{}),et("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:et("a",{href:"#about",children:et("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:et(bj.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]});var dn={},ES={},Vd={},Wd={},iI="Expected a function",Ib=0/0,Bj="[object Symbol]",Rj=/^\s+|\s+$/g,Lj=/^[-+]0x[0-9a-f]+$/i,Ij=/^0b[01]+$/i,Dj=/^0o[0-7]+$/i,Fj=parseInt,Oj=typeof Jh=="object"&&Jh&&Jh.Object===Object&&Jh,kj=typeof self=="object"&&self&&self.Object===Object&&self,Nj=Oj||kj||Function("return this")(),Uj=Object.prototype,zj=Uj.toString,Gj=Math.max,Hj=Math.min,Yv=function(){return Nj.Date.now()};function Vj(n,e,t){var i,r,s,o,a,l,c=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(iI);e=Db(e)||0,_g(t)&&(d=!!t.leading,h="maxWait"in t,s=h?Gj(Db(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(P){var R=i,E=r;return i=r=void 0,c=P,o=n.apply(E,R),o}function y(P){return c=P,a=setTimeout(_,e),d?m(P):o}function v(P){var R=P-l,E=P-c,B=e-R;return h?Hj(B,s-E):B}function x(P){var R=P-l,E=P-c;return l===void 0||R>=e||R<0||h&&E>=s}function _(){var P=Yv();if(x(P))return S(P);a=setTimeout(_,v(P))}function S(P){return a=void 0,p&&i?m(P):(i=r=void 0,o)}function M(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function w(){return a===void 0?o:S(Yv())}function b(){var P=Yv(),R=x(P);if(i=arguments,r=this,l=P,R){if(a===void 0)return y(l);if(h)return a=setTimeout(_,e),m(l)}return a===void 0&&(a=setTimeout(_,e)),o}return b.cancel=M,b.flush=w,b}function Wj(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(iI);return _g(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),Vj(n,e,{leading:i,maxWait:e,trailing:r})}function _g(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function jj(n){return!!n&&typeof n=="object"}function Jj(n){return typeof n=="symbol"||jj(n)&&zj.call(n)==Bj}function Db(n){if(typeof n=="number")return n;if(Jj(n))return Ib;if(_g(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=_g(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Rj,"");var t=Ij.test(n);return t||Dj.test(n)?Fj(n.slice(2),t?2:8):Lj.test(n)?Ib:+n}var Xj=Wj,jd={};Object.defineProperty(jd,"__esModule",{value:!0});jd.addPassiveEventListener=function(e,t,i){var r=i.name;r||(r=t,console.warn("Listener must be a named function.")),Dm.has(t)||Dm.set(t,new Set);var s=Dm.get(t);if(!s.has(r)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(t,i,o?{passive:!0}:!1),s.add(r)}};jd.removePassiveEventListener=function(e,t,i){e.removeEventListener(t,i),Dm.get(t).delete(i.name||t)};var Dm=new Map;Object.defineProperty(Wd,"__esModule",{value:!0});var Kj=Xj,Yj=Zj(Kj),Qj=jd;function Zj(n){return n&&n.__esModule?n:{default:n}}var qj=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Yj.default)(e,t)},qt={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var i=qj(function(r){qt.scrollHandler(e)},t);qt.scrollSpyContainers.push(e),(0,Qj.addPassiveEventListener)(e,"scroll",i)}},isMounted:function(e){return qt.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var t=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var t=qt.scrollSpyContainers[qt.scrollSpyContainers.indexOf(e)].spyCallbacks||[];t.forEach(function(i){return i(qt.currentPositionX(e),qt.currentPositionY(e))})},addStateHandler:function(e){qt.spySetState.push(e)},addSpyHandler:function(e,t){var i=qt.scrollSpyContainers[qt.scrollSpyContainers.indexOf(t)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(e),e(qt.currentPositionX(t),qt.currentPositionY(t))},updateStates:function(){qt.spySetState.forEach(function(e){return e()})},unmount:function(e,t){qt.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(t)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(t),1)}),qt.spySetState&&qt.spySetState.length&&qt.spySetState.indexOf(e)>-1&&qt.spySetState.splice(qt.spySetState.indexOf(e),1),document.removeEventListener("scroll",qt.scrollHandler)},update:function(){return qt.scrollSpyContainers.forEach(function(e){return qt.scrollHandler(e)})}};Wd.default=qt;var sc={},Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});var $j=function(e,t){var i=e.indexOf("#")===0?e.substring(1):e,r=i?"#"+i:"",s=window&&window.location,o=r?s.pathname+s.search+r:s.pathname+s.search;t?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},eJ=function(){return window.location.hash.replace(/^#/,"")},tJ=function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&16)}},nJ=function(e){return getComputedStyle(e).position!=="static"},Qv=function(e,t){for(var i=e.offsetTop,r=e.offsetParent;r&&!t(r);)i+=r.offsetTop,r=r.offsetParent;return{offsetTop:i,offsetParent:r}},iJ=function(e,t,i){if(i)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(nJ(e)){if(t.offsetParent!==e){var r=function(d){return d===e||d===document},s=Qv(t,r),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var l=function(d){return d===document};return Qv(t,l).offsetTop-Qv(e,l).offsetTop};Jd.default={updateHash:$j,getHash:eJ,filterElementInContainer:tJ,scrollOffset:iJ};var u0={},TS={};Object.defineProperty(TS,"__esModule",{value:!0});TS.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var bS={};Object.defineProperty(bS,"__esModule",{value:!0});var rJ=jd,sJ=["mousedown","mousewheel","touchmove","keydown"];bS.default={subscribe:function(e){return typeof document<"u"&&sJ.forEach(function(t){return(0,rJ.addPassiveEventListener)(document,t,e)})}};var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});var u1={registered:{},scrollEvent:{register:function(e,t){u1.registered[e]=t},remove:function(e){u1.registered[e]=null}}};Xd.default=u1;Object.defineProperty(u0,"__esModule",{value:!0});var oJ=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aJ=Jd;c0(aJ);var lJ=TS,Fb=c0(lJ),uJ=bS,cJ=c0(uJ),fJ=Xd,$r=c0(fJ);function c0(n){return n&&n.__esModule?n:{default:n}}var rI=function(e){return Fb.default[e.smooth]||Fb.default.defaultEasing},dJ=function(e){return typeof e=="function"?e:function(){return e}},hJ=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},c1=function(){return hJ()||function(n,e,t){window.setTimeout(n,t||1e3/60,new Date().getTime())}}(),sI=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},oI=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},aI=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},pJ=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var i=document.body,r=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},mJ=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var i=document.body,r=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},gJ=function n(e,t,i){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){$r.default.registered.end&&$r.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:e(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var s=n.bind(null,e,t);c1.call(window,s);return}$r.default.registered.end&&$r.default.registered.end(r.to,r.target,r.currentPosition)},PS=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Kd=function(e,t,i,r){t.data=t.data||sI(),window.clearTimeout(t.data.delayTimeout);var s=function(){t.data.cancel=!0};if(cJ.default.subscribe(s),PS(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?oI(t):aI(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){$r.default.registered.end&&$r.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=dJ(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=i,t.data.target=r;var o=rI(t),a=gJ.bind(null,o,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){$r.default.registered.begin&&$r.default.registered.begin(t.data.to,t.data.target),c1.call(window,a)},t.delay);return}$r.default.registered.begin&&$r.default.registered.begin(t.data.to,t.data.target),c1.call(window,a)},f0=function(e){return e=oJ({},e),e.data=e.data||sI(),e.absolute=!0,e},yJ=function(e){Kd(0,f0(e))},vJ=function(e,t){Kd(e,f0(t))},xJ=function(e){e=f0(e),PS(e),Kd(e.horizontal?pJ(e):mJ(e),e)},_J=function(e,t){t=f0(t),PS(t);var i=t.horizontal?oI(t):aI(t);Kd(e+i,t)};u0.default={animateTopScroll:Kd,getAnimationType:rI,scrollToTop:yJ,scrollToBottom:xJ,scrollTo:vJ,scrollMore:_J};Object.defineProperty(sc,"__esModule",{value:!0});var AJ=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SJ=Jd,MJ=BS(SJ),wJ=u0,CJ=BS(wJ),EJ=Xd,im=BS(EJ);function BS(n){return n&&n.__esModule?n:{default:n}}var rm={},Ob=void 0;sc.default={unmount:function(){rm={}},register:function(e,t){rm[e]=t},unregister:function(e){delete rm[e]},get:function(e){return rm[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return Ob=e},getActiveLink:function(){return Ob},scrollTo:function(e,t){var i=this.get(e);if(!i){console.warn("target Element not found");return}t=AJ({},t,{absolute:!1});var r=t.containerId,s=t.container,o=void 0;r?o=document.getElementById(r):s&&s.nodeType?o=s:o=document,t.absolute=!0;var a=t.horizontal,l=MJ.default.scrollOffset(o,i,a)+(t.offset||0);if(!t.smooth){im.default.registered.begin&&im.default.registered.begin(e,i),o===document?t.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,im.default.registered.end&&im.default.registered.end(e,i);return}CJ.default.animateTopScroll(l,t,e,i)}};var d0={};Object.defineProperty(d0,"__esModule",{value:!0});var TJ=Jd,Zv=bJ(TJ);function bJ(n){return n&&n.__esModule?n:{default:n}}var PJ={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var i=this.scroller,r=i.get(e);if(r&&(t||e!==i.getActiveLink())){var s=this.containers[e]||document;i.scrollTo(e,{container:s})}},getHash:function(){return Zv.default.getHash()},changeHash:function(e,t){this.isInitialized()&&Zv.default.getHash()!==e&&Zv.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};d0.default=PJ;Object.defineProperty(Vd,"__esModule",{value:!0});var sm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BJ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),RJ=H,kb=Yd(RJ),LJ=Wd,om=Yd(LJ),IJ=sc,DJ=Yd(IJ),FJ=Yo,Xt=Yd(FJ),OJ=d0,yo=Yd(OJ);function Yd(n){return n&&n.__esModule?n:{default:n}}function kJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function UJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Nb={to:Xt.default.string.isRequired,containerId:Xt.default.string,container:Xt.default.object,activeClass:Xt.default.string,activeStyle:Xt.default.object,spy:Xt.default.bool,horizontal:Xt.default.bool,smooth:Xt.default.oneOfType([Xt.default.bool,Xt.default.string]),offset:Xt.default.number,delay:Xt.default.number,isDynamic:Xt.default.bool,onClick:Xt.default.func,duration:Xt.default.oneOfType([Xt.default.number,Xt.default.func]),absolute:Xt.default.bool,onSetActive:Xt.default.func,onSetInactive:Xt.default.func,ignoreCancelEvents:Xt.default.bool,hashSpy:Xt.default.bool,saveHashHistory:Xt.default.bool,spyThrottle:Xt.default.number};Vd.default=function(n,e){var t=e||DJ.default,i=function(s){UJ(o,s);function o(a){kJ(this,o);var l=NJ(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return r.call(l),l.state={active:!1},l}return BJ(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,c=this.props.container;return l&&!c?document.getElementById(l):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();om.default.isMounted(l)||om.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(yo.default.isMounted()||yo.default.mount(t),yo.default.mapContainer(this.props.to,l)),om.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){om.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var c={};this.state&&this.state.active?c=sm({},this.props.style,this.props.activeStyle):c=sm({},this.props.style);var d=sm({},this.props);for(var h in Nb)d.hasOwnProperty(h)&&delete d[h];return d.className=l,d.style=c,d.onClick=this.handleClick,kb.default.createElement(n,d)}}]),o}(kb.default.PureComponent),r=function(){var o=this;this.scrollTo=function(a,l){t.scrollTo(a,sm({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var c=o.getScrollSpyContainer();if(!(yo.default.isMounted()&&!yo.default.isInitialized())){var d=o.props.horizontal,h=o.props.to,p=null,m=void 0,y=void 0;if(d){var v=0,x=0,_=0;if(c.getBoundingClientRect){var S=c.getBoundingClientRect();_=S.left}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var M=p.getBoundingClientRect();v=M.left-_+a,x=v+M.width}var w=a-o.props.offset;m=w>=Math.floor(v)&&w<Math.floor(x),y=w<Math.floor(v)||w>=Math.floor(x)}else{var b=0,P=0,R=0;if(c.getBoundingClientRect){var E=c.getBoundingClientRect();R=E.top}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var B=p.getBoundingClientRect();b=B.top-R+l,P=b+B.height}var L=l-o.props.offset;m=L>=Math.floor(b)&&L<Math.floor(P),y=L<Math.floor(b)||L>=Math.floor(P)}var U=t.getActiveLink();if(y){if(h===U&&t.setActiveLink(void 0),o.props.hashSpy&&yo.default.getHash()===h){var Z=o.props.saveHashHistory,J=Z===void 0?!1:Z;yo.default.changeHash("",J)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(m&&(U!==h||o.state.active===!1)){t.setActiveLink(h);var G=o.props.saveHashHistory,Y=G===void 0?!1:G;o.props.hashSpy&&yo.default.changeHash(h,Y),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return i.propTypes=Nb,i.defaultProps={offset:0},i};Object.defineProperty(ES,"__esModule",{value:!0});var zJ=H,Ub=lI(zJ),GJ=Vd,HJ=lI(GJ);function lI(n){return n&&n.__esModule?n:{default:n}}function VJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zb(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function WJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var jJ=function(n){WJ(e,n);function e(){var t,i,r,s;VJ(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(i=(r=zb(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r),r.render=function(){return Ub.default.createElement("a",r.props,r.props.children)},i),zb(r,s)}return e}(Ub.default.Component);ES.default=(0,HJ.default)(jJ);var RS={};Object.defineProperty(RS,"__esModule",{value:!0});var JJ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),XJ=H,Gb=uI(XJ),KJ=Vd,YJ=uI(KJ);function uI(n){return n&&n.__esModule?n:{default:n}}function QJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function qJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var $J=function(n){qJ(e,n);function e(){return QJ(this,e),ZJ(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return JJ(e,[{key:"render",value:function(){return Gb.default.createElement("button",this.props,this.props.children)}}]),e}(Gb.default.Component);RS.default=(0,YJ.default)($J);var LS={},h0={};Object.defineProperty(h0,"__esModule",{value:!0});var eX=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tX=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),nX=H,Hb=p0(nX),iX=Om;p0(iX);var rX=sc,Vb=p0(rX),sX=Yo,Wb=p0(sX);function p0(n){return n&&n.__esModule?n:{default:n}}function oX(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function aX(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function lX(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}h0.default=function(n){var e=function(t){lX(i,t);function i(r){oX(this,i);var s=aX(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return s.childBindings={domNode:null},s}return tX(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Vb.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Vb.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Hb.default.createElement(n,eX({},this.props,{parentBindings:this.childBindings}))}}]),i}(Hb.default.Component);return e.propTypes={name:Wb.default.string,id:Wb.default.string},e};Object.defineProperty(LS,"__esModule",{value:!0});var jb=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uX=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),cX=H,Jb=IS(cX),fX=h0,dX=IS(fX),hX=Yo,Xb=IS(hX);function IS(n){return n&&n.__esModule?n:{default:n}}function pX(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mX(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function gX(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var cI=function(n){gX(e,n);function e(){return pX(this,e),mX(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return uX(e,[{key:"render",value:function(){var i=this,r=jb({},this.props);return delete r.name,r.parentBindings&&delete r.parentBindings,Jb.default.createElement("div",jb({},r,{ref:function(o){i.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(Jb.default.Component);cI.propTypes={name:Xb.default.string,id:Xb.default.string};LS.default=(0,dX.default)(cI);var qv=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kb=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function Yb(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qb(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Zb(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var am=H,Ea=Wd,$v=sc,$t=Yo,vo=d0,qb={to:$t.string.isRequired,containerId:$t.string,container:$t.object,activeClass:$t.string,spy:$t.bool,smooth:$t.oneOfType([$t.bool,$t.string]),offset:$t.number,delay:$t.number,isDynamic:$t.bool,onClick:$t.func,duration:$t.oneOfType([$t.number,$t.func]),absolute:$t.bool,onSetActive:$t.func,onSetInactive:$t.func,ignoreCancelEvents:$t.bool,hashSpy:$t.bool,spyThrottle:$t.number},yX={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=t||$v,r=function(o){Zb(a,o);function a(l){Yb(this,a);var c=Qb(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(c),c.state={active:!1},c}return Kb(a,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,d=this.props.container;return c?document.getElementById(c):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();Ea.isMounted(c)||Ea.mount(c,this.props.spyThrottle),this.props.hashSpy&&(vo.isMounted()||vo.mount(i),vo.mapContainer(this.props.to,c)),this.props.spy&&Ea.addStateHandler(this.stateHandler),Ea.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){Ea.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var d=qv({},this.props);for(var h in qb)d.hasOwnProperty(h)&&delete d[h];return d.className=c,d.onClick=this.handleClick,am.createElement(e,d)}}]),a}(am.Component),s=function(){var a=this;this.scrollTo=function(l,c){i.scrollTo(l,qv({},a.state,c))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){i.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var c=a.getScrollSpyContainer();if(!(vo.isMounted()&&!vo.isInitialized())){var d=a.props.to,h=null,p=0,m=0,y=0;if(c.getBoundingClientRect){var v=c.getBoundingClientRect();y=v.top}if(!h||a.props.isDynamic){if(h=i.get(d),!h)return;var x=h.getBoundingClientRect();p=x.top-y+l,m=p+x.height}var _=l-a.props.offset,S=_>=Math.floor(p)&&_<Math.floor(m),M=_<Math.floor(p)||_>=Math.floor(m),w=i.getActiveLink();if(M)return d===w&&i.setActiveLink(void 0),a.props.hashSpy&&vo.getHash()===d&&vo.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),Ea.updateStates();if(S&&w!==d)return i.setActiveLink(d),a.props.hashSpy&&vo.changeHash(d),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(d)),Ea.updateStates()}}};return r.propTypes=qb,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(i){Zb(r,i);function r(s){Yb(this,r);var o=Qb(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return Kb(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;$v.unregister(this.props.name)}},{key:"registerElems",value:function(o){$v.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return am.createElement(e,qv({},this.props,{parentBindings:this.childBindings}))}}]),r}(am.Component);return t.propTypes={name:$t.string,id:$t.string},t}},vX=yX;Object.defineProperty(dn,"__esModule",{value:!0});dn.Helpers=dn.ScrollElement=dn.ScrollLink=dn.animateScroll=dn.scrollSpy=dn.Events=dn.scroller=dn.Element=dn.Button=Fm=dn.Link=void 0;var xX=ES,fI=fs(xX),_X=RS,dI=fs(_X),AX=LS,hI=fs(AX),SX=sc,pI=fs(SX),MX=Xd,mI=fs(MX),wX=Wd,gI=fs(wX),CX=u0,yI=fs(CX),EX=Vd,vI=fs(EX),TX=h0,xI=fs(TX),bX=vX,_I=fs(bX);function fs(n){return n&&n.__esModule?n:{default:n}}var Fm=dn.Link=fI.default;dn.Button=dI.default;dn.Element=hI.default;dn.scroller=pI.default;dn.Events=mI.default;dn.scrollSpy=gI.default;dn.animateScroll=yI.default;dn.ScrollLink=vI.default;dn.ScrollElement=xI.default;dn.Helpers=_I.default;dn.default={Link:fI.default,Button:dI.default,Element:hI.default,scroller:pI.default,Events:mI.default,scrollSpy:gI.default,animateScroll:yI.default,ScrollLink:vI.default,ScrollElement:xI.default,Helpers:_I.default};const PX="/assets/logo-a97b03fd.png",BX="/assets/menu-242d80a8.svg",RX="/assets/close-ad0e0ca6.svg",LX="/assets/css-79a7f026.png",IX="/assets/docker-602a695a.png",DX="/assets/html-92b76a73.png",FX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",OX="/assets/reactjs-966214a8.png",kX="/assets/cpge-b87e5cc1.png",NX="/assets/cacib-3915dd1b.png",UX="/assets/efrei-1446fae4.png",zX="/assets/Ecom_shop-9a2e3673.jpg",GX="/assets/Elearning-56055083.jpg",HX="/assets/Trading_bot-12fbcfe9.png",VX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA+CAYAAAB6Kgg+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzxSURBVHgBzVoJcBRVGv66e3ommZA7EQiXuwGisBCu5XTDIYecsoCCWyhbbhVQukrBihwiDAtuiQdQCOuyiqxuLVqAB4LiAUtUbuQIEM5wBEggmck9Z5/7vwYjkGOmMxPWr2pq+njd/b73/vf/3/93c7gHcDgcfNf9qWM5nZup6Xp3jqMt6PsA4a0jfW5spfMaGhkcGhFfD/0gpoor72OB+BKn6/3paXc/T4PO7VahLnUjbu9T3zzlQSOhUYj+2H2teCUl0EGAZSE9YRR0WINcIlO7z2RNWDjhm2ln0AiIKFFd17nPhq9sw8M2mXanE8EWMIdymvQ1ilK2YtzO+SWIICJGdG33qWKzpC4TOZ6bSbtddbJJNBQ6LlLXXmpRwn/c4/A0GRFA2EQdcPBdht03iG40g3r4CN3SgkhAZ+bMfcnpWKV7Kg89umdOFcJAWEQ3D1zdUbRwC8HjUbqVDY0AXYebPPQWlRNeH/f19Bw0EA0i+snDq5MFgX+aCM6jkU/EPQF3jWZ3DSTPu2OyX3DBJEwRXT/AERUflTpC0Lj5tNutlnDR2NDpd4yD9qqF17aM2P58INQLQ+qoA+A7D17ZV+DEmeC5UXQoWLhoVBBbiWx6B8fhjTFfP5NN460HuyYo0S+Hr02XVXUetXyCdu34JUGHj3z7ZkHjl4z+dvr5+prWSXTX2BUJlT7rVJrMWXTHpvhFQ3dyuuDwV3nXP75vlq+2FjWIbnzMYY1y3zdC11g81HvSoSiECSHKguiUJrAl2WGxUfQhm1P9MvxlXvicbtpWEDYocBObI5ymz/cnZO98fNMm9fbTdxD9eNjabhaoy2izO/3C8qZNWieg1aAMxLdPRWzLBFiireCsAnj+5iN1TYcmq1B8MjwFFSg5WYjruy+iMr/0pstpMDiZdPUXimqZM27n1HPVR3/a2DLk7X7gtU/pUCoaCiKR0jkN7SZ2Q0pmC3C8OafMyJecKMT5j47AdayASUqEgWJdl38/9psZe9mO0ZNtI/+eqMrcd+S8OqGBsCVEo9Ofs9C8769ME7wbjHDBd3nIXbsHgXJfQ28Dv0855/e7+045OL+EZwc0hRsUDsnkTml4aOU4pD3067BJMrB7tBzYDllvTUAyWYhZqKoKl8uDklJPe0W2/IEdM4hSHtwLDQDrUPqELuj9yijENItDpBGd2gS9l45C24ldgw4gs3JFUVFOFlBU5EEgcNPBKaramf0bApwsJRYNQPr4TDz4x17gBB6NBYEc2ANP9YTqlXFp68la27C17PHIcLv9NJv6Xec4gf3ztxqatrfkTs2R8WTPRiX5E3h6xoNP9zYc3e1gs+in0MTMtKLCV4PkzUa37oEGwBYfjS4zBxqjfa9giRbRZdZA49kMiqKhjOJwaakXkqQGvd48UQr2nZ7LQkxavKnLdOqYp7ACFXkuVFxw0XYl1IA5oWAnP5BO67Wiwo/iYjd8FINDDUGmk+SUzDQjhIQKiUyqIDsPhT9cgOdGpbHWWFATY2zGYDXt3QbN+vwK9qb1uwnZHcD5bbk4+v5BWoshJy3VME2UiYFQQggb6aL9+ch9Z68xk3dD9kjwFlfBRQLh2o5zaD+5B5r2akMGc+e9WUx1nriOg299h2uHrhj7DYEpokzWMcUTDIwkm8Vjy3cZMq/etqqG8jwnclZmo+O0fmgxoG01WTcN0JF39+Ps5yegBMLTw6aIMu0aymwW/Pc8TpKqCUbydjAFdOzNXWTSVhrQROSQiZ7+9DgVFCREAqaIJmQEl8FsHV74JAdSpR9moZD33L14OxTRgnIS95pSewG/ZZ/7IVAWdHXPJUMENO/RivZFFOy/DFWqfeZD9rrsxk1aJARtd2PvZVReMl+SDQRUChUeOK9WoJS8cl0kGbpP74f+Lw+DlWafxfHMKT2RNX8w7CkxdV4T8owyOcZSrfrAcswbBy6bchiKwlRNAF6vBC3Idc26tSKCQxFLA26hHHfsvycbYSumaRxsRHrMu0/g6Pr9OLXpWI1rQybKkmY+iEDwU/D2XCtHKGCkqqoCRFIKORYKIo/o5Bj6FwzFE51gN/JtkUizO1jjbIhOrL3aEzJRVhkI5ogUipEskQ4GFugraQ0rirmXaAUH8vGvrFUY+8FkxFEyv3HcOsj0zGGUOSWlp2DL0xtQVVD7QN8iypZq/aN6d3yrvVH9p72SjMvOMkiyhkQxih5+76qlIc+oEpCDrj2mdkS7lWb255DArgjICpyVHhSUVVYPp19VEG8ldSSIEELMKZp1aYGH5g1Bwv1JpLMtGL2OCpMk5ONaJRgWN2L1eORuPIaTHx5Gg4kGynxGXGTety5EkdezN4+Dz+U29mUyzWK3BzfKqiCpd8ZUti7LA35U8RLiRBua8Jag9XC2NplnZf+8hYc9KYYGXzO2GWxxUYhKqL2WF3J48ZFcC7b+2APTstKh0syXeXw4VejEFVd5DZK3Q6WOlgV8cEqUhaB+gVF45Co+Gv0Oik/dgJdSs08mf4CN49/D9SPX4KH9rdM24uh7+2u9NnTTpbyPSTIWZupDWlZb7Fr3PS5QLNVMFLf8NBhFPg/aZKQhObYJXKeKanhjncxUomVx8sMjsNpFshwPNJKQZ0hBRSdGG5akBmofLFPKqCz3BlKDaF1bfBT6zhiEgtmb4S33wgxikpug/18Go22/tiT/cnCa1lvpRZdB8Hac/yL3jv28r04HvbepfLTw+7yQxEBG/wyMWTQa9sTQ32CwtqNeHomMARmGY+k0qTuGr5mAblP7GnXhcB20oQAmpY8aRdGjR7DGAcotWTnDHqQQxkJR03ZNkdgyEWXXyuAp8dQrClLvT8XYJY+i45COd8RqW2wU0nq0RvNuLSG5JSpul5lO08jBHdtWvGOLuXyUnsGKy6y8GUw8sPOdR3ZGq8xWOLXzFM7sPAvnRScCnptJs41CUVKbJHQa/htkjsysc/bZoN3XoTkGLRmJ/CEP4PA/96LkTBHMwhRRFg9/3HES9j6tkTkmM6Rr2Kz2m9IPPSf2RGVRZTXR6LhoxDeLrw4NQTtK5pw+JAPO66W4lHsVcYK5N5chEWW61EnxsKC0CgFFwbal29C6W2uDRKgQo0Qkt0lGOCi9Voqdq3fBLfnh5WUkWClucqEV6IIOZ4XPT/GwGJec5QZJBjelUxtf3ET5YwTegoUIySdh84sf07NvihFJU+H0e+GSfZARXDPXSdRHJPKKSnG60IUqf80MI/9QPnas3FFv3hgpsGdsf3U7Lh+6fMdxlrl4FRlFfg8qNcnYrwuG6ZLjqMQtIvR229CkpVT1ZoqmLm/Jjv+wbrex5obPGU4BvHHe9ge8AXy17Csc+OhgnX3RbslJD5lzrCiSfrZWv+zneRhmd5Oorh9gjV1uL/JLKkijhlbrYapk/38OoOh8MSa8Nh5JLZMQSZReLcWmFzfXmMm6IJM5l5IyqhQkpIjRsNL6FQT+BDtnrOQhaf1c+S73+MLyqkStAeXEcsoBj289jpT7k+mXEvYbNY3077HPc7Dh2Q1wXnDCLNikucmkid01kbM+/0XRt57qHv2ts2OMxyt/qOpagz/IMN6u9U5H/+lZSO+VTvUcc4SZhVw8cAnZ/8jGxX0Xw3oRLHCcN9pmm7Qgd9FWo2+3n3yts6ObW1KWS7KahTBFVzzVcToM7YB2We3R/IFmhkCwWH+uUjCFw7w2W+PXT9/Aue/PIW/3ebjyS8J6tU8Cw2Ph+X2iyL2wMHdJ9ZdmNcg4OjisFk4bH5C0xWTz7RABWKmolkCvH2JTY414ysDCRRVlGxWUEbHtcEEEFRrDM1GCZVWUNXbD7OOz7/j2t85ZW9ZvWWygzDvfL8vP0rpt0PvTewWyEo+NCMbZrGtm5SwoqLVNsJu80sHRRdKUJZKiPUJrJjJfbkYI1HnVKgo7Y0Vu/gsnlhwO0jY4Nj62UTide3IAVQ7mSLIyGLiHVa3aoduIoM1qXTAv5+WD7Bv9YBeY6vCqXoviKqu4SQFFni2rWlv8HyDw3EWbaF2RICW983xehD96vBtv/nZpK7dbek5S1D9RzSeyKqEOULgot4qW9TY7v3LuYccVmERYJri4w8KHVVWfoajqMArSjaIBqYOaKAr77LaouXNzFuxGAxHWlxaLTv11J/+EMDZOtA+xWoQ9iDCsAr/fbrMN4SdZssIhyRAxp7K8z/JoT0X5M35ZnUvmnIIwYOGFS6KFf1238+87DjvMVdjqQMS95/LMpS2qJGkRVSOeJHM29WUoz3NVosC9b+PFt492zD276a4vNMNBo4WJZV2X9vB4/W9QJvQ7PcgSoQKWZrHw2QJvWQw7fozULN75jEbGa5lLhrp90gpJVTrUdt5q4c/YBeusuacWbUcj4p4EfqafrRw3hcjOp3JMG/YNPDmas4KFX6Gm8usd2Y5Gr8n8D6ksoadASMTvAAAAAElFTkSuQmCC",WX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAArDSURBVHgBtVp9jBVXFT933uzu2w8XdgsUWqhSoCUuWxAI2piGxQaarmhUyKbWxqTRoqKtYBuDMZqVVKtBixCbtLbW9I8mGgqtjYKmpSzQpVYKNBSKdiulfC4Ulo/dtx/vzZzjufN5Z97Me7Pz1rOZfffOvTNzfvd3zrnn3hkBYyRtnbuyUAOTa3VsJaA7wMCZfHqqSXg9IDZyuZaIqoEQkaBAJuYIoI/rFxHgLKBxDAXsNHP05hsbO4ZgjERAhdLWSXp9fdc9BLgKiOYTQT0D4RaSWECW3QOUcrBu90PrAjghkJ66ao48cfjXX89BhVIRwDt/9+p12WHtWVZqOaurSf0sYK7iTJX8s4C4YL06eXXrOvLraKIcodcKlLlv/4aOXqhANEgrRCI7pP2c9fkiK6VJFvjcIP9cYkULLjNgAQsy6bOGPlBlUEAOPNGdOhW2Lfruc9dBBZKBlLKsYdkkTZibGVU92OZ2WBPG9wEzG5iRd7m+kLs1WMZqNdtm65ulVQueg1AfwGkikxmcWXNb94kTXQgpRIeUkoHhOYLEJMeVBhDNh3f86O5X7VY6tnT99mHS4BlWNAOuTyq+FwZGkXU2ADDu7Z834/fQBecghaQ2UU3DT7imxsGh79qFa91+q2ASR/bxv0EoMs3iA0oFIIRZJg1NhZSSGiAWtHpFmdrmCXUz1HZCneuUpdjIGV9Xz/GTRLWpN0NKSW2ixPYpHDPiY0IBtM67Hvv7uovNEz4cf+70LA4Tv+LRr1KVhhCoZGAtM01NRGqAAKYMpK6/8HQjVpiGubSp99wV0rRxrNs4bz5U/S/kb7ZvguuS9ngVsZhe0gM0LRa9MO9o2Mj/G8mKd8WMeIqHA44yjUBEEiBMSC3pfRDQU9aLkBBfhxJslmO3AnzpGeSR2W8SPSYncosw6xdtG3PLUsgt8a8JVey4j9gToMKsc0/f7fxBsk4YBqSVinPR0ciCVU/VZZsac6XyUVlHDM2beaP90NOrd0AKiWRweefLdUZDXYuGQqZhLXxqHPua5iTE9sOlEibauaPrR47vkVNHOwS6WYkEocVHTfAtGYJ+K1mgy2vGw7D2PHNSF1BWQIGP96BgPg83bvynEIKCzSFp/+UrrULXN/KN2/i2GS8/dH0KMRgs4pLmslNBqZVG8D7CwPaDP37vbajNHOPHjCumxBrQAnd+Fsyza8W0LUORDC7/zWvtBNoz3HlKwAeKgoEbzoM5phrq7U4KeKLIOoTAwainCNlfhnSqArlkExPlZavtSVqJoss3751LpG3ljlO80O8+qKjurhAw0O6eK1pBICn9sWidGMt2EmBoWu5ggzQZFt4Ppx/4ktvLAnjbhn/UsyM/7aVW4TksHLpj2YVodiEFu2XBoX2AAxDcOtbw8W16a1WdB/AmLbuYL1mYxGQCOjsgAmBj6qRcFJgjVX/2o0wMLgWYCorM8LnPwqT8Ag8gj8LX+KFCBRFlMv65oIlCiQARZ35xPhnJnq4XoL5a8CJFc0wxCIoUoLbJ1nNoX2xduozNk11kXjklIQAujl3XFEuDA4qPrsUiCgUhzkAhz9HTtBfXnjmS8mtCsA1vp7cWVGmZmuomRnuz79iKvxAE/YXITUKiTTQCBIwCbLRV0jsDk/QPmL0lrLSmAIhgUDkQW2DSrIkaDhpzuXcWINpninwIFX8ZRY4ZBOL7sucO0fBkDrHpROf9w7wAvSfSJEHxwSD4m8CgiXpGg095mz8QMtEwwPDowyh9LcCaYurxsrWKxAt0dvVXmJE7nLQoaJ4BYEobL5TBpFt1zvtmgDvmil26od6zSYphN8Tm6NmNEAEG6/zHfGFo3dH1PdPYah6PBBIA5bKq+iFM1bm92TH2ZP6igA3/km3CV/jEYCBQQZTJSyAKQOuUdokLhxngC/nJzTuOPvDOHI6KT3LrxwM+FwBFEAtewBRO1aL3TZKbGknz/pDX9L8lGNmTydT2GiPSKeSOZM5PlTjrzQmlYh3qcjQHdZd1o+8jHOj54TYTZt3yPdb5QVZ8us9KCFgUaLWM2KRz0XQdvRSIGHb7mbEnThr6+lOP9yKcPH4jZKvmABkTQGjll2KmDBKms6K1ys2giXmAty7lm08rC6CUydpHtc554YDtb4oPqSAgDqz1EmXtGxvu/QOdWtsK58XPoCazzJpkJTMlY4dzH2FPSZBxfklzImMUU85vUvasvmZORzLPC8tUFDAQHQzcgbD74C9q6m54jnof+RzfbCtrOx4SCZVnJABADRolzBSifJPOyyDzrgVEeVEC6hovms2eC0OXHu15+EArR+Pk4CJBpACT1GQ5Nugg8JC10JZbf+GoR9GhXgBu7tncV2Cz7OTGBOD+T6yVjqhS0WOaYWROEJpXS08R4Ninpa2BgnbDuX4OArAEykrA6UOgYo6odAww2X38QToDYrBHmwi5PgZwvPQUoa4esDdn4nlm/tN8t4+VxoYQzPrVVYBZvg2TXqeU3QUw4m6Y3X5Z29LZkeeF0o6kUwT/G8gO8Z2Edn1p1kJKQZySTtljTWmDBIMQ6OflpgZoxl+E6ERrpjXB3MaKX/XxxJuorGWqa2VJxLOW0KwCphi1vlNBO/2SrCbkLhsZe6U6FsC9nSsOMpDuQE6pTBcQTMX43LUY1hRl1dU2RJgURJgbhMslTDHMnjtN2Iq8BC37z8uK7qtHaxjFZxhIc/GKARVmI/YaS0czv62o7PSNjJ4J+5EHzAVylDFvKtpV2/Poyh6Oq6s4QTlNik26JupP/hjPWpRZFbEWYhjC+ykxvhm4j8qgmjKJAf73AzF33wX3TODly+S5+BJl8KsgxIs8jYxEryBCzEX6StEmUFDxWN+MXLhGDBj6etnCQY/2MJovi9buV1RMgY3fLR0d8umvL1j18sFs08B0MukWzocb5ctOK/yCZZ5Xrp5uHLASZUEJTA0Vk6U8179lKYu2XragU3euM5Wyl4yj3x+dQdKkSWWGOd69z+9IT4r5ez+CkKR++UJnHnyIH7IpkX/4bAzBuP7JMFrZ2ZATHVtSvUWr4A2vakIJ0yygGrhce8juo+6ChQcFnWjt1Fv7v8GVLkgh6QFi2ERLRUG3LNdDeDN4eR8Wg3RzYOGck88oGLWQUipjkBKwNppVQNQAVSgVMMgPF2aMeSY0WY81HOHK3ziKHuHKIm5fzPXUrKlS0VcW8aM+Ct+Ur5o0+inM3rVBTs70QVsWcvxqHGANjIGk/xgP5QtHdX5zy+FVQKitaNLGk+zPL7qZh5jeNcxj92ToaQVIKekZzBSOevPVaFkLmrH8SHYkcO9qjiymM4kTz515cRpSSnoGRwrH+On/LspIirKTsucm89LrPto+s8bG06YzuO94zxFiH0D+v5BSKvrKgt7v4Dep+CcO6TVKtgKBnbFyybQtg1z+K+iZf4GJbVz/vETGHfpAFyvF7O5dkFIq/oyEjq/8JpjGRla8oXgawBJRlsrcGC7w3vFD4pPdf4YKZEy+k6H/fOFuZnEdK347A6hKyFqcRnnutpsJ/Iloef1NqFDG7EMgOnJXM2TFYt6SWsGg2hlUU+TEHi9n+bqdHBW2wtDIdrHwQOrIqcqYf+kk36pCQ/NEoMJ8BtXCQBdxXjmLU64beA9VfuMiv2fp5y36U1w+wucPsBpvQy7fA7n6i2JJV/rvtiLkf/Vuk1k3FJveAAAAAElFTkSuQmCC",jX="/assets/java-714321be.png",JX="/assets/postgresql-d882cfc0.png",XX="/assets/mysql-d078df92.png",KX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAp7SURBVHgB1VoLcFTlFT7nv7ubRDCNUq3FVqEKWq2iYqUYkt0UDSp5KK2OVqbaYVSQ3RAdtVi1BnG0UlHyQsRqZ0TaEUvo7gYKorAbxFQKitZStR0faBFUClUeye7e//S7mwch2d3sbhayfjN37r3/Pf/j+x/nP/85l+kIwLPc9R1x6EI8nslCJcQ0komPE6Jju2SERJjoKyLeLiIfkaZWYXOTaldb66/Z8DllGEwZQtWLxaOkjaeKkoksXEjpIyJC60l0U26u2fTopFc/owxgwERn+EqcNtb34tGFy0aZxX5WsqT9ID325E9b/kUDQNpEPb4iJ7F6GI/j6SgAS+C5kMn3Lboq8GEiObdv/JkNFa3v9E5XlCI8q4pOcPucS0Sp1XSUSFrAgp5qN2Rzla/4wURybDhqZ3iLzu2dnhLRGc2uSyjCWxmVoodz6WiDaZgw3+PxF787fYVrRO/Ptza5JkCplRrM1/X+ljRRj995p01kLTEPp0EHj7bZpHXWSuelPVMNhzyEzniTlCqBWj9sWfZLFBqQPX5XAx7nURYBLE7SmlZ5ml3V1rvH56zC7Vui5SoWff5t/sKzesonJgqSs5qdT+NhJmUnbBiJx91e50NiDYQWT0NFywdY0G+FyebsKZiQaJW/eB4K+AVlOVjR3bjm11e0vGi9axEvk5T1lIlL1O133oWFfwd9DSCa19SXBe/teldKXoQu+fEda0qHdKfFymgtcqyBh+jrAJY1YhrXk7XQOtG+48AbuO04GDr4o660PkSnN5WeiEX+FB4NynawLG3X+6c0Tnl5d8/kxbdsCUOJroUpellXWh+Tze5ofwR9cyplN6zRq6+bHKxmZoklYLBs1ELW0rvTej9sRKNmHdENlMUAq/+YRJX15cFZ8UhGoe1roGNG3eUtjJ6Yek1d9dveG22W4ZlcR/iCheVBf3+CtZUv7wKRXV+RUWK9d09dt7ekkFj/kLIM0XOrdWxj29315es2UWr4G6awC3ffoTXK5gOUVYMpGlvE8yRqcV15IAj7WlIvgjZgk51kPUaZVTcXf98U3kaDj89E601iGEvtYVq94KrAXhoAPP6ii0D0lWFDOD86oqbma4/EYGIIBEpgN1T9//D4JUYId7hPhPbBfXIAde6BRbMTJtt7kuPY0lC6dgdlEA4x3g+R2HfsphFRoqisQlKfGH2AM2Mba9qKPvuDJvo324z3cvOHfjZvgu8rGgTMrwh8gVPXXkeOHmObuXLCaKyG82gAwPp5Wwv/7piC/GcGg9Sty1xDF14T2BfzI9M2GL/DbRQ2zk7XBsIkeN8gmVNb1rKEiDIwJ9KDI9ccjdvrsb5hhr0trM5RinV67hBFz0qe7aLa8pZnaRBJLlt2taENdXa870J6JxT2GBvYjktZDwk9UHdFsCYtlZ9hbBy663qcXj6IK6DVblJyvEJjv0spAI7oOfUVwfuzgaR1DNMRNaV+cvCVeDJiQMsz5avUfECyFJt3DWUJQqE2GOy6lRJ1ukg7hmeI5YrIoeTwsTFUuSlL4PEWnw+zvCpPIolPWsJhHOfsSXsBMWUfWVAyMEslU7DOzJiJTSzy5LzKjYm3MwWbRZJ3d36CKdtIWQKHvf1p9PwQM9L2aH+yLCrPMmRsEjVo+jMA5UnKEsDSsRx2ZVrLtMYpm3b3J6+VWcBa7VU4Au3rt3TDsZKyAG5f8T3U4TF4qaEi+Ptk8ijhYTif71SYvAl7BUO9vf6Kl96gQYbbX4wtjR9Egz4NR/imhN6FnmA5DXb8LixUeS+RHHykH9IgojNSMBfKsKYz5d7+ImqHQatC+D9fx/ZC69BLpfHk0HODpmmrV7gKqpoFJqaUR9sCY6WuLPhMsvlvXek6CSN1CoXNN2xQvv9MOAlEDtIgwNNUMkbb9PN4PMN6x0x9GiRrUiiCbFpfYLnAWPH7yjDtryUSFsUOOsqY6S2aQXYdkC6SxH96a7OaTikC+W+Bz2lHXUXLVmV5y/CyJoH0SDpK8PhLxmD7aFFKLcRrQTSReakYn0wN1AQiKRRFN/vGHoPbJVCmqy27vMM5pnkdtO+kmDksotHxP3JG/MymicPYFp5NYt4OYt1GDCqtrSsLVFMasPNQKwIIsuafO8rqrEjZIx/hcUisTHCLTGksD66gDGPa6vHH54Xst0PhWY0q6PHJBOFf1pcF5lMasH4/IFO9BnYKwacRVlp0RK3YhcfrXI5R/XmsjErkWtwyQrRmvSv38z1SxDa6jkM0FY2x9/wOp9l2rfjGhWWB9ZQuIuS2/m2CzXdfV1K36edZNfEsMiP/iJeXTSmsu7LlVUoDN28ea7fvyJuEDr4cGvAKLIIRMQVhpLc7ZM7iyzZ8SmlilnfiuaYKb0WAKaKN8KjGya9+FG1/TyF3s+uP3DF6fcH09xx7+JJkfnC6vO70nNNOGz6aIlLIhvoJyhyHZX5s/Bz8Nnpydn3ZhgGZmtXLi75tOoxW9NipULC/aShvubvr2+HRNE1zQMgKtRX0KUXonLZ22wvTmy6+etGUPmTZ4yu+FNrqAiiQc2F2TYaCyyfFHc7deGcGoXeVoroFk9c/kbRJF4/kCtcI0yZ+iySu7aIiiw5rYO8MVT7XbAQ7Ho5botCHWLRz4SJtQ+4iEDsPvXcW7vmUDAQriGktpumCnW1fBF64ZluIBoiqFRPGwrv/QnRdkjVe7G7sdazkGA1hz0rnJtwvpAzB+rkRSgb7I60IkW56ouyVPZQBWCYiRnEO2jqjh1J7CSHFS3vL2mK0SkwvX2coeZOi+1BnstBzJstfcey5EDI3Ur+QL6EQfIhRrjbDxureUemBwO0tHK4M42c4cFh77Mldw4UDwMcRk2+KlSfugXtWc0mFFt1EVvBY06/rKoNzu75VNTvvQ6EPxCjsv0hvUoYsOWju37y4YssBygA8q07P4bYTR2mb4zImXYaaLu69LWHfbYPyK62/MrghVhkJPQvula7prOUJ0ZGTGyo3dgeAOrSbOhQQEvqAlazTml+H/vkGenoIpqrqqF9F4ETGulRhFTFDYnAI6zkEX2wIbvQwW3MFklpH/xmyI38uK3WsqfU3sYOfAn/s+RCxHGBx/xyNekk03VJfGXwqnkzC304bJgcWVfmdxylHLiqlbmJmHh0H24V6dNdIhGunwaacJlFyHL0Ofe606mxGd89yNAxyyGWlOrqlq+F4V4doJEBnxO6OugQkD68pDurKgw+z2b7vtmXj86x3D/ZIiqjZlAUAyTYldAPa+Fh/sklHI2Z5C8+IsJoJ30s5co2gwcfOThu8NRnhpP26tZUb37XbjcdAMiO/fg8EON/4WSLjkiUZzUNpoKrZdQ+UjeW1P4mOLvZivt6P2E8dpYi0A/rVf4HJZcqvUPFNdMQBO4y4oV147mJEsSkNDPjPBbevdKRw+wxsEjdA0Z5ImYTQHmwtjQ5RtfPTJNiFjP2iEXVL+oquR7y1HF5xHAyStH37tmi/mLQcBpp3WL7y1ZSk5kKJX+wRgLUF8fdOGStaj8ZOPg6m4A8w2ifg0zCMUg4ODQC3ofL9lkManfSaIr1NbDlbbAX733n84taMex7/D/npDicwGUsUAAAAAElFTkSuQmCC",YX="/assets/kub-432d444a.png",QX="/assets/c-5c6bfa4f.png",ZX="/assets/frontend-08ab554f.png",qX="/assets/backend-4e1cb241.png",$X="/assets/devops-41494cfa.png",eK="/assets/analytics-811660ad.png",$b=[{id:"about",title:"About"},{id:"education",title:"Education"},{id:"Experience",title:"Experience"},{id:"contact",title:"Contact"}],BK=[{title:"FrontEnd Developer",icon:ZX},{title:"BackEnd Developer",icon:qX},{title:"Devops Engineer",icon:$X},{title:"Data Analyst",icon:eK}],RK=[{name:"HTML 5",icon:DX},{name:"CSS 3",icon:LX},{name:"JavaScript",icon:FX},{name:"React JS",icon:OX},{name:"python",icon:WX},{name:"Java",icon:jX},{name:"Spring",icon:KX},{name:"C",icon:QX},{name:"Csharp",icon:VX},{name:"PostgreSQL",icon:JX},{name:"mysql",icon:XX},{name:"docker",icon:IX},{name:"Kubernetes",icon:YX}],LK=[{title:"IT Business Analyst",company_name:"Credit Agricole CIB, Paris",icon:NX,iconBg:"#383E56",date:"September 2022 - August 2025",points:["Built IT projects in Agile environments","Built IT projects in Agile environments","Documented business requirements through Story Maps and User Stories","Wrote and executed functional test senarios","Provided support to development teams"]}],IK=[{title:"Software Engineering",school:"EFREI, Paris",icon:UX,iconBg:"#383E56",date:"September 2022 - August 2025",points:["Web & Software Development : Java, C++, Python, Spring Boot, and React","Technologies : .NET (C#), JEE, XML, JSON, MySQL, and PostgreSQL","Big Data and AI : Machine Learning, Hadoop, and TensorFlow","Cloud Computing & DevOps : AWS, Azure, CI/CD pipelines, Ansible, and Terraform","Linux Administration","Cyber-security : Cryptography, and system security","Android App development : Kotlin"]},{title:"CPGE TSI",school:"Lyce du Hainaut, Valenciennes",icon:kX,iconBg:"#4A90E2",date:"September 2020 - August 2022",points:["Specialization : Industrial Technologies and Sciences ","Core Subjects : Mathematics, Physics, and Engineering Sciences","Practical Skills : Mechanics, Electronics, and Computer Programming","Projects : Multidisciplinary engineering challenges and problem-solving","Key Competencies : Analytical thinking, problem-solving, and time management"]}],DK=[{name:"Ecommerce Shop",description:"Web-based platform that allows users to search, book, and manage car rentals from various providers, providing a convenient and efficient solution for transportation needs.",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:zX,source_code_link:"https://github.com/"},{name:"E Learning Platefrom",description:"Web application that enables users to search for job openings, view estimated salary ranges for positions, and locate available jobs based on their current location.",tags:[{name:"react",color:"blue-text-gradient"},{name:"restapi",color:"green-text-gradient"},{name:"scss",color:"pink-text-gradient"}],image:GX,source_code_link:"https://github.com/"},{name:"Trading Bot",description:"A comprehensive travel booking platform that allows users to book flights, hotels, and rental cars, and offers curated recommendations for popular destinations.",tags:[{name:"nextjs",color:"blue-text-gradient"},{name:"supabase",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:HX,source_code_link:"https://github.com/"}];class Rs{constructor(e,t={}){if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.reverse=this.settings.reverse?-1:1,this.resetToStart=Rs.isSettingTrue(this.settings["reset-to-start"]),this.glare=Rs.isSettingTrue(this.settings.glare),this.glarePrerender=Rs.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=Rs.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=Rs.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.resetToStart===!1&&(this.settings.startX=0,this.settings.startY=0)}static isSettingTrue(e){return e===""||e===!0||e===1}getElementListener(){if(this.fullPageListening)return window.document;if(typeof this.settings["mouse-event-element"]=="string"){const e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(e){if(e.gamma===null||e.beta===null)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,this.gammazero===null?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);const t=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,r=t/this.width,s=i/this.height,o=e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero),a=e.beta-(this.settings.gyroscopeMinAngleY+this.betazero),l=o/r,c=a/s;this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event={clientX:l+this.left,clientY:c+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(e){this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}getValues(){let e,t;this.fullPageListening?(e=this.event.clientX/this.clientWidth,t=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1);let i=(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),r=(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),s=Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI);return{tiltX:i,tiltY:r,percentageX:e*100,percentageY:t*100,angle:s}}updateElementPosition(){let e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){let e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:e.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${e.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${e.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){const e=document.createElement("div");e.classList.add("js-tilt-glare");const t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),!this.glarePrerender&&(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}updateGlareSize(){if(this.glare){const e=(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight)*2;Object.assign(this.glareElement.style,{width:`${e}px`,height:`${e}px`})}}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(e){let t={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var r in t)if(r in e)i[r]=e[r];else if(this.element.hasAttribute("data-tilt-"+r)){let s=this.element.getAttribute("data-tilt-"+r);try{i[r]=JSON.parse(s)}catch{i[r]=s}}else i[r]=t[r];return i}static init(e,t){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(i=>{"vanillaTilt"in i||(i.vanillaTilt=new Rs(i,t))})}}typeof document<"u"&&(window.VanillaTilt=Rs,Rs.init(document.querySelectorAll("[data-tilt]")));const tK=()=>{const[n,e]=H.useState(""),[t,i]=H.useState(!1),[r,s]=H.useState(!1);return H.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[]),et("nav",{className:`${Im.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:Un("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Un(Fm,{to:"home",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},smooth:!0,duration:100,children:[et("img",{src:PX,alt:"logo",className:"w-11 max-h-11 object-contain"}),et("p",{className:"text-white text-[20px] font-bold cursor-pointer flex ",children:"Zakaria BELHFID"})]}),et("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:$b.map(o=>et("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:et(Fm,{to:o.id,smooth:!0,duration:500,offset:-70,children:o.title})},o.id))}),Un("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[et("img",{src:t?RX:BX,alt:"menu",className:"w-[24px] h-[24px] object-contain",onClick:()=>i(!t)}),et("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:et("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:$b.map(o=>et("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:et(Fm,{to:o.id,smooth:!0,duration:500,offset:-70,children:o.title})},o.id))})})]})]})})};var DS={},Ag={},nK={get exports(){return Ag},set exports(n){Ag=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(nK);DS.__esModule=!0;DS.default=void 0;var iK=FS(H),xo=FS(Yo),rK=FS(Ag);function FS(n){return n&&n.__esModule?n:{default:n}}const AI=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),iK.default.createElement("div",{className:(0,rK.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));AI.propTypes={children:xo.default.oneOfType([xo.default.arrayOf(xo.default.node),xo.default.node]).isRequired,className:xo.default.string,animate:xo.default.bool,layout:xo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:xo.default.string};var sK=AI;DS.default=sK;var OS={};function f1(){return f1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},f1.apply(this,arguments)}function oK(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,d1(n,e)}function d1(n,e){return d1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},d1(n,e)}function aK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var h1=new Map,lm=new WeakMap,e2=0,SI=void 0;function lK(n){SI=n}function uK(n){return n?(lm.has(n)||(e2+=1,lm.set(n,e2.toString())),lm.get(n)):"0"}function cK(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?uK(n.root):n[e])}).toString()}function fK(n){var e=cK(n),t=h1.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(d){d(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},h1.set(e,t)}return t}function kS(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=SI),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=fK(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),h1.delete(o))}}var dK=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function t2(n){return typeof n.children!="function"}var Sg=function(n){oK(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),t2(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,d=r.fallbackInView;this._unobserveCb=kS(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!t2(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,d=aK(a,dK);return H.createElement(c||"div",f1({ref:this.handleNode},d),l)},e}(H.Component);Sg.displayName="InView";Sg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function hK(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,d=e.fallbackInView,h=H.useRef(),p=H.useState({inView:!!c}),m=p[0],y=p[1],v=H.useCallback(function(_){h.current!==void 0&&(h.current(),h.current=void 0),!l&&_&&(h.current=kS(_,function(S,M){y({inView:S,entry:M}),M.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);H.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!c})});var x=[v,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const pK=Object.freeze(Object.defineProperty({__proto__:null,InView:Sg,default:Sg,defaultFallbackInView:lK,observe:kS,useInView:hK},Symbol.toStringTag,{value:"Module"})),mK=gD(pK);OS.__esModule=!0;OS.default=void 0;var _o=NS(H),Kt=NS(Yo),um=NS(Ag),gK=mK;function NS(n){return n&&n.__esModule?n:{default:n}}const MI=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>_o.default.createElement(gK.InView,v,({inView:_,ref:S})=>_o.default.createElement("div",{ref:S,id:h,className:(0,um.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},_o.default.createElement(_o.default.Fragment,null,_o.default.createElement("span",{style:d,onClick:l,className:(0,um.default)(a,"vertical-timeline-element-icon",{"bounce-in":_||x,"is-hidden":!(_||x)})},o),_o.default.createElement("div",{style:i,onClick:c,className:(0,um.default)(y,"vertical-timeline-element-content",{"bounce-in":_||x,"is-hidden":!(_||x)})},_o.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,_o.default.createElement("span",{className:(0,um.default)(s,"vertical-timeline-element-date")},r)))));MI.propTypes={children:Kt.default.oneOfType([Kt.default.arrayOf(Kt.default.node),Kt.default.node]),className:Kt.default.string,contentArrowStyle:Kt.default.shape({}),contentStyle:Kt.default.shape({}),date:Kt.default.node,dateClassName:Kt.default.string,icon:Kt.default.element,iconClassName:Kt.default.string,iconStyle:Kt.default.shape({}),iconOnClick:Kt.default.func,onTimelineElementClick:Kt.default.func,id:Kt.default.string,position:Kt.default.string,style:Kt.default.shape({}),textClassName:Kt.default.string,visible:Kt.default.bool,intersectionObserverProps:Kt.default.shape({root:Kt.default.object,rootMargin:Kt.default.string,threshold:Kt.default.number,triggerOnce:Kt.default.bool})};var yK=MI;OS.default=yK;const vK=us.lazy(()=>Qu(()=>import("./About-705bb295.js"),["assets/About-705bb295.js","assets/Tilt-fee78cc7.js","assets/SectionWrapper-c45e67c3.js"])),xK=us.lazy(()=>Qu(()=>import("./Contact-45ccf594.js"),["assets/Contact-45ccf594.js","assets/SectionWrapper-c45e67c3.js"])),_K=us.lazy(()=>Qu(()=>import("./Experience-841f1804.js"),["assets/Experience-841f1804.js","assets/index-d5d13708.js","assets/SectionWrapper-c45e67c3.js"])),AK=us.lazy(()=>Qu(()=>import("./Tech-e32749cd.js"),["assets/Tech-e32749cd.js","assets/SectionWrapper-c45e67c3.js"])),SK=us.lazy(()=>Qu(()=>import("./Works-c847ce6a.js"),["assets/Works-c847ce6a.js","assets/SectionWrapper-c45e67c3.js","assets/Tilt-fee78cc7.js"])),MK=us.lazy(()=>Qu(()=>import("./Education-865801c3.js"),["assets/Education-865801c3.js","assets/index-d5d13708.js","assets/SectionWrapper-c45e67c3.js"])),wK=()=>et(fk,{children:Un("div",{className:"relative z-0 bg-primary",children:[Un("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[et(tK,{}),et(Pj,{})]}),Un(H.Suspense,{fallback:et("div",{children:"Loading..."}),children:[et(vK,{}),et(y8,{}),et(MK,{}),et(_K,{}),et(AK,{}),et(SK,{}),et("div",{className:"relative z-0",children:et(xK,{})})]})]})});tx.createRoot(document.getElementById("root")).render(et(us.StrictMode,{children:et(wK,{})}));export{lt as B,L3 as C,vd as E,CK as F,rt as M,t8 as O,H3 as P,e3 as T,D as V,Nr as _,et as a,BK as b,h8 as c,We as d,LK as e,ur as f,Nd as g,zn as h,Zp as i,Un as j,Pt as k,kd as l,bj as m,pR as n,D3 as o,DK as p,Rs as q,H as r,Im as s,RK as t,eS as u,IK as v,DS as w,OS as x};
