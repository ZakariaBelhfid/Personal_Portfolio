/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var d;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(d||(d={}));const m="popstate";function j(e){e===void 0&&(e={});function t(n,i){let{pathname:p,search:s,hash:c}=n.location;return P("",{pathname:p,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:O(i)}return I(t,r,null,e)}function b(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B(){return Math.random().toString(36).substr(2,8)}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,r,n){return r===void 0&&(r=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?C(t):t,{state:r,key:t&&t.key||n||B()})}function O(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function C(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function I(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:p=!1}=n,s=i.history,c=d.Pop,u=null,f=g();f==null&&(f=0,s.replaceState(w({},s.state,{idx:f}),""));function g(){return(s.state||{idx:null}).idx}function v(){c=d.Pop;let a=g(),o=a==null?null:a-f;f=a,u&&u({action:c,location:h.location,delta:o})}function A(a,o){c=d.Push;let l=P(h.location,a,o);r&&r(l,a),f=g()+1;let x=L(l,f),y=h.createHref(l);try{s.pushState(x,"",y)}catch{i.location.assign(y)}p&&u&&u({action:c,location:h.location,delta:1})}function H(a,o){c=d.Replace;let l=P(h.location,a,o);r&&r(l,a),f=g();let x=L(l,f),y=h.createHref(l);s.replaceState(x,"",y),p&&u&&u({action:c,location:h.location,delta:0})}function S(a){let o=i.location.origin!=="null"?i.location.origin:i.location.href,l=typeof a=="string"?a:O(a);return b(o,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,o)}let h={get action(){return c},get location(){return e(i,s)},listen(a){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m,v),u=a,()=>{i.removeEventListener(m,v),u=null}},createHref(a){return t(i,a)},createURL:S,encodeLocation(a){let o=S(a);return{pathname:o.pathname,search:o.search,hash:o.hash}},push:A,replace:H,go(a){return s.go(a)}};return h}var E;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(E||(E={}));function k(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const U=["post","put","patch","delete"];[...U];export{d as A,j as c,b as i,C as p,k as s};
